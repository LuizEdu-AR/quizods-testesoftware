(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var tm={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function cT(){if(s_)return Ml;s_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var a_;function hT(){return a_||(a_=1,tm.exports=cT()),tm.exports}var w=hT(),nm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function dT(){if(r_)return Oe;r_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function M(x,ne,ce){this.props=x,this.context=ne,this.refs=J,this.updater=ce||U}M.prototype.isReactComponent={},M.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function te(){}te.prototype=M.prototype;function Y(x,ne,ce){this.props=x,this.context=ne,this.refs=J,this.updater=ce||U}var se=Y.prototype=new te;se.constructor=Y,X(se,M.prototype),se.isPureReactComponent=!0;var me=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function O(x,ne,ce,le,ye,Me){return ce=Me.ref,{$$typeof:s,type:x,key:ne,ref:ce!==void 0?ce:null,props:Me}}function C(x,ne){return O(x.type,ne,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function P(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ce){return ne[ce]})}var N=/\/+/g;function k(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):ne.toString(36)}function b(){}function ae(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(b,b):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function he(x,ne,ce,le,ye){var Me=typeof x;(Me==="undefined"||Me==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(Me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case s:case e:we=!0;break;case E:return we=x._init,he(we(x._payload),ne,ce,le,ye)}}if(we)return ye=ye(x),we=le===""?"."+k(x,0):le,me(ye)?(ce="",we!=null&&(ce=we.replace(N,"$&/")+"/"),he(ye,ne,ce,"",function(Mn){return Mn})):ye!=null&&(I(ye)&&(ye=C(ye,ce+(ye.key==null||x&&x.key===ye.key?"":(""+ye.key).replace(N,"$&/")+"/")+we)),ne.push(ye)),1;we=0;var Mt=le===""?".":le+":";if(me(x))for(var Ke=0;Ke<x.length;Ke++)le=x[Ke],Me=Mt+k(le,Ke),we+=he(le,ne,ce,Me,ye);else if(Ke=R(x),typeof Ke=="function")for(x=Ke.call(x),Ke=0;!(le=x.next()).done;)le=le.value,Me=Mt+k(le,Ke++),we+=he(le,ne,ce,Me,ye);else if(Me==="object"){if(typeof x.then=="function")return he(ae(x),ne,ce,le,ye);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function H(x,ne,ce){if(x==null)return x;var le=[],ye=0;return he(x,le,"","",function(Me){return ne.call(ce,Me,ye++)}),le}function K(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(ce){(x._status===0||x._status===-1)&&(x._status=1,x._result=ce)},function(ce){(x._status===0||x._status===-1)&&(x._status=2,x._result=ce)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ce(){}return Oe.Children={map:H,forEach:function(x,ne,ce){H(x,function(){ne.apply(this,arguments)},ce)},count:function(x){var ne=0;return H(x,function(){ne++}),ne},toArray:function(x){return H(x,function(ne){return ne})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Oe.Component=M,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=a,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ue.H.useMemoCache(x)}},Oe.cache=function(x){return function(){return x.apply(null,arguments)}},Oe.cloneElement=function(x,ne,ce){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=X({},x.props),ye=x.key,Me=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Me=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!Te.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(le[we]=ne[we]);var we=arguments.length-2;if(we===1)le.children=ce;else if(1<we){for(var Mt=Array(we),Ke=0;Ke<we;Ke++)Mt[Ke]=arguments[Ke+2];le.children=Mt}return O(x.type,ye,void 0,void 0,Me,le)},Oe.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Oe.createElement=function(x,ne,ce){var le,ye={},Me=null;if(ne!=null)for(le in ne.key!==void 0&&(Me=""+ne.key),ne)Te.call(ne,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=ne[le]);var we=arguments.length-2;if(we===1)ye.children=ce;else if(1<we){for(var Mt=Array(we),Ke=0;Ke<we;Ke++)Mt[Ke]=arguments[Ke+2];ye.children=Mt}if(x&&x.defaultProps)for(le in we=x.defaultProps,we)ye[le]===void 0&&(ye[le]=we[le]);return O(x,Me,void 0,void 0,null,ye)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(x){return{$$typeof:m,render:x}},Oe.isValidElement=I,Oe.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:K}},Oe.memo=function(x,ne){return{$$typeof:y,type:x,compare:ne===void 0?null:ne}},Oe.startTransition=function(x){var ne=ue.T,ce={};ue.T=ce;try{var le=x(),ye=ue.S;ye!==null&&ye(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ce,oe)}catch(Me){oe(Me)}finally{ue.T=ne}},Oe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Oe.use=function(x){return ue.H.use(x)},Oe.useActionState=function(x,ne,ce){return ue.H.useActionState(x,ne,ce)},Oe.useCallback=function(x,ne){return ue.H.useCallback(x,ne)},Oe.useContext=function(x){return ue.H.useContext(x)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(x,ne){return ue.H.useDeferredValue(x,ne)},Oe.useEffect=function(x,ne,ce){var le=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(x,ne)},Oe.useId=function(){return ue.H.useId()},Oe.useImperativeHandle=function(x,ne,ce){return ue.H.useImperativeHandle(x,ne,ce)},Oe.useInsertionEffect=function(x,ne){return ue.H.useInsertionEffect(x,ne)},Oe.useLayoutEffect=function(x,ne){return ue.H.useLayoutEffect(x,ne)},Oe.useMemo=function(x,ne){return ue.H.useMemo(x,ne)},Oe.useOptimistic=function(x,ne){return ue.H.useOptimistic(x,ne)},Oe.useReducer=function(x,ne,ce){return ue.H.useReducer(x,ne,ce)},Oe.useRef=function(x){return ue.H.useRef(x)},Oe.useState=function(x){return ue.H.useState(x)},Oe.useSyncExternalStore=function(x,ne,ce){return ue.H.useSyncExternalStore(x,ne,ce)},Oe.useTransition=function(){return ue.H.useTransition()},Oe.version="19.1.1",Oe}var o_;function Zm(){return o_||(o_=1,nm.exports=dT()),nm.exports}var j=Zm();const Ga=uT(j);var im={exports:{}},Ul={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function fT(){return l_||(l_=1,(function(s){function e(H,K){var oe=H.length;H.push(K);e:for(;0<oe;){var Ce=oe-1>>>1,x=H[Ce];if(0<o(x,K))H[Ce]=K,H[oe]=x,oe=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var K=H[0],oe=H.pop();if(oe!==K){H[0]=oe;e:for(var Ce=0,x=H.length,ne=x>>>1;Ce<ne;){var ce=2*(Ce+1)-1,le=H[ce],ye=ce+1,Me=H[ye];if(0>o(le,oe))ye<x&&0>o(Me,le)?(H[Ce]=Me,H[ye]=oe,Ce=ye):(H[Ce]=le,H[ce]=oe,Ce=ce);else if(ye<x&&0>o(Me,oe))H[Ce]=Me,H[ye]=oe,Ce=ye;else break e}}return K}function o(H,K){var oe=H.sortIndex-K.sortIndex;return oe!==0?oe:H.id-K.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,T=null,R=3,U=!1,X=!1,J=!1,M=!1,te=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function me(H){for(var K=n(y);K!==null;){if(K.callback===null)a(y);else if(K.startTime<=H)a(y),K.sortIndex=K.expirationTime,e(p,K);else break;K=n(y)}}function ue(H){if(J=!1,me(H),!X)if(n(p)!==null)X=!0,Te||(Te=!0,k());else{var K=n(y);K!==null&&he(ue,K.startTime-H)}}var Te=!1,O=-1,C=5,I=-1;function P(){return M?!0:!(s.unstable_now()-I<C)}function N(){if(M=!1,Te){var H=s.unstable_now();I=H;var K=!0;try{e:{X=!1,J&&(J=!1,Y(O),O=-1),U=!0;var oe=R;try{t:{for(me(H),T=n(p);T!==null&&!(T.expirationTime>H&&P());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,R=T.priorityLevel;var x=Ce(T.expirationTime<=H);if(H=s.unstable_now(),typeof x=="function"){T.callback=x,me(H),K=!0;break t}T===n(p)&&a(p),me(H)}else a(p);T=n(p)}if(T!==null)K=!0;else{var ne=n(y);ne!==null&&he(ue,ne.startTime-H),K=!1}}break e}finally{T=null,R=oe,U=!1}K=void 0}}finally{K?k():Te=!1}}}var k;if(typeof se=="function")k=function(){se(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,ae=b.port2;b.port1.onmessage=N,k=function(){ae.postMessage(null)}}else k=function(){te(N,0)};function he(H,K){O=te(function(){H(s.unstable_now())},K)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(H){switch(R){case 1:case 2:case 3:var K=3;break;default:K=R}var oe=R;R=K;try{return H()}finally{R=oe}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=R;R=H;try{return K()}finally{R=oe}},s.unstable_scheduleCallback=function(H,K,oe){var Ce=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,H){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=oe+x,H={id:E++,callback:K,priorityLevel:H,startTime:oe,expirationTime:x,sortIndex:-1},oe>Ce?(H.sortIndex=oe,e(y,H),n(p)===null&&H===n(y)&&(J?(Y(O),O=-1):J=!0,he(ue,oe-Ce))):(H.sortIndex=x,e(p,H),X||U||(X=!0,Te||(Te=!0,k()))),H},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(H){var K=R;return function(){var oe=R;R=K;try{return H.apply(this,arguments)}finally{R=oe}}}})(am)),am}var u_;function mT(){return u_||(u_=1,sm.exports=fT()),sm.exports}var rm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function pT(){if(c_)return Yt;c_=1;var s=Zm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Yt.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:U}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Yt.requestFormReset=function(p){a.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var h_;function gT(){if(h_)return rm.exports;h_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rm.exports=pT(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function yT(){if(d_)return Ul;d_=1;var s=mT(),e=Zm(),n=gT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return m(h),t;if(f===l)return m(h),i;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var _=!1,A=h.child;A;){if(A===r){_=!0,r=h,l=f;break}if(A===l){_=!0,l=h,r=f;break}A=A.sibling}if(!_){for(A=f.child;A;){if(A===r){_=!0,r=f,l=h;break}if(A===l){_=!0,l=f,r=h;break}A=A.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),se=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case M:return"Profiler";case J:return"StrictMode";case ue:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case se:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var he=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],x=-1;function ne(t){return{current:t}}function ce(t){0>x||(t.current=Ce[x],Ce[x]=null,x--)}function le(t,i){x++,Ce[x]=t.current,t.current=i}var ye=ne(null),Me=ne(null),we=ne(null),Mt=ne(null);function Ke(t,i){switch(le(we,i),le(Me,t),le(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Nv(i),t=Vv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(ye),le(ye,t)}function Mn(){ce(ye),ce(Me),ce(we)}function Do(t){t.memoizedState!==null&&le(Mt,t);var i=ye.current,r=Vv(i,t.type);i!==r&&(le(Me,t),le(ye,r))}function ar(t){Me.current===t&&(ce(ye),ce(Me)),Mt.current===t&&(ce(Mt),Ol._currentValue=oe)}var rr=Object.prototype.hasOwnProperty,ra=s.unstable_scheduleCallback,or=s.unstable_cancelCallback,td=s.unstable_shouldYield,Oo=s.unstable_requestPaint,an=s.unstable_now,Su=s.unstable_getCurrentPriorityLevel,St=s.unstable_ImmediatePriority,Dt=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,nd=s.unstable_LowPriority,xo=s.unstable_IdlePriority,id=s.log,oa=s.unstable_setDisableYieldValue,ts=null,Gt=null;function An(t){if(typeof id=="function"&&oa(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ts,t)}catch{}}var $t=Math.clz32?Math.clz32:wu,sd=Math.log,Tu=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(sd(t)/Tu|0)|0}var Yn=256,ns=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=Un(l):(_&=A,_!==0?h=Un(_):r||(r=A&~t,r!==0&&(h=Un(r))))):(A=l&~f,A!==0?h=Un(A):_!==0?h=Un(_):r||(r=l&~t,r!==0&&(h=Un(r)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,r=i&-i,f>=r||f===32&&(r&4194048)!==0)?i:h}function is(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),t}function ss(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function ur(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function ht(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bu(t,i,r,l,h,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var W=31-$t(r),$=1<<W;A[W]=0,D[W]=-1;var F=B[W];if(F!==null)for(B[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}r&=~$}l!==0&&as(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function as(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-$t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function rs(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-$t(r),h=1<<l;h&i|t[l]&i&&(t[l]|=i),r&=~h}}function Vo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Po(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wi(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Jv(t.type))}function ad(t,i){var r=K.p;try{return K.p=t,i()}finally{K.p=r}}var Xn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Xn,Ut="__reactProps$"+Xn,bi="__reactContainer$"+Xn,la="__reactEvents$"+Xn,ua="__reactListeners$"+Xn,rd="__reactHandles$"+Xn,kn="__reactResources$"+Xn,os="__reactMarker$"+Xn;function cr(t){delete t[dt],delete t[Ut],delete t[la],delete t[ua],delete t[rd]}function Wn(t){var i=t[dt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[bi]||r[dt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=kv(t);t!==null;){if(r=t[dt])return r;t=kv(t)}return i}t=r,r=t.parentNode}return null}function Zn(t){if(t=t[dt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ls(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function us(t){var i=t[kn];return i||(i=t[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[os]=!0}var Ru=new Set,ca={};function Jn(t,i){$n(t,i),$n(t+"Capture",i)}function $n(t,i){for(ca[t]=i,t=0;t<i.length;t++)Ru.add(i[t])}var ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},hr={};function od(t){return rr.call(hr,t)?!0:rr.call(ei,t)?!1:ha.test(t)?hr[t]=!0:(ei[t]=!0,!1)}function da(t,i,r){if(od(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function fa(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Tn(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}var ma,dr;function Ri(t){if(ma===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",dr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+dr}var fr=!1;function mr(t,i){if(!t||fr)return"";fr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var F=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){F=G}t.call($.prototype)}}else{try{throw Error()}catch(G){F=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],A=f[1];if(_&&A){var D=_.split(`
`),B=A.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{fr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ri(r):""}function ld(t){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return mr(t.type,!1);case 11:return mr(t.type.render,!1);case 1:return mr(t.type,!0);case 31:return Ri("Activity");default:return""}}function Ln(t){try{var i="";do i+=ld(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pa(t){var i=cs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function hs(t){t._valueTracker||(t._valueTracker=pa(t))}function Ye(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=cs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ga=/[\n"\\]/g;function Ot(t){return t.replace(ga,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mo(t,i,r,l,h,f,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+st(i)):t.value!==""+st(i)&&(t.value=""+st(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ko(t,_,st(i)):r!=null?ko(t,_,st(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+st(A):t.removeAttribute("name")}function Uo(t,i,r,l,h,f,_,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;r=r!=null?""+st(r):"",i=i!=null?""+st(i):r,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ko(t,i,r){i==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ds(t,i,r,l){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+st(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Cu(t,i,r){if(i!=null&&(i=""+st(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+st(r):""}function Iu(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=st(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Ii=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||Ii.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function zo(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&Lo(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Lo(t,f,i[f])}function pr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(t){return Ou.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qo=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,en=null;function xu(t){var i=Zn(t);if(i&&(t=i.stateNode)){var r=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(Mo(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(a(90));Mo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Ye(l)}break e;case"textarea":Cu(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&ds(t,!!r.multiple,i,!1)}}}var ya=!1;function va(t,i,r){if(ya)return t(i,r);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(fs!==null||en!==null)&&(Ec(),fs&&(i=fs,t=en,en=fs=null,xu(i),t)))for(i=0;i<t.length;i++)xu(t[i])}}function ms(t,i){var r=t.stateNode;if(r===null)return null;var l=r[Ut]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(tn)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){Di=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{Di=!1}var bn=null,$e=null,gr=null;function Nu(){if(gr)return gr;var t,i=$e,r=i.length,l,h="value"in bn?bn.value:bn.textContent,f=h.length;for(t=0;t<r&&i[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&i[r-l]===h[f-l];l++);return gr=h.slice(t,1<l?1-l:void 0)}function _a(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ea(){return!0}function Bo(){return!1}function Tt(t){function i(r,l,h,f,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ea:Bo,this.isPropagationStopped=Bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),i}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Tt(Qt),Sa=E({},Qt,{view:0,detail:0}),Ta=Tt(Sa),yr,wa,ti,ba=E({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(yr=t.screenX-ti.screenX,wa=t.screenY-ti.screenY):wa=yr=0,ti=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Ra=Tt(ba),ud=E({},ba,{dataTransfer:0}),Vu=Tt(ud),Ca=E({},Sa,{relatedTarget:0}),vr=Tt(Ca),Pu=E({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=Tt(Pu),Ho=E({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mu=Tt(Ho),_r=E({},Qt,{data:0}),Go=Tt(_r),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function Er(){return Lu}var zu=E({},Sa,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?_a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ar=Tt(zu),nn=E({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Tt(nn),qu=E({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),gs=Tt(qu),c=E({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),g=Tt(c),v=E({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Tt(v),q=E({},Qt,{newState:0,oldState:0}),Q=Tt(q),re=[9,13,27,32],Ie=tn&&"CompositionEvent"in window,tt=null;tn&&"documentMode"in document&&(tt=document.documentMode);var He=tn&&"TextEvent"in window&&!tt,mt=tn&&(!Ie||tt&&8<tt&&11>=tt),hn=" ",ni=!1;function qn(t,i){switch(t){case"keyup":return re.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function Ko(t,i){switch(t){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(ni=!0,hn);case"textInput":return t=i.data,t===hn&&ni?null:t;default:return null}}function UA(t,i){if(Bn)return t==="compositionend"||!Ie&&qn(t,i)?(t=Nu(),gr=$e=bn=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mt&&i.locale!=="ko"?null:i.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kA[t.type]:i==="textarea"}function Kp(t,i,r,l){fs?en?en.push(l):en=[l]:fs=l,i=Rc(i,"onChange"),0<i.length&&(r=new Aa("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var Yo=null,Xo=null;function LA(t){Cv(t,0)}function ju(t){var i=ls(t);if(Ye(i))return t}function Yp(t,i){if(t==="change")return i}var Xp=!1;if(tn){var cd;if(tn){var hd="oninput"in document;if(!hd){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),hd=typeof Wp.oninput=="function"}cd=hd}else cd=!1;Xp=cd&&(!document.documentMode||9<document.documentMode)}function Zp(){Yo&&(Yo.detachEvent("onpropertychange",Jp),Xo=Yo=null)}function Jp(t){if(t.propertyName==="value"&&ju(Xo)){var i=[];Kp(i,Xo,t,jo(t)),va(LA,i)}}function zA(t,i,r){t==="focusin"?(Zp(),Yo=i,Xo=r,Yo.attachEvent("onpropertychange",Jp)):t==="focusout"&&Zp()}function qA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Xo)}function jA(t,i){if(t==="click")return ju(i)}function BA(t,i){if(t==="input"||t==="change")return ju(i)}function FA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:FA;function Wo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!rr.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,i){var r=$p(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$p(r)}}function tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ci(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ci(t.document)}return i}function dd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var HA=tn&&"documentMode"in document&&11>=document.documentMode,Sr=null,fd=null,Zo=null,md=!1;function ig(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;md||Sr==null||Sr!==Ci(l)||(l=Sr,"selectionStart"in l&&dd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Rc(fd,"onSelect"),0<l.length&&(i=new Aa("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=Sr)))}function Ia(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Tr={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},pd={},sg={};tn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Da(t){if(pd[t])return pd[t];if(!Tr[t])return t;var i=Tr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in sg)return pd[t]=i[r];return t}var ag=Da("animationend"),rg=Da("animationiteration"),og=Da("animationstart"),GA=Da("transitionrun"),QA=Da("transitionstart"),KA=Da("transitioncancel"),lg=Da("transitionend"),ug=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function Fn(t,i){ug.set(t,i),Jn(i,[t])}var cg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var r=cg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Ln(i)},cg.set(t,i),i)}return{value:t,source:i,stack:Ln(i)}}var Cn=[],wr=0,yd=0;function Bu(){for(var t=wr,i=yd=wr=0;i<t;){var r=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&hg(r,h,f)}}function Fu(t,i,r,l){Cn[wr++]=t,Cn[wr++]=i,Cn[wr++]=r,Cn[wr++]=l,yd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vd(t,i,r,l){return Fu(t,i,r,l),Hu(t)}function br(t,i){return Fu(t,null,null,i),Hu(t)}function hg(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-$t(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=r|536870912),f):null}function Hu(t){if(50<Sl)throw Sl=0,bf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Rr={};function YA(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,r,l){return new YA(t,i,r,l)}function _d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var r=t.alternate;return r===null?(r=fn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,r,l,h,f){var _=0;if(l=t,typeof t=="function")_d(t)&&(_=1);else if(typeof t=="string")_=WS(t,r,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=fn(31,r,i,h),t.elementType=I,t.lanes=f,t;case X:return Oa(r.children,h,f,i);case J:_=8,h|=24;break;case M:return t=fn(12,r,i,h|2),t.elementType=M,t.lanes=f,t;case ue:return t=fn(13,r,i,h),t.elementType=ue,t.lanes=f,t;case Te:return t=fn(19,r,i,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case se:_=10;break e;case Y:_=9;break e;case me:_=11;break e;case O:_=14;break e;case C:_=16,l=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=fn(_,r,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Oa(t,i,r,l){return t=fn(7,t,l,i),t.lanes=r,t}function Ed(t,i,r){return t=fn(6,t,null,i),t.lanes=r,t}function Ad(t,i,r){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cr=[],Ir=0,Qu=null,Ku=0,In=[],Dn=0,xa=null,Ni=1,Vi="";function Na(t,i){Cr[Ir++]=Ku,Cr[Ir++]=Qu,Qu=t,Ku=i}function fg(t,i,r){In[Dn++]=Ni,In[Dn++]=Vi,In[Dn++]=xa,xa=t;var l=Ni;t=Vi;var h=32-$t(l)-1;l&=~(1<<h),r+=1;var f=32-$t(i)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-$t(i)+h|r<<h|l,Vi=f+t}else Ni=1<<f|r<<h|l,Vi=t}function Sd(t){t.return!==null&&(Na(t,1),fg(t,1,0))}function Td(t){for(;t===Qu;)Qu=Cr[--Ir],Cr[Ir]=null,Ku=Cr[--Ir],Cr[Ir]=null;for(;t===xa;)xa=In[--Dn],In[Dn]=null,Vi=In[--Dn],In[Dn]=null,Ni=In[--Dn],In[Dn]=null}var sn=null,ut=null,Be=!1,Va=null,ii=!1,wd=Error(a(519));function Pa(t){var i=Error(a(418,""));throw el(Rn(i,t)),wd}function mg(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[dt]=t,i[Ut]=l,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<wl.length;r++)Pe(wl[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Uo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hs(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Iu(i,l.value,l.defaultValue,l.children),hs(i)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||xv(i.textContent,r)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Cc),i=!0):i=!1,i||Pa(t)}function pg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:sn=sn.return}}function Jo(t){if(t!==sn)return!1;if(!Be)return pg(t),Be=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||jf(t.type,t.memoizedProps)),r=!r),r&&ut&&Pa(t),pg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){ut=Gn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Ns(t.type)?(t=Gf,Gf=null,ut=t):ut=i):ut=sn?Gn(t.stateNode.nextSibling):null;return!0}function $o(){ut=sn=null,Be=!1}function gg(){var t=Va;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Va=null),t}function el(t){Va===null?Va=[t]:Va.push(t)}var bd=ne(null),Ma=null,Pi=null;function ys(t,i,r){le(bd,i._currentValue),i._currentValue=r}function Mi(t){t._currentValue=bd.current,ce(bd)}function Rd(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function Cd(t,i,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var D=0;D<i.length;D++)if(A.context===i[D]){f.lanes|=r,A=f.alternate,A!==null&&(A.lanes|=r),Rd(f.return,r,t),l||(_=null);break e}f=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Rd(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function tl(t,i,r,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var A=h.type;dn(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Mt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&Cd(i,t,r,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){Ma=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return yg(Ma,t)}function Xu(t,i){return Ma===null&&Ua(t),yg(t,i)}function yg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Pi===null){if(t===null)throw Error(a(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return r}var XA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},WA=s.unstable_scheduleCallback,ZA=s.unstable_NormalPriority,wt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new XA,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&WA(ZA,function(){t.controller.abort()})}var il=null,Dd=0,Dr=0,Or=null;function JA(t,i){if(il===null){var r=il=[];Dd=0,Dr=Nf(),Or={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Dd++,i.then(vg,vg),i}function vg(){if(--Dd===0&&il!==null){Or!==null&&(Or.status="fulfilled");var t=il;il=null,Dr=0,Or=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $A(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var _g=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JA(t,i),_g!==null&&_g(t,i)};var ka=ne(null);function Od(){var t=ka.current;return t!==null?t:et.pooledCache}function Wu(t,i){i===null?le(ka,ka.current):le(ka,i.pool)}function Eg(){var t=Od();return t===null?null:{parent:wt._currentValue,pool:t}}var sl=Error(a(460)),Ag=Error(a(474)),Zu=Error(a(542)),xd={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Tg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Ju,Ju),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(Ju,Ju);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw al=i,sl}}var al=null;function wg(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function bg(t){if(t===sl||t===Zu)throw Error(a(483))}var vs=!1;function Nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),hg(t,null,r),i}return Fu(t,l,i,r),Hu(t)}function rl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,rs(t,r)}}function Pd(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=i:f=f.next=i}else h=f=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Md=!1;function ol(){if(Md){var t=Or;if(t!==null)throw t}}function ll(t,i,r,l){Md=!1;var h=t.updateQueue;vs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var D=A,B=D.next;D.next=null,_===null?f=B:_.next=B,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==_&&(A===null?W.firstBaseUpdate=B:A.next=B,W.lastBaseUpdate=D))}if(f!==null){var $=h.baseState;_=0,W=B=D=null,A=f;do{var F=A.lane&-536870913,G=F!==A.lane;if(G?(ze&F)===F:(l&F)===F){F!==0&&F===Dr&&(Md=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=t,_e=A;F=i;var Ze=r;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){$=be.call(Ze,$,F);break e}$=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,F=typeof be=="function"?be.call(Ze,$,F):be,F==null)break e;$=E({},$,F);break e;case 2:vs=!0}}F=A.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(B=W=G,D=$):W=W.next=G,_|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;G=A,A=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(D=$),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),Is|=_,t.lanes=_,t.memoizedState=$}}function Rg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Cg(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Rg(r[t],i)}var xr=ne(null),$u=ne(0);function Ig(t,i){t=Bi,le($u,t),le(xr,i),Bi=t|i.baseLanes}function Ud(){le($u,Bi),le(xr,xr.current)}function kd(){Bi=$u.current,ce(xr),ce($u)}var As=0,xe=null,Xe=null,vt=null,ec=!1,Nr=!1,La=!1,tc=0,ul=0,Vr=null,eS=0;function pt(){throw Error(a(321))}function Ld(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!dn(t[r],i[r]))return!1;return!0}function zd(t,i,r,l,h,f){return As=f,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?hy:dy,La=!1,f=r(l,h),La=!1,Nr&&(f=Og(i,r,l,h)),Dg(t),f}function Dg(t){H.H=oc;var i=Xe!==null&&Xe.next!==null;if(As=0,vt=Xe=xe=null,ec=!1,ul=0,Vr=null,i)throw Error(a(300));t===null||xt||(t=t.dependencies,t!==null&&Yu(t)&&(xt=!0))}function Og(t,i,r,l){xe=t;var h=0;do{if(Nr&&(Vr=null),ul=0,Nr=!1,25<=h)throw Error(a(301));if(h+=1,vt=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=oS,f=i(r,l)}while(Nr);return f}function tS(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function qd(){var t=tc!==0;return tc=0,t}function jd(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Bd(t){if(ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ec=!1}As=0,vt=Xe=xe=null,Nr=!1,ul=tc=0,Vr=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?xe.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=vt===null?xe.memoizedState:vt.next;if(i!==null)vt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?xe.memoizedState=vt=t:vt=vt.next=t}return vt}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Vr===null&&(Vr=[]),t=Tg(Vr,t,i),i=xe,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?hy:dy),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===se)return Kt(t)}throw Error(a(438,String(t)))}function Hd(t){var i=null,r=xe.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Fd(),xe.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=P;return i.index++,r}function Ui(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=_t();return Gd(i,Xe,t)}function Gd(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var A=_=null,D=null,B=i,W=!1;do{var $=B.lane&-536870913;if($!==B.lane?(ze&$)===$:(As&$)===$){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Dr&&(W=!0);else if((As&F)===F){B=B.next,F===Dr&&(W=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=$,_=f):D=D.next=$,xe.lanes|=F,Is|=F;$=B.action,La&&r(f,$),f=B.hasEagerState?B.eagerState:r(f,$)}else F={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(A=D=F,_=f):D=D.next=F,xe.lanes|=$,Is|=$;B=B.next}while(B!==null&&B!==i);if(D===null?_=f:D.next=A,!dn(f,t.memoizedState)&&(xt=!0,W&&(r=Or,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qd(t){var i=_t(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);dn(f,i.memoizedState)||(xt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),r.lastRenderedState=f}return[f,l]}function xg(t,i,r){var l=xe,h=_t(),f=Be;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=i();var _=!dn((Xe||h).memoizedState,r);_&&(h.memoizedState=r,xt=!0),h=h.queue;var A=Pg.bind(null,l,h,t);if(hl(2048,8,A,[t]),h.getSnapshot!==i||_||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pr(9,sc(),Vg.bind(null,l,h,r,i),null),et===null)throw Error(a(349));f||(As&124)!==0||Ng(l,i,r)}return r}function Ng(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=xe.updateQueue,i===null?(i=Fd(),xe.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Vg(t,i,r,l){i.value=r,i.getSnapshot=l,Mg(i)&&Ug(t)}function Pg(t,i,r){return r(function(){Mg(i)&&Ug(t)})}function Mg(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!dn(t,r)}catch{return!0}}function Ug(t){var i=br(t,2);i!==null&&vn(i,t,2)}function Kd(t){var i=rn();if(typeof t=="function"){var r=t;if(t=r(),La){An(!0);try{r()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function kg(t,i,r,l){return t.baseState=r,Gd(t,Xe,typeof l=="function"?l:Ui)}function nS(t,i,r,l,h){if(rc(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=i.pending,r===null?(f.next=i.pending=f,Lg(i,f)):(f.next=r.next,i.pending=r.next=f)}}function Lg(t,i){var r=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=H.T,_={};H.T=_;try{var A=r(h,l),D=H.S;D!==null&&D(_,A),zg(t,i,A)}catch(B){Yd(t,i,B)}finally{H.T=f}}else try{f=r(h,l),zg(t,i,f)}catch(B){Yd(t,i,B)}}function zg(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){qg(t,i,l)},function(l){return Yd(t,i,l)}):qg(t,i,r)}function qg(t,i,r){i.status="fulfilled",i.value=r,jg(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,Lg(t,r)))}function Yd(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,jg(i),i=i.next;while(i!==l)}t.action=null}function jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Bg(t,i){return i}function Fg(t,i){if(Be){var r=et.formState;if(r!==null){e:{var l=xe;if(Be){if(ut){t:{for(var h=ut,f=ii;h.nodeType!==8;){if(!f){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Gn(h.nextSibling),l=h.data==="F!";break e}}Pa(l)}l=!1}l&&(i=r[0])}}return r=rn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},r.queue=l,r=ly.bind(null,xe,l),l.dispatch=r,l=Kd(!1),f=$d.bind(null,xe,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,r=nS.bind(null,xe,h,f,r),h.dispatch=r,l.memoizedState=t,[i,r,!1]}function Hg(t){var i=_t();return Gg(i,Xe,t)}function Gg(t,i,r){if(i=Gd(t,i,Bg)[0],t=ic(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===sl?Zu:_}else l=i;i=_t();var h=i.queue,f=h.dispatch;return r!==i.memoizedState&&(xe.flags|=2048,Pr(9,sc(),iS.bind(null,h,r),null)),[l,f,t]}function iS(t,i){t.action=i}function Qg(t){var i=_t(),r=Xe;if(r!==null)return Gg(i,r,t);_t(),i=i.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Pr(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Fd(),xe.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function Kg(){return _t().memoizedState}function ac(t,i,r,l){var h=rn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=Pr(1|i,sc(),r,l)}function hl(t,i,r,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;Xe!==null&&l!==null&&Ld(l,Xe.memoizedState.deps)?h.memoizedState=Pr(i,f,r,l):(xe.flags|=t,h.memoizedState=Pr(1|i,f,r,l))}function Yg(t,i){ac(8390656,8,t,i)}function Xg(t,i){hl(2048,8,t,i)}function Wg(t,i){return hl(4,2,t,i)}function Zg(t,i){return hl(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $g(t,i,r){r=r!=null?r.concat([t]):null,hl(4,4,Jg.bind(null,i,t),r)}function Xd(){}function ey(t,i){var r=_t();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ld(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function ty(t,i){var r=_t();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ld(i,l[1]))return l[0];if(l=t(),La){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,i],l}function Wd(t,i,r){return r===void 0||(As&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=sv(),xe.lanes|=t,Is|=t,r)}function ny(t,i,r,l){return dn(r,i)?r:xr.current!==null?(t=Wd(t,r,l),dn(t,i)||(xt=!0),t):(As&42)===0?(xt=!0,t.memoizedState=r):(t=sv(),xe.lanes|=t,Is|=t,i)}function iy(t,i,r,l,h){var f=K.p;K.p=f!==0&&8>f?f:8;var _=H.T,A={};H.T=A,$d(t,!1,i,r);try{var D=h(),B=H.S;if(B!==null&&B(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=$A(D,l);dl(t,i,W,yn(t))}else dl(t,i,l,yn(t))}catch($){dl(t,i,{then:function(){},status:"rejected",reason:$},yn())}finally{K.p=f,H.T=_}}function sS(){}function Zd(t,i,r,l){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;iy(t,h,i,oe,r===null?sS:function(){return ay(t),r(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:oe},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ay(t){var i=sy(t).next.queue;dl(t,i,{},yn())}function Jd(){return Kt(Ol)}function ry(){return _t().memoizedState}function oy(){return _t().memoizedState}function aS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=yn();t=_s(r);var l=Es(i,t,r);l!==null&&(vn(l,i,r),rl(l,i,r)),i={cache:Id()},t.payload=i;return}i=i.return}}function rS(t,i,r){var l=yn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},rc(t)?uy(i,r):(r=vd(t,i,r,l),r!==null&&(vn(r,t,l),cy(r,i,l)))}function ly(t,i,r){var l=yn();dl(t,i,r,l)}function dl(t,i,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(t))uy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,A=f(_,r);if(h.hasEagerState=!0,h.eagerState=A,dn(A,_))return Fu(t,i,h,0),et===null&&Bu(),!1}catch{}finally{}if(r=vd(t,i,h,l),r!==null)return vn(r,t,l),cy(r,i,l),!0}return!1}function $d(t,i,r,l){if(l={lane:2,revertLane:Nf(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(a(479))}else i=vd(t,r,l,2),i!==null&&vn(i,t,2)}function rc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function uy(t,i){Nr=ec=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function cy(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,rs(t,r)}}var oc={readContext:Kt,use:nc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},hy={readContext:Kt,use:nc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Yg,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,ac(4194308,4,Jg.bind(null,i,t),r)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var r=rn();i=i===void 0?null:i;var l=t();if(La){An(!0);try{t()}finally{An(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=rn();if(r!==void 0){var h=r(i);if(La){An(!0);try{r(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Kd(t);var i=t.queue,r=ly.bind(null,xe,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Xd,useDeferredValue:function(t,i){var r=rn();return Wd(r,t,i)},useTransition:function(){var t=Kd(!1);return t=iy.bind(null,xe,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=xe,h=rn();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),et===null)throw Error(a(349));(ze&124)!==0||Ng(l,i,r)}h.memoizedState=r;var f={value:r,getSnapshot:i};return h.queue=f,Yg(Pg.bind(null,l,f,t),[t]),l.flags|=2048,Pr(9,sc(),Vg.bind(null,l,f,r,i),null),r},useId:function(){var t=rn(),i=et.identifierPrefix;if(Be){var r=Vi,l=Ni;r=(l&~(1<<32-$t(l)-1)).toString(32)+r,i="«"+i+"R"+r,r=tc++,0<r&&(i+="H"+r.toString(32)),i+="»"}else r=eS++,i="«"+i+"r"+r.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Jd,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=$d.bind(null,xe,!0,r),r.dispatch=i,[t,i]},useMemoCache:Hd,useCacheRefresh:function(){return rn().memoizedState=aS.bind(null,xe)}},dy={readContext:Kt,use:nc,useCallback:ey,useContext:Kt,useEffect:Xg,useImperativeHandle:$g,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:ty,useReducer:ic,useRef:Kg,useState:function(){return ic(Ui)},useDebugValue:Xd,useDeferredValue:function(t,i){var r=_t();return ny(r,Xe.memoizedState,t,i)},useTransition:function(){var t=ic(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:xg,useId:ry,useHostTransitionStatus:Jd,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var r=_t();return kg(r,Xe,t,i)},useMemoCache:Hd,useCacheRefresh:oy},oS={readContext:Kt,use:nc,useCallback:ey,useContext:Kt,useEffect:Xg,useImperativeHandle:$g,useInsertionEffect:Wg,useLayoutEffect:Zg,useMemo:ty,useReducer:Qd,useRef:Kg,useState:function(){return Qd(Ui)},useDebugValue:Xd,useDeferredValue:function(t,i){var r=_t();return Xe===null?Wd(r,t,i):ny(r,Xe.memoizedState,t,i)},useTransition:function(){var t=Qd(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:xg,useId:ry,useHostTransitionStatus:Jd,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var r=_t();return Xe!==null?kg(r,Xe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:oy},Mr=null,fl=0;function lc(t){var i=fl;return fl+=1,Mr===null&&(Mr=[]),Tg(Mr,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fy(t){var i=t._init;return i(t._payload)}function my(t){function i(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function r(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=xi(L,V),L.index=0,L.sibling=null,L}function f(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function A(L,V,z,Z){return V===null||V.tag!==6?(V=Ed(z,L.mode,Z),V.return=L,V):(V=h(V,z),V.return=L,V)}function D(L,V,z,Z){var fe=z.type;return fe===X?W(L,V,z.props.children,Z,z.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&fy(fe)===V.type)?(V=h(V,z.props),ml(V,z),V.return=L,V):(V=Gu(z.type,z.key,z.props,null,L.mode,Z),ml(V,z),V.return=L,V)}function B(L,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Ad(z,L.mode,Z),V.return=L,V):(V=h(V,z.children||[]),V.return=L,V)}function W(L,V,z,Z,fe){return V===null||V.tag!==7?(V=Oa(z,L.mode,Z,fe),V.return=L,V):(V=h(V,z),V.return=L,V)}function $(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ed(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return z=Gu(V.type,V.key,V.props,null,L.mode,z),ml(z,V),z.return=L,z;case U:return V=Ad(V,L.mode,z),V.return=L,V;case C:var Z=V._init;return V=Z(V._payload),$(L,V,z)}if(he(V)||k(V))return V=Oa(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return $(L,lc(V),z);if(V.$$typeof===se)return $(L,Xu(L,V),z);uc(L,V)}return null}function F(L,V,z,Z){var fe=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:A(L,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===fe?D(L,V,z,Z):null;case U:return z.key===fe?B(L,V,z,Z):null;case C:return fe=z._init,z=fe(z._payload),F(L,V,z,Z)}if(he(z)||k(z))return fe!==null?null:W(L,V,z,Z,null);if(typeof z.then=="function")return F(L,V,lc(z),Z);if(z.$$typeof===se)return F(L,V,Xu(L,z),Z);uc(L,z)}return null}function G(L,V,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,A(V,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return L=L.get(Z.key===null?z:Z.key)||null,D(V,L,Z,fe);case U:return L=L.get(Z.key===null?z:Z.key)||null,B(V,L,Z,fe);case C:var Ne=Z._init;return Z=Ne(Z._payload),G(L,V,z,Z,fe)}if(he(Z)||k(Z))return L=L.get(z)||null,W(V,L,Z,fe,null);if(typeof Z.then=="function")return G(L,V,z,lc(Z),fe);if(Z.$$typeof===se)return G(L,V,z,Xu(V,Z),fe);uc(V,Z)}return null}function be(L,V,z,Z){for(var fe=null,Ne=null,ge=V,Ee=V=0,Vt=null;ge!==null&&Ee<z.length;Ee++){ge.index>Ee?(Vt=ge,ge=null):Vt=ge.sibling;var je=F(L,ge,z[Ee],Z);if(je===null){ge===null&&(ge=Vt);break}t&&ge&&je.alternate===null&&i(L,ge),V=f(je,V,Ee),Ne===null?fe=je:Ne.sibling=je,Ne=je,ge=Vt}if(Ee===z.length)return r(L,ge),Be&&Na(L,Ee),fe;if(ge===null){for(;Ee<z.length;Ee++)ge=$(L,z[Ee],Z),ge!==null&&(V=f(ge,V,Ee),Ne===null?fe=ge:Ne.sibling=ge,Ne=ge);return Be&&Na(L,Ee),fe}for(ge=l(ge);Ee<z.length;Ee++)Vt=G(ge,L,Ee,z[Ee],Z),Vt!==null&&(t&&Vt.alternate!==null&&ge.delete(Vt.key===null?Ee:Vt.key),V=f(Vt,V,Ee),Ne===null?fe=Vt:Ne.sibling=Vt,Ne=Vt);return t&&ge.forEach(function(ks){return i(L,ks)}),Be&&Na(L,Ee),fe}function _e(L,V,z,Z){if(z==null)throw Error(a(151));for(var fe=null,Ne=null,ge=V,Ee=V=0,Vt=null,je=z.next();ge!==null&&!je.done;Ee++,je=z.next()){ge.index>Ee?(Vt=ge,ge=null):Vt=ge.sibling;var ks=F(L,ge,je.value,Z);if(ks===null){ge===null&&(ge=Vt);break}t&&ge&&ks.alternate===null&&i(L,ge),V=f(ks,V,Ee),Ne===null?fe=ks:Ne.sibling=ks,Ne=ks,ge=Vt}if(je.done)return r(L,ge),Be&&Na(L,Ee),fe;if(ge===null){for(;!je.done;Ee++,je=z.next())je=$(L,je.value,Z),je!==null&&(V=f(je,V,Ee),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Be&&Na(L,Ee),fe}for(ge=l(ge);!je.done;Ee++,je=z.next())je=G(ge,L,Ee,je.value,Z),je!==null&&(t&&je.alternate!==null&&ge.delete(je.key===null?Ee:je.key),V=f(je,V,Ee),Ne===null?fe=je:Ne.sibling=je,Ne=je);return t&&ge.forEach(function(lT){return i(L,lT)}),Be&&Na(L,Ee),fe}function Ze(L,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var fe=z.key;V!==null;){if(V.key===fe){if(fe=z.type,fe===X){if(V.tag===7){r(L,V.sibling),Z=h(V,z.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===C&&fy(fe)===V.type){r(L,V.sibling),Z=h(V,z.props),ml(Z,z),Z.return=L,L=Z;break e}r(L,V);break}else i(L,V);V=V.sibling}z.type===X?(Z=Oa(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=Gu(z.type,z.key,z.props,null,L.mode,Z),ml(Z,z),Z.return=L,L=Z)}return _(L);case U:e:{for(fe=z.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(L,V.sibling),Z=h(V,z.children||[]),Z.return=L,L=Z;break e}else{r(L,V);break}else i(L,V);V=V.sibling}Z=Ad(z,L.mode,Z),Z.return=L,L=Z}return _(L);case C:return fe=z._init,z=fe(z._payload),Ze(L,V,z,Z)}if(he(z))return be(L,V,z,Z);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(a(150));return z=fe.call(z),_e(L,V,z,Z)}if(typeof z.then=="function")return Ze(L,V,lc(z),Z);if(z.$$typeof===se)return Ze(L,V,Xu(L,z),Z);uc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(L,V.sibling),Z=h(V,z),Z.return=L,L=Z):(r(L,V),Z=Ed(z,L.mode,Z),Z.return=L,L=Z),_(L)):r(L,V)}return function(L,V,z,Z){try{fl=0;var fe=Ze(L,V,z,Z);return Mr=null,fe}catch(ge){if(ge===sl||ge===Zu)throw ge;var Ne=fn(29,ge,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ur=my(!0),py=my(!1),On=ne(null),si=null;function Ss(t){var i=t.alternate;le(bt,bt.current&1),le(On,t),si===null&&(i===null||xr.current!==null||i.memoizedState!==null)&&(si=t)}function gy(t){if(t.tag===22){if(le(bt,bt.current),le(On,t),si===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(si=t)}}else Ts()}function Ts(){le(bt,bt.current),le(On,On.current)}function ki(t){ce(On),si===t&&(si=null),ce(bt)}var bt=ne(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Hf(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ef(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:E({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tf={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=yn(),h=_s(l);h.payload=i,r!=null&&(h.callback=r),i=Es(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=yn(),h=_s(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Es(t,h,l),i!==null&&(vn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=yn(),l=_s(r);l.tag=2,i!=null&&(l.callback=i),i=Es(t,l,r),i!==null&&(vn(i,t,r),rl(i,t,r))}};function yy(t,i,r,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(r,l)||!Wo(h,f):!0}function vy(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&tf.enqueueReplaceState(i,i.state,null)}function za(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(t){hc(t)}function Ey(t){console.error(t)}function Ay(t){hc(t)}function dc(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nf(t,i,r){return r=_s(r),r.tag=3,r.payload={element:null},r.callback=function(){dc(t,i)},r}function Ty(t){return t=_s(t),t.tag=3,t}function wy(t,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Sy(i,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Sy(i,r,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function lS(t,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&tl(i,r,h,!0),r=On.current,r!==null){switch(r.tag){case 13:return si===null?Cf():r.alternate===null&&ct===0&&(ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===xd?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Df(t,l,h)),!1;case 22:return r.flags|=65536,l===xd?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Df(t,l,h)),!1}throw Error(a(435,r.tag))}return Df(t,l,h),Cf(),!1}if(Be)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wd&&(t=Error(a(422),{cause:l}),el(Rn(t,r)))):(l!==wd&&(i=Error(a(423),{cause:l}),el(Rn(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,r),h=nf(t.stateNode,l,h),Pd(t,h),ct!==4&&(ct=2)),!1;var f=Error(a(520),{cause:l});if(f=Rn(f,r),Al===null?Al=[f]:Al.push(f),ct!==4&&(ct=2),i===null)return!0;l=Rn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=nf(r.stateNode,l,t),Pd(r,t),!1;case 1:if(i=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ty(h),wy(h,t,r,l),Pd(r,h),!1}r=r.return}while(r!==null);return!1}var by=Error(a(461)),xt=!1;function kt(t,i,r,l){i.child=t===null?py(i,null,r,l):Ur(i,t.child,r,l)}function Ry(t,i,r,l,h){r=r.render;var f=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ua(i),l=zd(t,i,r,_,f,h),A=qd(),t!==null&&!xt?(jd(t,i,h),Li(t,i,h)):(Be&&A&&Sd(i),i.flags|=1,kt(t,i,l,h),i.child)}function Cy(t,i,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!_d(f)&&f.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=f,Iy(t,i,f,l,h)):(t=Gu(r.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!hf(t,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Wo,r(_,l)&&t.ref===i.ref)return Li(t,i,h)}return i.flags|=1,t=xi(f,l),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,r,l,h){if(t!==null){var f=t.memoizedProps;if(Wo(f,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=f,hf(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Li(t,i,h)}return sf(t,i,r,l,h)}function Dy(t,i,r){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Oy(t,i,l,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,f!==null?f.cachePool:null),f!==null?Ig(i,f):Ud(),gy(i);else return i.lanes=i.childLanes=536870912,Oy(t,i,f!==null?f.baseLanes|r:r,r)}else f!==null?(Wu(i,f.cachePool),Ig(i,f),Ts(),i.memoizedState=null):(t!==null&&Wu(i,null),Ud(),Ts());return kt(t,i,h,r),i.child}function Oy(t,i,r,l){var h=Od();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},t!==null&&Wu(i,null),Ud(),gy(i),t!==null&&tl(t,i,l,!0),null}function fc(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function sf(t,i,r,l,h){return Ua(i),r=zd(t,i,r,l,void 0,h),l=qd(),t!==null&&!xt?(jd(t,i,h),Li(t,i,h)):(Be&&l&&Sd(i),i.flags|=1,kt(t,i,r,h),i.child)}function xy(t,i,r,l,h,f){return Ua(i),i.updateQueue=null,r=Og(i,l,r,h),Dg(t),l=qd(),t!==null&&!xt?(jd(t,i,f),Li(t,i,f)):(Be&&l&&Sd(i),i.flags|=1,kt(t,i,r,f),i.child)}function Ny(t,i,r,l,h){if(Ua(i),i.stateNode===null){var f=Rr,_=r.contextType;typeof _=="object"&&_!==null&&(f=Kt(_)),f=new r(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Nd(i),_=r.contextType,f.context=typeof _=="object"&&_!==null?Kt(_):Rr,f.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(ef(i,r,_,l),f.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&tf.enqueueReplaceState(f,f.state,null),ll(i,l,f,h),ol(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var A=i.memoizedProps,D=za(r,A);f.props=D;var B=f.context,W=r.contextType;_=Rr,typeof W=="object"&&W!==null&&(_=Kt(W));var $=r.getDerivedStateFromProps;W=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||B!==_)&&vy(i,f,l,_),vs=!1;var F=i.memoizedState;f.state=F,ll(i,l,f,h),ol(),B=i.memoizedState,A||F!==B||vs?(typeof $=="function"&&(ef(i,r,$,l),B=i.memoizedState),(D=vs||yy(i,r,D,l,F,B,_))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),f.props=l,f.state=B,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Vd(t,i),_=i.memoizedProps,W=za(r,_),f.props=W,$=i.pendingProps,F=f.context,B=r.contextType,D=Rr,typeof B=="object"&&B!==null&&(D=Kt(B)),A=r.getDerivedStateFromProps,(B=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||F!==D)&&vy(i,f,l,D),vs=!1,F=i.memoizedState,f.state=F,ll(i,l,f,h),ol();var G=i.memoizedState;_!==$||F!==G||vs||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof A=="function"&&(ef(i,r,A,l),G=i.memoizedState),(W=vs||yy(i,r,W,l,F,G,D)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,fc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ur(i,t.child,null,h),i.child=Ur(i,null,r,h)):kt(t,i,r,h),i.memoizedState=f.state,t=i.child):t=Li(t,i,h),t}function Vy(t,i,r,l){return $o(),i.flags|=256,kt(t,i,r,l),i.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(t){return{baseLanes:t,cachePool:Eg()}}function of(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=xn),t}function Py(t,i,r){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Ss(i):Ts(),Be){var A=ut,D;if(D=A){e:{for(D=A,A=ii;D.nodeType!==8;){if(!A){A=null;break e}if(D=Gn(D.nextSibling),D===null){A=null;break e}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:xa!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},D=fn(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,sn=i,ut=null,D=!0):D=!1}D||Pa(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Hf(A)?i.lanes=32:i.lanes=536870912,null;ki(i)}return A=l.children,l=l.fallback,h?(Ts(),h=i.mode,A=mc({mode:"hidden",children:A},h),l=Oa(l,h,r,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=rf(r),h.childLanes=of(t,_,r),i.memoizedState=af,l):(Ss(i),lf(i,A))}if(D=t.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(f)i.flags&256?(Ss(i),i.flags&=-257,i=uf(t,i,r)):i.memoizedState!==null?(Ts(),i.child=t.child,i.flags|=128,i=null):(Ts(),h=l.fallback,A=i.mode,l=mc({mode:"visible",children:l.children},A),h=Oa(h,A,r,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ur(i,t.child,null,r),l=i.child,l.memoizedState=rf(r),l.childLanes=of(t,_,r),i.memoizedState=af,i=h);else if(Ss(i),Hf(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=uf(t,i,r)}else if(xt||tl(t,i,r,!1),_=(r&t.childLanes)!==0,xt||_){if(_=et,_!==null&&(l=r&-r,l=(l&42)!==0?1:Vo(l),l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,br(t,l),vn(_,t,l),by;A.data==="$?"||Cf(),i=uf(t,i,r)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ut=Gn(A.nextSibling),sn=i,Be=!0,Va=null,ii=!1,t!==null&&(In[Dn++]=Ni,In[Dn++]=Vi,In[Dn++]=xa,Ni=t.id,Vi=t.overflow,xa=i),i=lf(i,l.children),i.flags|=4096);return i}return h?(Ts(),h=l.fallback,A=i.mode,D=t.child,B=D.sibling,l=xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?h=xi(B,h):(h=Oa(h,A,r,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=rf(r):(D=A.cachePool,D!==null?(B=wt._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Eg(),A={baseLanes:A.baseLanes|r,cachePool:D}),h.memoizedState=A,h.childLanes=of(t,_,r),i.memoizedState=af,l):(Ss(i),r=t.child,t=r.sibling,r=xi(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function lf(t,i){return i=mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function mc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function uf(t,i,r){return Ur(i,t.child,null,r),t=lf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function My(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rd(t.return,i,r)}function cf(t,i,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function Uy(t,i,r){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(kt(t,i,l.children,r),l=bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,r,i);else if(t.tag===19)My(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(le(bt,l),h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&cc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),cf(i,!1,h,r,f);break;case"backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}cf(i,!0,r,null,f);break;case"together":cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Is|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(tl(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=xi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=xi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function hf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function uS(t,i,r){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),ys(i,wt,t.memoizedState.cache),$o();break;case 27:case 5:Do(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:ys(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ss(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Py(t,i,r):(Ss(i),t=Li(t,i,r),t!==null?t.sibling:null);Ss(i);break;case 19:var h=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(tl(t,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return Uy(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,Dy(t,i,r);case 24:ys(i,wt,t.memoizedState.cache)}return Li(t,i,r)}function ky(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!hf(t,r)&&(i.flags&128)===0)return xt=!1,uS(t,i,r);xt=(t.flags&131072)!==0}else xt=!1,Be&&(i.flags&1048576)!==0&&fg(i,Ku,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_d(l)?(t=za(l,t),i.tag=1,i=Ny(null,i,l,t,r)):(i.tag=0,i=sf(null,i,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===me){i.tag=11,i=Ry(null,i,l,t,r);break e}else if(h===O){i.tag=14,i=Cy(null,i,l,t,r);break e}}throw i=ae(l)||l,Error(a(306,i,""))}}return i;case 0:return sf(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=za(l,i.pendingProps),Ny(t,i,l,h,r);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Vd(t,i),ll(i,l,null,r);var _=i.memoizedState;if(l=_.cache,ys(i,wt,l),l!==f.cache&&Cd(i,[wt],r,!0),ol(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Vy(t,i,l,r);break e}else if(l!==h){h=Rn(Error(a(424)),i),el(h),i=Vy(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Gn(t.firstChild),sn=i,Be=!0,Va=null,ii=!0,r=py(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if($o(),l===h){i=Li(t,i,r);break e}kt(t,i,l,r)}i=i.child}return i;case 26:return fc(t,i),t===null?(r=jv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Be||(r=i.type,t=i.pendingProps,l=Ic(we.current).createElement(r),l[dt]=i,l[Ut]=t,zt(l,r,t),ft(l),i.stateNode=l):i.memoizedState=jv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Do(i),t===null&&Be&&(l=i.stateNode=Lv(i.type,i.pendingProps,we.current),sn=i,ii=!0,h=ut,Ns(i.type)?(Gf=h,ut=Gn(l.firstChild)):ut=h),kt(t,i,i.pendingProps.children,r),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=kS(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,sn=i,ut=Gn(l.firstChild),ii=!1,h=!0):h=!1),h||Pa(i)),Do(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:_!==null&&jf(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zd(t,i,tS,null,null,r),Ol._currentValue=h),fc(t,i),kt(t,i,l,r),i.child;case 6:return t===null&&Be&&((t=r=ut)&&(r=LS(r,i.pendingProps,ii),r!==null?(i.stateNode=r,sn=i,ut=null,t=!0):t=!1),t||Pa(i)),null;case 13:return Py(t,i,r);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ur(i,null,l,r):kt(t,i,l,r),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,r);case 7:return kt(t,i,i.pendingProps,r),i.child;case 8:return kt(t,i,i.pendingProps.children,r),i.child;case 12:return kt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,ys(i,i.type,l.value),kt(t,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ua(i),h=Kt(h),l=l(h),i.flags|=1,kt(t,i,l,r),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,r);case 15:return Iy(t,i,i.type,i.pendingProps,r);case 19:return Uy(t,i,r);case 31:return l=i.pendingProps,r=i.mode,l={mode:l.mode,children:l.children},t===null?(r=mc(l,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=xi(t.child,l),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return Dy(t,i,r);case 24:return Ua(i),l=Kt(wt),t===null?(h=Od(),h===null&&(h=et,f=Id(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),i.memoizedState={parent:l,cache:h},Nd(i),ys(i,wt,h)):((t.lanes&r)!==0&&(Vd(t,i),ll(i,null,null,r),ol()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ys(i,wt,l)):(l=f.cache,ys(i,wt,l),l!==h.cache&&Cd(i,[wt],r,!0))),kt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zi(t){t.flags|=4}function Ly(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qv(i)){if(i=On.current,i!==null&&((ze&4194048)===ze?si!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==si))throw al=xd,Ag;t.flags|=8192}}function pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ss():536870912,t.lanes|=i,qr|=i)}function pl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function cS(t,i,r){var l=i.pendingProps;switch(Td(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(wt),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jo(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),at(i),null;case 26:return r=i.memoizedState,t===null?(zi(i),r!==null?(at(i),Ly(i,r)):(at(i),i.flags&=-16777217)):r?r!==t.memoizedState?(zi(i),at(i),Ly(i,r)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&zi(i),at(i),i.flags&=-16777217),null;case 27:ar(i),r=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}t=ye.current,Jo(i)?mg(i):(t=Lv(h,l,r),i.stateNode=t,zi(i))}return at(i),null;case 5:if(ar(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}if(t=ye.current,Jo(i))mg(i);else{switch(h=Ic(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[dt]=i,t[Ut]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=we.current,Jo(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[dt]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||xv(t.nodeValue,r)),t||Pa(i)}else t=Ic(t).createTextNode(l),t[dt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[dt]=i}else $o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),pc(i,i.updateQueue),at(i),null;case 4:return Mn(),t===null&&Uf(i.stateNode.containerInfo),at(i),null;case 10:return Mi(i.type),at(i),null;case 19:if(ce(bt),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)pl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=cc(t),f!==null){for(i.flags|=128,pl(h,!1),t=f.updateQueue,i.updateQueue=t,pc(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)dg(r,t),r=r.sibling;return le(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&an()>vc&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304)}else{if(!l)if(t=cc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,pc(i,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Be)return at(i),null}else 2*an()-h.renderingStartTime>vc&&r!==536870912&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,t=bt.current,le(bt,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return ki(i),kd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),r=i.updateQueue,r!==null&&pc(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&ce(ka),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Mi(wt),at(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function hS(t,i){switch(Td(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(wt),Mn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ar(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));$o()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(bt),null;case 4:return Mn(),null;case 10:return Mi(i.type),null;case 22:case 23:return ki(i),kd(),t!==null&&ce(ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(wt),null;case 25:return null;default:return null}}function zy(t,i){switch(Td(i),i.tag){case 3:Mi(wt),Mn();break;case 26:case 27:case 5:ar(i);break;case 4:Mn();break;case 13:ki(i);break;case 19:ce(bt);break;case 10:Mi(i.type);break;case 22:case 23:ki(i),kd(),t!==null&&ce(ka);break;case 24:Mi(wt)}}function gl(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==h)}}catch(A){Je(i,i.return,A)}}function ws(t,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var D=r,B=A;try{B()}catch(W){Je(h,D,W)}}}l=l.next}while(l!==f)}}catch(W){Je(i,i.return,W)}}function qy(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Cg(i,r)}catch(l){Je(t,t.return,l)}}}function jy(t,i,r){r.props=za(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Je(t,i,l)}}function yl(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Je(t,i,h)}}function ai(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Je(t,i,h)}else r.current=null}function By(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Je(t,t.return,h)}}function df(t,i,r){try{var l=t.stateNode;NS(l,t.type,r,i),l[Ut]=i}catch(h){Je(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Cc));else if(l!==4&&(l===27&&Ns(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(mf(t,i,r),t=t.sibling;t!==null;)mf(t,i,r),t=t.sibling}function gc(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Ns(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gc(t,i,r),t=t.sibling;t!==null;)gc(t,i,r),t=t.sibling}function Hy(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,r),i[dt]=t,i[Ut]=r}catch(f){Je(t,t.return,f)}}var qi=!1,gt=!1,pf=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function dS(t,i){if(t=t.containerInfo,zf=Pc,t=ng(t),dd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var _=0,A=-1,D=-1,B=0,W=0,$=t,F=null;t:for(;;){for(var G;$!==r||h!==0&&$.nodeType!==3||(A=_+h),$!==f||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(G=$.firstChild)!==null;)F=$,$=G;for(;;){if($===t)break t;if(F===r&&++B===h&&(A=_),F===f&&++W===l&&(D=_),(G=$.nextSibling)!==null)break;$=F,F=$.parentNode}$=G}r=A===-1||D===-1?null:{start:A,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:t,selectionRange:r},Pc=!1,Nt=i;Nt!==null;)if(i=Nt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Nt=t;else for(;Nt!==null;){switch(i=Nt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=i,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var be=za(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(be,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Ff(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Nt=t;break}Nt=i.return}}function Qy(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:bs(t,r),l&4&&gl(5,r);break;case 1:if(bs(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(r,r.return,_)}else{var h=za(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(r,r.return,_)}}l&64&&qy(r),l&512&&yl(r,r.return);break;case 3:if(bs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Cg(t,i)}catch(_){Je(r,r.return,_)}}break;case 27:i===null&&l&4&&Hy(r);case 26:case 5:bs(t,r),i===null&&l&4&&By(r),l&512&&yl(r,r.return);break;case 12:bs(t,r);break;case 13:bs(t,r),l&4&&Xy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=AS.bind(null,r),zS(t,r))));break;case 22:if(l=r.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||gt,h=qi;var f=gt;qi=l,(gt=i)&&!f?Rs(t,r,(r.subtreeFlags&8772)!==0):bs(t,r),qi=h,gt=f}break;case 30:break;default:bs(t,r)}}function Ky(t){var i=t.alternate;i!==null&&(t.alternate=null,Ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&cr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,on=!1;function ji(t,i,r){for(r=r.child;r!==null;)Yy(t,i,r),r=r.sibling}function Yy(t,i,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 26:gt||ai(r,i),ji(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gt||ai(r,i);var l=it,h=on;Ns(r.type)&&(it=r.stateNode,on=!1),ji(t,i,r),Rl(r.stateNode),it=l,on=h;break;case 5:gt||ai(r,i);case 6:if(l=it,h=on,it=null,ji(t,i,r),it=l,on=h,it!==null)if(on)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(r.stateNode)}catch(f){Je(r,i,f)}else try{it.removeChild(r.stateNode)}catch(f){Je(r,i,f)}break;case 18:it!==null&&(on?(t=it,Uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pl(t)):Uv(it,r.stateNode));break;case 4:l=it,h=on,it=r.stateNode.containerInfo,on=!0,ji(t,i,r),it=l,on=h;break;case 0:case 11:case 14:case 15:gt||ws(2,r,i),gt||ws(4,r,i),ji(t,i,r);break;case 1:gt||(ai(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&jy(r,i,l)),ji(t,i,r);break;case 21:ji(t,i,r);break;case 22:gt=(l=gt)||r.memoizedState!==null,ji(t,i,r),gt=l;break;default:ji(t,i,r)}}function Xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(r){Je(i,i.return,r)}}function fS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Gy),i;default:throw Error(a(435,t.tag))}}function gf(t,i){var r=fS(t);i.forEach(function(l){var h=SS.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function mn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Ns(A.type)){it=A.stateNode,on=!1;break e}break;case 5:it=A.stateNode,on=!1;break e;case 3:case 4:it=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(it===null)throw Error(a(160));Yy(f,_,h),it=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wy(i,t),i=i.sibling}var Hn=null;function Wy(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(ws(3,t,t.return),gl(3,t),ws(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(gt||r===null||ai(r,r.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Hn;if(mn(i,t),pn(t),l&512&&(gt||r===null||ai(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[os]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),zt(f,l,r),f[dt]=t,ft(f),l=f;break e;case"link":var _=Hv("link","href",h).get(l+(r.href||""));if(_){for(var A=0;A<_.length;A++)if(f=_[A],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(A,1);break t}}f=h.createElement(l),zt(f,l,r),h.head.appendChild(f);break;case"meta":if(_=Hv("meta","content",h).get(l+(r.content||""))){for(A=0;A<_.length;A++)if(f=_[A],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(A,1);break t}}f=h.createElement(l),zt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[dt]=t,ft(f),l=f}t.stateNode=l}else Gv(h,t.type,t.stateNode);else t.stateNode=Fv(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Gv(h,t.type,t.stateNode):Fv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&df(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(gt||r===null||ai(r,r.return)),r!==null&&l&4&&df(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(gt||r===null||ai(r,r.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(G){Je(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,r!==null?r.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(G){Je(t,t.return,G)}}break;case 3:if(xc=null,h=Hn,Hn=Dc(i.containerInfo),mn(i,t),Hn=h,pn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(G){Je(t,t.return,G)}pf&&(pf=!1,Zy(t));break;case 4:l=Hn,Hn=Dc(t.stateNode.containerInfo),mn(i,t),pn(t),Hn=l;break;case 12:mn(i,t),pn(t);break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sf=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 22:h=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,B=qi,W=gt;if(qi=B||h,gt=W||D,mn(i,t),gt=W,qi=B,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||D||qi||gt||qa(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){D=r=i;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var $=D.memoizedProps.style,F=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Je(D,D.return,G)}}}else if(i.tag===6){if(r===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(G){Je(D,D.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,gf(t,r))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(Fy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ff(t);gc(t,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(wn(_,""),r.flags&=-33);var A=ff(t);gc(t,A,_);break;case 3:case 4:var D=r.stateNode.containerInfo,B=ff(t);mf(t,B,D);break;default:throw Error(a(161))}}catch(W){Je(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function bs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qy(t,i.alternate,i),i=i.sibling}function qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),qa(i);break;case 1:ai(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&jy(i,i.return,r),qa(i);break;case 27:Rl(i.stateNode);case 26:case 5:ai(i,i.return),qa(i);break;case 22:i.memoizedState===null&&qa(i);break;case 30:qa(i);break;default:qa(i)}t=t.sibling}}function Rs(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Rs(h,f,r),gl(4,f);break;case 1:if(Rs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Rg(D[h],A)}catch(B){Je(l,l.return,B)}}r&&_&64&&qy(f),yl(f,f.return);break;case 27:Hy(f);case 26:case 5:Rs(h,f,r),r&&l===null&&_&4&&By(f),yl(f,f.return);break;case 12:Rs(h,f,r);break;case 13:Rs(h,f,r),r&&_&4&&Xy(h,f);break;case 22:f.memoizedState===null&&Rs(h,f,r),yl(f,f.return);break;case 30:break;default:Rs(h,f,r)}i=i.sibling}}function yf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function vf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ri(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(t,i,r,l),i=i.sibling}function Jy(t,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,r,l),h&2048&&gl(9,i);break;case 1:ri(t,i,r,l);break;case 3:ri(t,i,r,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){ri(t,i,r,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,A=f.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ri(t,i,r,l);break;case 13:ri(t,i,r,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?ri(t,i,r,l):vl(t,i):f._visibility&2?ri(t,i,r,l):(f._visibility|=2,kr(t,i,r,l,(i.subtreeFlags&10256)!==0)),h&2048&&yf(_,i);break;case 24:ri(t,i,r,l),h&2048&&vf(i.alternate,i);break;default:ri(t,i,r,l)}}function kr(t,i,r,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,_=i,A=r,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:kr(f,_,A,D,h),gl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?kr(f,_,A,D,h):vl(f,_):(W._visibility|=2,kr(f,_,A,D,h)),h&&B&2048&&yf(_.alternate,_);break;case 24:kr(f,_,A,D,h),h&&B&2048&&vf(_.alternate,_);break;default:kr(f,_,A,D,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,h=l.flags;switch(l.tag){case 22:vl(r,l),h&2048&&yf(l.alternate,l);break;case 24:vl(r,l),h&2048&&vf(l.alternate,l);break;default:vl(r,l)}i=i.sibling}}var _l=8192;function Lr(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 26:Lr(t),t.flags&_l&&t.memoizedState!==null&&JS(Hn,t.memoizedState,t.memoizedProps);break;case 5:Lr(t);break;case 3:case 4:var i=Hn;Hn=Dc(t.stateNode.containerInfo),Lr(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_l,_l=16777216,Lr(t),_l=i):Lr(t));break;default:Lr(t)}}function ev(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Nt=l,nv(l,t)}ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&ws(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):El(t);break;default:El(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Nt=l,nv(l,t)}ev(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ws(8,i,i.return),yc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function nv(t,i){for(;Nt!==null;){var r=Nt;switch(r.tag){case 0:case 11:case 15:ws(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Nt=l;else e:for(r=t;Nt!==null;){l=Nt;var h=l.sibling,f=l.return;if(Ky(l),l===r){Nt=null;break e}if(h!==null){h.return=f,Nt=h;break e}Nt=f}}}var mS={getCacheForType:function(t){var i=Kt(wt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},pS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ve=null,ze=0,Qe=0,gn=null,Cs=!1,zr=!1,_f=!1,Bi=0,ct=0,Is=0,ja=0,Ef=0,xn=0,qr=0,Al=null,ln=null,Af=!1,Sf=0,vc=1/0,_c=null,Ds=null,Lt=0,Os=null,jr=null,Br=0,Tf=0,wf=null,iv=null,Sl=0,bf=null;function yn(){if((Ge&2)!==0&&ze!==0)return ze&-ze;if(H.T!==null){var t=Dr;return t!==0?t:Nf()}return wi()}function sv(){xn===0&&(xn=(ze&536870912)===0||Be?No():536870912);var t=On.current;return t!==null&&(t.flags|=32),xn}function vn(t,i,r){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Fr(t,0),xs(t,ze,xn,!1)),ht(t,r),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(ja|=r),ct===4&&xs(t,ze,xn,!1)),oi(t))}function av(t,i,r){if((Ge&6)!==0)throw Error(a(327));var l=!r&&(i&124)===0&&(i&t.expiredLanes)===0||is(t,i),h=l?vS(t,i):If(t,i,!0),f=l;do{if(h===0){zr&&!l&&xs(t,i,0,!1);break}else{if(r=t.current.alternate,f&&!gS(r)){h=If(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=Al;var D=A.current.memoizedState.isDehydrated;if(D&&(Fr(A,_).flags|=256),_=If(A,_,!1),_!==2){if(_f&&!D){A.errorRecoveryDisabledLanes|=f,ja|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Fr(t,0),xs(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:xs(l,i,xn,!Cs);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Sf+300-an(),10<h)){if(xs(l,i,xn,!Cs),Sn(l,0,!0)!==0)break e;l.timeoutHandle=Pv(rv.bind(null,l,r,ln,_c,Af,i,xn,ja,qr,Cs,f,2,-0,0),h);break e}rv(l,r,ln,_c,Af,i,xn,ja,qr,Cs,f,0,-0,0)}}break}while(!0);oi(t)}function rv(t,i,r,l,h,f,_,A,D,B,W,$,F,G){if(t.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:ZS},$y(i),$=$S(),$!==null)){t.cancelPendingCommit=$(fv.bind(null,t,i,f,r,l,h,_,A,D,W,1,F,G)),xs(t,f,_,!B);return}fv(t,i,f,r,l,h,_,A,D)}function gS(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xs(t,i,r,l){i&=~Ef,i&=~ja,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-$t(h),_=1<<f;l[f]=-1,h&=~_}r!==0&&as(t,r,i)}function Ec(){return(Ge&6)===0?(Tl(0),!1):!0}function Rf(){if(Ve!==null){if(Qe===0)var t=Ve.return;else t=Ve,Pi=Ma=null,Bd(t),Mr=null,fl=0,t=Ve;for(;t!==null;)zy(t.alternate,t),t=t.return;Ve=null}}function Fr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,PS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Rf(),et=t,Ve=r=xi(t.current,null),ze=i,Qe=0,gn=null,Cs=!1,zr=is(t,i),_f=!1,qr=xn=Ef=ja=Is=ct=0,ln=Al=null,Af=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-$t(l),f=1<<h;i|=t[h],l&=~f}return Bi=i,Bu(),r}function ov(t,i){xe=null,H.H=oc,i===sl||i===Zu?(i=wg(),Qe=3):i===Ag?(i=wg(),Qe=4):Qe=i===by?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ve===null&&(ct=1,dc(t,Rn(i,t.current)))}function lv(){var t=H.H;return H.H=oc,t===null?oc:t}function uv(){var t=H.A;return H.A=mS,t}function Cf(){ct=4,Cs||(ze&4194048)!==ze&&On.current!==null||(zr=!0),(Is&134217727)===0&&(ja&134217727)===0||et===null||xs(et,ze,xn,!1)}function If(t,i,r){var l=Ge;Ge|=2;var h=lv(),f=uv();(et!==t||ze!==i)&&(_c=null,Fr(t,i)),i=!1;var _=ct;e:do try{if(Qe!==0&&Ve!==null){var A=Ve,D=gn;switch(Qe){case 8:Rf(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var B=Qe;if(Qe=0,gn=null,Hr(t,A,D,B),r&&zr){_=0;break e}break;default:B=Qe,Qe=0,gn=null,Hr(t,A,D,B)}}yS(),_=ct;break}catch(W){ov(t,W)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ma=null,Ge=l,H.H=h,H.A=f,Ve===null&&(et=null,ze=0,Bu()),_}function yS(){for(;Ve!==null;)cv(Ve)}function vS(t,i){var r=Ge;Ge|=2;var l=lv(),h=uv();et!==t||ze!==i?(_c=null,vc=an()+500,Fr(t,i)):zr=is(t,i);e:do try{if(Qe!==0&&Ve!==null){i=Ve;var f=gn;t:switch(Qe){case 1:Qe=0,gn=null,Hr(t,i,f,1);break;case 2:case 9:if(Sg(f)){Qe=0,gn=null,hv(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),oi(t)},f.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Sg(f)?(Qe=0,gn=null,hv(i)):(Qe=0,gn=null,Hr(t,i,f,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(!_||Qv(_)){Qe=0,gn=null;var D=A.sibling;if(D!==null)Ve=D;else{var B=A.return;B!==null?(Ve=B,Ac(B)):Ve=null}break t}}Qe=0,gn=null,Hr(t,i,f,5);break;case 6:Qe=0,gn=null,Hr(t,i,f,6);break;case 8:Rf(),ct=6;break e;default:throw Error(a(462))}}_S();break}catch(W){ov(t,W)}while(!0);return Pi=Ma=null,H.H=l,H.A=h,Ge=r,Ve!==null?0:(et=null,ze=0,Bu(),ct)}function _S(){for(;Ve!==null&&!td();)cv(Ve)}function cv(t){var i=ky(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?Ac(t):Ve=i}function hv(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=xy(r,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=xy(r,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Bd(i);default:zy(r,i),i=Ve=dg(i,Bi),i=ky(r,i,Bi)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Ve=i}function Hr(t,i,r,l){Pi=Ma=null,Bd(i),Mr=null,fl=0;var h=i.return;try{if(lS(t,h,i,r,ze)){ct=1,dc(t,Rn(r,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;ct=1,dc(t,Rn(r,t.current)),Ve=null;return}i.flags&32768?(Be||l===1?t=!0:zr||(ze&536870912)!==0?t=!1:(Cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),dv(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){dv(i,Cs);return}t=i.return;var r=cS(i.alternate,i,Bi);if(r!==null){Ve=r;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);ct===0&&(ct=5)}function dv(t,i){do{var r=hS(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);ct=6,Ve=null}function fv(t,i,r,l,h,f,_,A,D){t.cancelPendingCommit=null;do Sc();while(Lt!==0);if((Ge&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=yd,bu(t,r,f,_,A,D),t===et&&(Ve=et=null,ze=0),jr=i,Os=t,Br=r,Tf=f,wf=h,iv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TS(Ti,function(){return vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=K.p,K.p=2,_=Ge,Ge|=4;try{dS(t,i,r)}finally{Ge=_,K.p=h,H.T=l}}Lt=1,mv(),pv(),gv()}}function mv(){if(Lt===1){Lt=0;var t=Os,i=jr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=K.p;K.p=2;var h=Ge;Ge|=4;try{Wy(i,t);var f=qf,_=ng(t.containerInfo),A=f.focusedElem,D=f.selectionRange;if(_!==A&&A&&A.ownerDocument&&tg(A.ownerDocument.documentElement,A)){if(D!==null&&dd(A)){var B=D.start,W=D.end;if(W===void 0&&(W=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min(W,A.value.length);else{var $=A.ownerDocument||document,F=$&&$.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=A.textContent.length,_e=Math.min(D.start,be),Ze=D.end===void 0?_e:Math.min(D.end,be);!G.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var L=eg(A,_e),V=eg(A,Ze);if(L&&V&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=$.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),_e>Ze?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for($=[],G=A;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var Z=$[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Pc=!!zf,qf=zf=null}finally{Ge=h,K.p=l,H.T=r}}t.current=i,Lt=2}}function pv(){if(Lt===2){Lt=0;var t=Os,i=jr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=K.p;K.p=2;var h=Ge;Ge|=4;try{Qy(t,i.alternate,i)}finally{Ge=h,K.p=l,H.T=r}}Lt=3}}function gv(){if(Lt===4||Lt===3){Lt=0,Oo();var t=Os,i=jr,r=Br,l=iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,jr=Os=null,yv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),Po(r),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ts,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=K.p,K.p=2,H.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];f(A.value,{componentStack:A.stack})}}finally{H.T=i,K.p=h}}(Br&3)!==0&&Sc(),oi(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===bf?Sl++:(Sl=0,bf=t):Sl=0,Tl(0)}}function yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Sc(t){return mv(),pv(),gv(),vv()}function vv(){if(Lt!==5)return!1;var t=Os,i=Tf;Tf=0;var r=Po(Br),l=H.T,h=K.p;try{K.p=32>r?32:r,H.T=null,r=wf,wf=null;var f=Os,_=Br;if(Lt=0,jr=Os=null,Br=0,(Ge&6)!==0)throw Error(a(331));var A=Ge;if(Ge|=4,tv(f.current),Jy(f,f.current,_,r),Ge=A,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ts,f)}catch{}return!0}finally{K.p=h,H.T=l,yv(t,i)}}function _v(t,i,r){i=Rn(r,i),i=nf(t.stateNode,i,2),t=Es(t,i,2),t!==null&&(ht(t,2),oi(t))}function Je(t,i,r){if(t.tag===3)_v(t,t,r);else for(;i!==null;){if(i.tag===3){_v(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){t=Rn(r,t),r=Ty(2),l=Es(i,r,2),l!==null&&(wy(r,l,i,t),ht(l,2),oi(l));break}}i=i.return}}function Df(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(_f=!0,h.add(r),t=ES.bind(null,t,i,r),i.then(t,t))}function ES(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(ze&r)===r&&(ct===4||ct===3&&(ze&62914560)===ze&&300>an()-Sf?(Ge&2)===0&&Fr(t,0):Ef|=r,qr===ze&&(qr=0)),oi(t)}function Ev(t,i){i===0&&(i=ss()),t=br(t,i),t!==null&&(ht(t,i),oi(t))}function AS(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Ev(t,r)}function SS(t,i){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Ev(t,r)}function TS(t,i){return ra(t,i)}var Tc=null,Gr=null,Of=!1,wc=!1,xf=!1,Ba=0;function oi(t){t!==Gr&&t.next===null&&(Gr===null?Tc=Gr=t:Gr=Gr.next=t),wc=!0,Of||(Of=!0,bS())}function Tl(t,i){if(!xf&&wc){xf=!0;do for(var r=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-$t(42|t)+1)-1,f&=h&~(_&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,wv(l,f))}else f=ze,f=Sn(l,l===et?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||is(l,f)||(r=!0,wv(l,f));l=l.next}while(r);xf=!1}}function wS(){Av()}function Av(){wc=Of=!1;var t=0;Ba!==0&&(VS()&&(t=Ba),Ba=0);for(var i=an(),r=null,l=Tc;l!==null;){var h=l.next,f=Sv(l,i);f===0?(l.next=null,r===null?Tc=h:r.next=h,h===null&&(Gr=r)):(r=l,(t!==0||(f&3)!==0)&&(wc=!0)),l=h}Tl(t)}function Sv(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-$t(f),A=1<<_,D=h[_];D===-1?((A&r)===0||(A&l)!==0)&&(h[_]=lr(A,i)):D<=i&&(t.expiredLanes|=A),f&=~A}if(i=et,r=ze,r=Sn(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&or(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||is(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&or(l),Po(r)){case 2:case 8:r=Dt;break;case 32:r=Ti;break;case 268435456:r=xo;break;default:r=Ti}return l=Tv.bind(null,t),r=ra(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&or(l),t.callbackPriority=2,t.callbackNode=null,2}function Tv(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Sc()&&t.callbackNode!==r)return null;var l=ze;return l=Sn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(av(t,l,i),Sv(t,an()),t.callbackNode!=null&&t.callbackNode===r?Tv.bind(null,t):null)}function wv(t,i){if(Sc())return null;av(t,i,!0)}function bS(){MS(function(){(Ge&6)!==0?ra(St,wS):Av()})}function Nf(){return Ba===0&&(Ba=No()),Ba}function bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zn(""+t)}function Rv(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function RS(t,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var f=bv((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?bv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var A=new Aa("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ba!==0){var D=_?Rv(h,_):new FormData(h);Zd(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(A.preventDefault(),D=_?Rv(h,_):new FormData(h),Zd(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Vf=0;Vf<gd.length;Vf++){var Pf=gd[Vf],CS=Pf.toLowerCase(),IS=Pf[0].toUpperCase()+Pf.slice(1);Fn(CS,"on"+IS)}Fn(ag,"onAnimationEnd"),Fn(rg,"onAnimationIteration"),Fn(og,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(GA,"onTransitionRun"),Fn(QA,"onTransitionStart"),Fn(KA,"onTransitionCancel"),Fn(lg,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Cv(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],D=A.instance,B=A.currentTarget;if(A=A.listener,D!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=B;try{f(h)}catch(W){hc(W)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(A=l[_],D=A.instance,B=A.currentTarget,A=A.listener,D!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=B;try{f(h)}catch(W){hc(W)}h.currentTarget=null,f=D}}}}function Pe(t,i){var r=i[la];r===void 0&&(r=i[la]=new Set);var l=t+"__bubble";r.has(l)||(Iv(i,t,2,!1),r.add(l))}function Mf(t,i,r){var l=0;i&&(l|=4),Iv(r,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Uf(t){if(!t[bc]){t[bc]=!0,Ru.forEach(function(r){r!=="selectionchange"&&(DS.has(r)||Mf(r,!1,t),Mf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Mf("selectionchange",!1,i))}}function Iv(t,i,r,l){switch(Jv(i)){case 2:var h=nT;break;case 8:h=iT;break;default:h=Wf}r=h.bind(null,i,r,t),h=void 0,!Di||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function kf(t,i,r,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=Wn(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue e}A=A.parentNode}}l=l.return}va(function(){var B=f,W=jo(r),$=[];e:{var F=ug.get(t);if(F!==void 0){var G=Aa,be=t;switch(t){case"keypress":if(_a(r)===0)break e;case"keydown":case"keyup":G=Ar;break;case"focusin":be="focus",G=vr;break;case"focusout":be="blur",G=vr;break;case"beforeblur":case"afterblur":G=vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=gs;break;case ag:case rg:case og:G=Fo;break;case lg:G=g;break;case"scroll":case"scrollend":G=Ta;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qo;break;case"toggle":case"beforetoggle":G=Q}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=B,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=ms(V,L),Z!=null&&_e.push(bl(V,Z,z))),Ze)break;V=V.return}0<_e.length&&(F=new G(F,be,null,r,W),$.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&r!==qo&&(be=r.relatedTarget||r.fromElement)&&(Wn(be)||be[bi]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=r.relatedTarget||r.toElement,G=B,be=be?Wn(be):null,be!==null&&(Ze=u(be),_e=be.tag,be!==Ze||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(G=null,be=B),G!==be)){if(_e=Ra,Z="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qo,Z="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=G==null?F:ls(G),z=be==null?F:ls(be),F=new _e(Z,V+"leave",G,r,W),F.target=Ze,F.relatedTarget=z,Z=null,Wn(W)===B&&(_e=new _e(L,V+"enter",be,r,W),_e.target=z,_e.relatedTarget=Ze,Z=_e),Ze=Z,G&&be)t:{for(_e=G,L=be,V=0,z=_e;z;z=Qr(z))V++;for(z=0,Z=L;Z;Z=Qr(Z))z++;for(;0<V-z;)_e=Qr(_e),V--;for(;0<z-V;)L=Qr(L),z--;for(;V--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Qr(_e),L=Qr(L)}_e=null}else _e=null;G!==null&&Dv($,F,G,_e,!1),be!==null&&Ze!==null&&Dv($,Ze,be,_e,!0)}}e:{if(F=B?ls(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=Yp;else if(Qp(F))if(Xp)fe=BA;else{fe=qA;var Ne=zA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&pr(B.elementType)&&(fe=Yp):fe=jA;if(fe&&(fe=fe(t,B))){Kp($,fe,r,W);break e}Ne&&Ne(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&ko(F,"number",F.value)}switch(Ne=B?ls(B):window,t){case"focusin":(Qp(Ne)||Ne.contentEditable==="true")&&(Sr=Ne,fd=B,Zo=null);break;case"focusout":Zo=fd=Sr=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,ig($,r,W);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":ig($,r,W)}var ge;if(Ie)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Bn?qn(t,r)&&(Ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(mt&&r.locale!=="ko"&&(Bn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Bn&&(ge=Nu()):(bn=W,$e="value"in bn?bn.value:bn.textContent,Bn=!0)),Ne=Rc(B,Ee),0<Ne.length&&(Ee=new Go(Ee,t,null,r,W),$.push({event:Ee,listeners:Ne}),ge?Ee.data=ge:(ge=jn(r),ge!==null&&(Ee.data=ge)))),(ge=He?Ko(t,r):UA(t,r))&&(Ee=Rc(B,"onBeforeInput"),0<Ee.length&&(Ne=new Go("onBeforeInput","beforeinput",null,r,W),$.push({event:Ne,listeners:Ee}),Ne.data=ge)),RS($,t,B,r,W)}Cv($,i)})}function bl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Rc(t,i){for(var r=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ms(t,r),h!=null&&l.unshift(bl(t,h,f)),h=ms(t,i),h!=null&&l.push(bl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dv(t,i,r,l,h){for(var f=i._reactName,_=[];r!==null&&r!==l;){var A=r,D=A.alternate,B=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||B===null||(D=B,h?(B=ms(r,f),B!=null&&_.unshift(bl(r,B,D))):h||(B=ms(r,f),B!=null&&_.push(bl(r,B,D)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var OS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(xS,"")}function xv(t,i){return i=Ov(i),Ov(t)===i}function Cc(){}function We(t,i,r,l,h,f){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":fa(t,"class",l);break;case"tabIndex":fa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fa(t,r,l);break;case"style":zo(t,l,f);break;case"data":if(i!=="object"){fa(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=zn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=zn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),da(t,"popover",l);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Du.get(r)||r,da(t,r,l))}}function Lf(t,i,r,l,h,f){switch(r){case"style":zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),f=t[Ut]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):da(t,r,l)}}}function zt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,f,_,r,null)}}h&&We(t,i,"srcSet",r.srcSet,r,null),l&&We(t,i,"src",r.src,r,null);return;case"input":Pe("invalid",t);var A=f=_=h=null,D=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var W=r[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":B=W;break;case"value":f=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:We(t,i,l,W,r,null)}}Uo(t,f,A,D,B,_,h,!1),hs(t);return;case"select":Pe("invalid",t),l=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(A=r[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:We(t,i,h,A,r,null)}i=f,r=_,t.multiple=!!l,i!=null?ds(t,!!l,i,!1):r!=null&&ds(t,!!l,r,!0);return;case"textarea":Pe("invalid",t),f=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(A=r[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:We(t,i,_,A,r,null)}Iu(t,l,h,f),hs(t);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,D,l,r,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Pe(wl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(t,i,B,l,r,null)}return;default:if(pr(i)){for(W in r)r.hasOwnProperty(W)&&(l=r[W],l!==void 0&&Lf(t,i,W,l,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null&&We(t,i,A,l,r,null))}function NS(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,A=null,D=null,B=null,W=null;for(G in r){var $=r[G];if(r.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(G)||We(t,i,G,null,l,$)}}for(var F in l){var G=l[F];if($=r[F],l.hasOwnProperty(F)&&(G!=null||$!=null))switch(F){case"type":f=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":W=G;break;case"value":_=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:G!==$&&We(t,i,F,G,l,$)}}Mo(t,_,A,D,B,W,f,h);return;case"select":G=_=A=F=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(f)||We(t,i,f,null,l,D)}for(h in l)if(f=l[h],D=r[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":F=f;break;case"defaultValue":A=f;break;case"multiple":_=f;default:f!==D&&We(t,i,h,f,l,D)}i=A,r=_,l=G,F!=null?ds(t,!!r,F,!1):!!l!=!!r&&(i!=null?ds(t,!!r,i,!0):ds(t,!!r,r?[]:"",!1));return;case"textarea":G=F=null;for(A in r)if(h=r[A],r.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(_ in l)if(h=l[_],f=r[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,i,_,h,l,f)}Cu(t,F,G);return;case"option":for(var be in r)if(F=r[be],r.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:We(t,i,be,null,l,F)}for(D in l)if(F=l[D],G=r[D],l.hasOwnProperty(D)&&F!==G&&(F!=null||G!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,D,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)F=r[_e],r.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,F);for(B in l)if(F=l[B],G=r[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:We(t,i,B,F,l,G)}return;default:if(pr(i)){for(var Ze in r)F=r[Ze],r.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Lf(t,i,Ze,void 0,l,F);for(W in l)F=l[W],G=r[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Lf(t,i,W,F,l,G);return}}for(var L in r)F=r[L],r.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,F);for($ in l)F=l[$],G=r[$],!l.hasOwnProperty($)||F===G||F==null&&G==null||We(t,i,$,F,l,G)}var zf=null,qf=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function Nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function jf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bf=null;function VS(){var t=window.event;return t&&t.type==="popstate"?t===Bf?!1:(Bf=t,!0):(Bf=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(US)}:Pv;function US(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function Uv(t,i){var r=i,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var _=t.ownerDocument;if(r&1&&Rl(_.documentElement),r&2&&Rl(_.body),r&4)for(r=_.head,Rl(r),_=r.firstChild;_;){var A=_.nextSibling,D=_.nodeName;_[os]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=A}}if(h===0){t.removeChild(f),Pl(i);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Pl(i)}function Ff(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ff(r),cr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kS(t,i,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[os])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function LS(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Gn(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zS(t,i){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Gf=null;function kv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function Lv(t,i,r){switch(i=Ic(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);cr(t)}var Nn=new Map,zv=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=K.d;K.d={f:qS,r:jS,D:BS,C:FS,L:HS,m:GS,X:KS,S:QS,M:YS};function qS(){var t=Fi.f(),i=Ec();return t||i}function jS(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?ay(i):Fi.r(t)}var Kr=typeof document>"u"?null:document;function qv(t,i,r){var l=Kr;if(l&&typeof i=="string"&&i){var h=Ot(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),zv.has(h)||(zv.add(h),t={rel:t,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ft(i),l.head.appendChild(i)))}}function BS(t){Fi.D(t),qv("dns-prefetch",t,null)}function FS(t,i){Fi.C(t,i),qv("preconnect",t,i)}function HS(t,i,r){Fi.L(t,i,r);var l=Kr;if(l&&t&&i){var h='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Ot(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Ot(r.imageSizes)+'"]')):h+='[href="'+Ot(t)+'"]';var f=h;switch(i){case"style":f=Yr(t);break;case"script":f=Xr(t)}Nn.has(f)||(t=E({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Nn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(f))||i==="script"&&l.querySelector(Il(f))||(i=l.createElement("link"),zt(i,"link",t),ft(i),l.head.appendChild(i)))}}function GS(t,i){Fi.m(t,i);var r=Kr;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xr(t)}if(!Nn.has(f)&&(t=E({rel:"modulepreload",href:t},i),Nn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(f)))return}l=r.createElement("link"),zt(l,"link",t),ft(l),r.head.appendChild(l)}}}function QS(t,i,r){Fi.S(t,i,r);var l=Kr;if(l&&t){var h=us(l).hoistableStyles,f=Yr(t);i=i||"default";var _=h.get(f);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Cl(f)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Nn.get(f))&&Qf(t,r);var D=_=l.createElement("link");ft(D),zt(D,"link",t),D._p=new Promise(function(B,W){D.onload=B,D.onerror=W}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Oc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(f,_)}}}function KS(t,i){Fi.X(t,i);var r=Kr;if(r&&t){var l=us(r).hoistableScripts,h=Xr(t),f=l.get(h);f||(f=r.querySelector(Il(h)),f||(t=E({src:t,async:!0},i),(i=Nn.get(h))&&Kf(t,i),f=r.createElement("script"),ft(f),zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function YS(t,i){Fi.M(t,i);var r=Kr;if(r&&t){var l=us(r).hoistableScripts,h=Xr(t),f=l.get(h);f||(f=r.querySelector(Il(h)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&Kf(t,i),f=r.createElement("script"),ft(f),zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function jv(t,i,r,l){var h=(h=we.current)?Dc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Yr(r.href),r=us(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Yr(r.href);var f=us(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||XS(h,t,r,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xr(r),r=us(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Yr(t){return'href="'+Ot(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Bv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",r),ft(i),t.head.appendChild(i))}function Xr(t){return'[src="'+Ot(t)+'"]'}function Il(t){return"script[async]"+t}function Fv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ot(r.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),zt(l,"style",h),Oc(l,r.precedence,t),i.instance=l;case"stylesheet":h=Yr(r.href);var f=t.querySelector(Cl(h));if(f)return i.state.loading|=4,i.instance=f,ft(f),f;l=Bv(r),(h=Nn.get(h))&&Qf(l,h),f=(t.ownerDocument||t).createElement("link"),ft(f);var _=f;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),zt(f,"link",l),i.state.loading|=4,Oc(f,r.precedence,t),i.instance=f;case"script":return f=Xr(r.src),(h=t.querySelector(Il(f)))?(i.instance=h,ft(h),h):(l=r,(h=Nn.get(f))&&(l=E({},r),Kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,r.precedence,t));return i.instance}function Oc(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function Hv(t,i,r){if(xc===null){var l=new Map,h=xc=new Map;h.set(r,l)}else h=xc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[os]||f[dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(f):l.set(_,[f])}}return l}function Gv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function WS(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function ZS(){}function JS(t,i,r){if(Dl===null)throw Error(a(475));var l=Dl;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Yr(r.href),f=t.querySelector(Cl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,ft(f);return}f=t.ownerDocument||t,r=Bv(r),(h=Nn.get(h))&&Qf(r,h),f=f.createElement("link"),ft(f);var _=f;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),zt(f,"link",r),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Nc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function $S(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&Yf(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&Yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Yf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(eT,t),Vc=null,Nc.call(t))}function eT(t,i){if(!(i.state.loading&4)){var r=Vc.get(t);if(r)var l=r.get(null);else{r=new Map,Vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,h),r.set(_,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:se,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function tT(t,i,r,l,h,f,_,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Kv(t,i,r,l,h,f,_,A,D,B,W,$){return t=new tT(t,i,r,_,A,D,B,$),i=1,f===!0&&(i|=24),f=fn(3,null,null,i),t.current=f,f.stateNode=t,i=Id(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:i},Nd(f),t}function Yv(t){return t?(t=Rr,t):Rr}function Xv(t,i,r,l,h,f){h=Yv(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(i),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Es(t,l,i),r!==null&&(vn(r,t,i),rl(r,t,i))}function Wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Xf(t,i){Wv(t,i),(t=t.alternate)&&Wv(t,i)}function Zv(t){if(t.tag===13){var i=br(t,67108864);i!==null&&vn(i,t,67108864),Xf(t,67108864)}}var Pc=!0;function nT(t,i,r,l){var h=H.T;H.T=null;var f=K.p;try{K.p=2,Wf(t,i,r,l)}finally{K.p=f,H.T=h}}function iT(t,i,r,l){var h=H.T;H.T=null;var f=K.p;try{K.p=8,Wf(t,i,r,l)}finally{K.p=f,H.T=h}}function Wf(t,i,r,l){if(Pc){var h=Zf(l);if(h===null)kf(t,i,l,Mc,r),$v(t,l);else if(aT(h,t,i,r,l))l.stopPropagation();else if($v(t,l),i&4&&-1<sT.indexOf(t)){for(;h!==null;){var f=Zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Un(f.pendingLanes);if(_!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-$t(_);A.entanglements[1]|=D,_&=~D}oi(f),(Ge&6)===0&&(vc=an()+500,Tl(0))}}break;case 13:A=br(f,2),A!==null&&vn(A,f,2),Ec(),Xf(f,2)}if(f=Zf(l),f===null&&kf(t,i,l,Mc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else kf(t,i,l,null,r)}}function Zf(t){return t=jo(t),Jf(t)}var Mc=null;function Jf(t){if(Mc=null,t=Wn(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function Jv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case St:return 2;case Dt:return 8;case Ti:case nd:return 32;case xo:return 268435456;default:return 32}default:return 32}}var $f=!1,Vs=null,Ps=null,Ms=null,xl=new Map,Nl=new Map,Us=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,i){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Vl(t,i,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&Zv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function aT(t,i,r,l,h){switch(i){case"focusin":return Vs=Vl(Vs,t,i,r,l,h),!0;case"dragenter":return Ps=Vl(Ps,t,i,r,l,h),!0;case"mouseover":return Ms=Vl(Ms,t,i,r,l,h),!0;case"pointerover":var f=h.pointerId;return xl.set(f,Vl(xl.get(f)||null,t,i,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Vl(Nl.get(f)||null,t,i,r,l,h)),!0}return!1}function e_(t){var i=Wn(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,ad(t.priority,function(){if(r.tag===13){var l=yn();l=Vo(l);var h=br(r,l);h!==null&&vn(h,r,l),Xf(r,l)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);qo=l,r.target.dispatchEvent(l),qo=null}else return i=Zn(r),i!==null&&Zv(i),t.blockedOn=r,!1;i.shift()}return!0}function t_(t,i,r){Uc(t)&&r.delete(i)}function rT(){$f=!1,Vs!==null&&Uc(Vs)&&(Vs=null),Ps!==null&&Uc(Ps)&&(Ps=null),Ms!==null&&Uc(Ms)&&(Ms=null),xl.forEach(t_),Nl.forEach(t_)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,$f||($f=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rT)))}var Lc=null;function n_(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Jf(l||r)===null)continue;break}var f=Zn(r);f!==null&&(t.splice(i,3),i-=3,Zd(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Pl(t){function i(D){return kc(D,t)}Vs!==null&&kc(Vs,t),Ps!==null&&kc(Ps,t),Ms!==null&&kc(Ms,t),xl.forEach(i),Nl.forEach(i);for(var r=0;r<Us.length;r++){var l=Us[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)e_(r),r.blockedOn===null&&Us.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],_=h[Ut]||null;if(typeof f=="function")_||n_(r);else if(_){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ut]||null)A=_.formAction;else if(Jf(h)!==null)continue}else A=_.action;typeof A=="function"?r[l+1]=A:(r.splice(l,3),l-=3),n_(r)}}}function em(t){this._internalRoot=t}zc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=yn();Xv(r,l,t,i,null,null)},zc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Xv(t.current,2,null,t,null,null),Ec(),i[bi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wi();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Us.length&&i!==0&&i<Us[r].priority;r++);Us.splice(r,0,t),r===0&&e_(t)}};var i_=e.version;if(i_!=="19.1.1")throw Error(a(527,i_,"19.1.1"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var oT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ts=qc.inject(oT),Gt=qc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",h=_y,f=Ey,_=Ay,A=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Kv(t,1,!1,null,null,r,l,h,f,_,A,null),t[bi]=i.current,Uf(t),new em(i)},Ul.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=_y,_=Ey,A=Ay,D=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),i=Kv(t,1,!0,i,r??null,l,h,f,_,A,D,B),i.context=Yv(null),r=i.current,l=yn(),l=Vo(l),h=_s(l),h.callback=null,Es(r,h,l),r=l,i.current.lanes=r,ht(i,r),oi(i),t[bi]=i.current,Uf(t),new zc(i)},Ul.version="19.1.1",Ul}var f_;function vT(){if(f_)return im.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),im.exports=yT(),im.exports}var _T=vT();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function ET(s={}){function e(a,o){let{pathname:u,search:d,hash:m}=a.location;return Tm("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Jl(o)}return ST(e,n,null,s)}function ot(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AT(){return Math.random().toString(36).substring(2,10)}function p_(s,e){return{usr:s.state,key:s.key,idx:e}}function Tm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||a||AT()}}function Jl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Eo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function ST(s,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function T(){m="POP";let M=E(),te=M==null?null:M-y;y=M,p&&p({action:m,location:J.location,delta:te})}function R(M,te){m="PUSH";let Y=Tm(J.location,M,te);y=E()+1;let se=p_(Y,y),me=J.createHref(Y);try{d.pushState(se,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(me)}u&&p&&p({action:m,location:J.location,delta:1})}function U(M,te){m="REPLACE";let Y=Tm(J.location,M,te);y=E();let se=p_(Y,y),me=J.createHref(Y);d.replaceState(se,"",me),u&&p&&p({action:m,location:J.location,delta:0})}function X(M){return TT(M)}let J={get action(){return m},get location(){return s(o,d)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,T),p=M,()=>{o.removeEventListener(m_,T),p=null}},createHref(M){return e(o,M)},createURL:X,encodeLocation(M){let te=X(M);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:R,replace:U,go(M){return d.go(M)}};return J}function TT(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Jl(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Y0(s,e,n="/"){return wT(s,e,n,!1)}function wT(s,e,n,a){let o=typeof e=="string"?Eo(e):e,u=Yi(o.pathname||"/",n);if(u==null)return null;let d=X0(s);bT(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=UT(u);m=PT(d[p],y,a)}return m}function X0(s,e=[],n=[],a="",o=!1){let u=(d,m,p=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;ot(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let T=Qi([a,E.relativePath]),R=n.concat(E);d.children&&d.children.length>0&&(ot(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),X0(d.children,e,R,T,p)),!(d.path==null&&!d.index)&&e.push({path:T,score:NT(T,d.index),routesMeta:R})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let p of W0(d.path))u(d,m,!0,p)}),e}function W0(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=W0(a.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...d),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function bT(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:VT(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var RT=/^:[\w-]+$/,CT=3,IT=2,DT=1,OT=10,xT=-2,g_=s=>s==="*";function NT(s,e){let n=s.split("/"),a=n.length;return n.some(g_)&&(a+=xT),e&&(a+=IT),n.filter(o=>!g_(o)).reduce((o,u)=>o+(RT.test(u)?CT:u===""?DT:OT),a)}function VT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function PT(s,e,n=!1){let{routesMeta:a}=s,o={},u="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!T&&y&&n&&!a[a.length-1].route.index&&(T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:Qi([u,T.pathname]),pathnameBase:qT(Qi([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=Qi([u,T.pathnameBase]))}return d}function lh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=MT(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let X=m[R]||"";d=u.slice(0,u.length-X.length).replace(/(.)\/+$/,"$1")}const U=m[R];return T&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:s}}function MT(s,e=!1,n=!0){vi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function UT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Yi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function kT(s,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?Eo(s):s;return{pathname:n?n.startsWith("/")?n:LT(n,e):e,search:jT(a),hash:BT(o)}}function LT(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zT(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z0(s){let e=zT(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function J0(s,e,n,a=!1){let o;typeof s=="string"?o=Eo(s):(o={...s},ot(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let T=e.length-1;if(!a&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=kT(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Qi=s=>s.join("/").replace(/\/\/+/g,"/"),qT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,BT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function FT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var $0=["POST","PUT","PATCH","DELETE"];new Set($0);var HT=["GET",...$0];new Set(HT);var Ao=j.createContext(null);Ao.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";j.createContext(!1);var eE=j.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var GT=j.createContext(new Map);GT.displayName="Fetchers";var QT=j.createContext(null);QT.displayName="Await";var Ai=j.createContext(null);Ai.displayName="Navigation";var lu=j.createContext(null);lu.displayName="Location";var Si=j.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Jm=j.createContext(null);Jm.displayName="RouteError";function KT(s,{relative:e}={}){ot(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=j.useContext(Ai),{hash:o,pathname:u,search:d}=cu(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),a.createHref({pathname:m,search:d,hash:o})}function uu(){return j.useContext(lu)!=null}function tr(){return ot(uu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lu).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(s){j.useContext(Ai).static||j.useLayoutEffect(s)}function na(){let{isDataRoute:s}=j.useContext(Si);return s?ow():YT()}function YT(){ot(uu(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Ao),{basename:e,navigator:n}=j.useContext(Ai),{matches:a}=j.useContext(Si),{pathname:o}=tr(),u=JSON.stringify(Z0(a)),d=j.useRef(!1);return nE(()=>{d.current=!0}),j.useCallback((p,y={})=>{if(vi(d.current,tE),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=J0(p,JSON.parse(u),o,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,s])}j.createContext(null);function XT(){let{matches:s}=j.useContext(Si),e=s[s.length-1];return e?e.params:{}}function cu(s,{relative:e}={}){let{matches:n}=j.useContext(Si),{pathname:a}=tr(),o=JSON.stringify(Z0(n));return j.useMemo(()=>J0(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function WT(s,e){return iE(s,e)}function iE(s,e,n,a,o){ot(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Ai),{matches:d}=j.useContext(Si),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Y=T&&T.path||"";sE(y,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=tr(),U;if(e){let Y=typeof e=="string"?Eo(e):e;ot(E==="/"||Y.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),U=Y}else U=R;let X=U.pathname||"/",J=X;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");J="/"+X.replace(/^\//,"").split("/").slice(Y.length).join("/")}let M=Y0(s,{pathname:J});vi(T||M!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),vi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=tw(M&&M.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:Qi([E,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:Qi([E,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),d,n,a,o);return e&&te?j.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},te):te}function ZT(){let s=rw(),e=FT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,d)}var JT=j.createElement(ZT,null),$T=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?j.createElement(Si.Provider,{value:this.props.routeContext},j.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:s,match:e,children:n}){let a=j.useContext(Ao);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Si.Provider,{value:s},n)}function tw(s,e=[],n=null,a=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let y=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ot(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:R}=n,U=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let R,U=!1,X=null,J=null;n&&(R=d&&E.route.id?d[E.route.id]:void 0,X=E.route.errorElement||JT,m&&(p<0&&T===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,J=null):p===T&&(U=!0,J=E.route.hydrateFallbackElement||null)));let M=e.concat(u.slice(0,T+1)),te=()=>{let Y;return R?Y=X:U?Y=J:E.route.Component?Y=j.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=y,j.createElement(ew,{match:E,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:Y})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?j.createElement($T,{location:n.location,revalidation:n.revalidation,component:X,error:R,children:te(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:a}):te()},null)}function $m(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(s){let e=j.useContext(Ao);return ot(e,$m(s)),e}function iw(s){let e=j.useContext(Nh);return ot(e,$m(s)),e}function sw(s){let e=j.useContext(Si);return ot(e,$m(s)),e}function ep(s){let e=sw(s),n=e.matches[e.matches.length-1];return ot(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return ep("useRouteId")}function rw(){let s=j.useContext(Jm),e=iw("useRouteError"),n=ep("useRouteError");return s!==void 0?s:e.errors?.[n]}function ow(){let{router:s}=nw("useNavigate"),e=ep("useNavigate"),n=j.useRef(!1);return nE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{vi(n.current,tE),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var y_={};function sE(s,e,n){!e&&!y_[s]&&(y_[s]=!0,vi(!1,n))}j.memo(lw);function lw({routes:s,future:e,state:n,unstable_onError:a}){return iE(s,void 0,n,a,e)}function Jr(s){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uw({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ot(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:R="default"}=n,U=j.useMemo(()=>{let X=Yi(p,d);return X==null?null:{location:{pathname:X,search:y,hash:E,state:T,key:R},navigationType:a}},[d,p,y,E,T,R,a]);return vi(U!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:j.createElement(Ai.Provider,{value:m},j.createElement(lu.Provider,{children:e,value:U}))}function cw({children:s,location:e}){return WT(wm(s),e)}function wm(s,e=[]){let n=[];return j.Children.forEach(s,(a,o)=>{if(!j.isValidElement(a))return;let u=[...e,o];if(a.type===j.Fragment){n.push.apply(n,wm(a.props.children,u));return}ot(a.type===Jr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=wm(a.props.children,u)),n.push(d)}),n}var Xc="get",Wc="application/x-www-form-urlencoded";function Vh(s){return s!=null&&typeof s.tagName=="string"}function hw(s){return Vh(s)&&s.tagName.toLowerCase()==="button"}function dw(s){return Vh(s)&&s.tagName.toLowerCase()==="form"}function fw(s){return Vh(s)&&s.tagName.toLowerCase()==="input"}function mw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pw(s,e){return s.button===0&&(!e||e==="_self")&&!mw(s)}var jc=null;function gw(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(s){return s!=null&&!yw.has(s)?(vi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):s}function vw(s,e){let n,a,o,u,d;if(dw(s)){let m=s.getAttribute("action");a=m?Yi(m,e):null,n=s.getAttribute("method")||Xc,o=lm(s.getAttribute("enctype"))||Wc,u=new FormData(s)}else if(hw(s)||fw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?Yi(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=lm(s.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Wc,u=new FormData(m,s),!gw()){let{name:y,type:E,value:T}=s;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Vh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,a=null,o=Wc,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function _w(s,e,n){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Yi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Ew(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Sw(s,e,n){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await Ew(u,n);return d.links?d.links():[]}return[]}));return Rw(a.flat(1).filter(Aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v_(s,e,n,a,o,u){let d=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Tw(s,e,{includeHydrateFallback:n}={}){return ww(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ww(s){return[...new Set(s)]}function bw(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function Rw(s,e){let n=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(bw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function aE(){let s=j.useContext(Ao);return tp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Cw(){let s=j.useContext(Nh);return tp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var np=j.createContext(void 0);np.displayName="FrameworkContext";function rE(){let s=j.useContext(np);return tp(s,"You must render this element inside a <HydratedRouter> element"),s}function Iw(s,e){let n=j.useContext(np),[a,o]=j.useState(!1),[u,d]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,R=j.useRef(null);j.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let J=te=>{te.forEach(Y=>{d(Y.isIntersecting)})},M=new IntersectionObserver(J,{threshold:.5});return R.current&&M.observe(R.current),()=>{M.disconnect()}}},[s]),j.useEffect(()=>{if(a){let J=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(J)}}},[a]);let U=()=>{o(!0)},X=()=>{o(!1),d(!1)};return n?s!=="intent"?[u,R,{}]:[u,R,{onFocus:kl(m,U),onBlur:kl(p,X),onMouseEnter:kl(y,U),onMouseLeave:kl(E,X),onTouchStart:kl(T,U)}]:[!1,R,{}]}function kl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Dw({page:s,...e}){let{router:n}=aE(),a=j.useMemo(()=>Y0(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?j.createElement(xw,{page:s,matches:a,...e}):null}function Ow(s){let{manifest:e,routeModules:n}=rE(),[a,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return Sw(s,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[s,e,n]),a}function xw({page:s,matches:e,...n}){let a=tr(),{manifest:o,routeModules:u}=rE(),{basename:d}=aE(),{loaderData:m,matches:p}=Cw(),y=j.useMemo(()=>v_(s,e,p,o,a,"data"),[s,e,p,o,a]),E=j.useMemo(()=>v_(s,e,p,o,a,"assets"),[s,e,p,o,a]),T=j.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let X=new Set,J=!1;if(e.forEach(te=>{let Y=o.routes[te.route.id];!Y||!Y.hasLoader||(!y.some(se=>se.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||Y.hasClientLoader?J=!0:X.add(te.route.id))}),X.size===0)return[];let M=_w(s,d,"data");return J&&X.size>0&&M.searchParams.set("_routes",e.filter(te=>X.has(te.route.id)).map(te=>te.route.id).join(",")),[M.pathname+M.search]},[d,m,a,o,y,e,s,u]),R=j.useMemo(()=>Tw(E,o),[E,o]),U=Ow(E);return j.createElement(j.Fragment,null,T.map(X=>j.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),R.map(X=>j.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),U.map(({key:X,link:J})=>j.createElement("link",{key:X,nonce:n.nonce,...J})))}function Nw(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.9.4")}catch{}function Vw({basename:s,children:e,window:n}){let a=j.useRef();a.current==null&&(a.current=ET({window:n,v5Compat:!0}));let o=a.current,[u,d]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>d(p))},[d]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(uw,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ph=j.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...R},U){let{basename:X}=j.useContext(Ai),J=typeof y=="string"&&lE.test(y),M,te=!1;if(typeof y=="string"&&J&&(M=y,oE))try{let I=new URL(window.location.href),P=y.startsWith("//")?new URL(I.protocol+y):new URL(y),N=Yi(P.pathname,X);P.origin===I.origin&&N!=null?y=N+P.search+P.hash:te=!0}catch{vi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=KT(y,{relative:o}),[se,me,ue]=Iw(a,R),Te=kw(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function O(I){e&&e(I),I.defaultPrevented||Te(I)}let C=j.createElement("a",{...R,...ue,href:M||Y,onClick:te||u?e:O,ref:Nw(U,me),target:p,"data-discover":!J&&n==="render"?"true":void 0});return se&&!J?j.createElement(j.Fragment,null,C,j.createElement(Dw,{page:Y})):C});Ph.displayName="Link";var Pw=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:p,...y},E){let T=cu(d,{relative:y.relative}),R=tr(),U=j.useContext(Nh),{navigator:X,basename:J}=j.useContext(Ai),M=U!=null&&Bw(T)&&m===!0,te=X.encodeLocation?X.encodeLocation(T).pathname:T.pathname,Y=R.pathname,se=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),se=se?se.toLowerCase():null,te=te.toLowerCase()),se&&J&&(se=Yi(se,J)||se);const me=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ue=Y===te||!o&&Y.startsWith(te)&&Y.charAt(me)==="/",Te=se!=null&&(se===te||!o&&se.startsWith(te)&&se.charAt(te.length)==="/"),O={isActive:ue,isPending:Te,isTransitioning:M},C=ue?e:void 0,I;typeof a=="function"?I=a(O):I=[a,ue?"active":null,Te?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(O):u;return j.createElement(Ph,{...y,"aria-current":C,className:I,ref:E,style:P,to:d,viewTransition:m},typeof p=="function"?p(O):p)});Pw.displayName="NavLink";var Mw=j.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Xc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...R},U)=>{let X=qw(),J=jw(m,{relative:y}),M=d.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&lE.test(m),Y=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let me=se.nativeEvent.submitter,ue=me?.getAttribute("formmethod")||d;X(me||se.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return j.createElement("form",{ref:U,method:M,action:J,onSubmit:a?p:Y,...R,"data-discover":!te&&s==="render"?"true":void 0})});Mw.displayName="Form";function Uw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(s){let e=j.useContext(Ao);return ot(e,Uw(s)),e}function kw(s,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=na(),p=tr(),y=cu(s,{relative:u});return j.useCallback(E=>{if(pw(E,e)){E.preventDefault();let T=n!==void 0?n:Jl(p)===Jl(y);m(s,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[p,m,y,n,a,e,s,o,u,d])}var Lw=0,zw=()=>`__${String(++Lw)}__`;function qw(){let{router:s}=uE("useSubmit"),{basename:e}=j.useContext(Ai),n=aw();return j.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:p,body:y}=vw(a,e);if(o.navigate===!1){let E=o.fetcherKey||zw();await s.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function jw(s,{relative:e}={}){let{basename:n}=j.useContext(Ai),a=j.useContext(Si);ot(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...cu(s||".",{relative:e})},d=tr();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Jl(u)}function Bw(s,{relative:e}={}){let n=j.useContext(eE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uE("useViewTransitionState"),o=cu(s,{relative:e});if(!n.isTransitioning)return!1;let u=Yi(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Yi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return lh(o.pathname,d)!=null||lh(o.pathname,u)!=null}const Ka="/quizods-testesoftware/assets/defaultprofile-B2LI_nB3.webp";let Fw=class{constructor(){this.USERS_KEY="quizods_usuarios",this.CURRENT_USER_KEY="quizods_usuario_atual"}getUsers(){try{const e=localStorage.getItem(this.USERS_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("Erro ao carregar usuários:",e),[]}}saveUsers(e){try{return localStorage.setItem(this.USERS_KEY,JSON.stringify(e)),!0}catch(n){return console.error("Erro ao salvar usuários:",n),!1}}capitalizeFirstLetter(e){return e&&e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}registerUser(e){try{const n=this.getUsers();if(n.find(o=>o.email===e.email))return{success:!1,message:"Email já está em uso!"};const a={id:Date.now().toString(),nome:this.capitalizeFirstLetter(e.nome),email:e.email,password:e.password,foto:e.foto||Ka,createdAt:new Date().toISOString(),pontuacao:0,quizzesCompletos:[]};return n.push(a),this.saveUsers(n)?{success:!0,message:"Usuário cadastrado com sucesso!",user:a}:{success:!1,message:"Erro ao salvar usuário!"}}catch(n){return console.error("Erro no registro:",n),{success:!1,message:"Erro interno do servidor."}}}loginUser(e,n){const o=this.getUsers().find(u=>u.email===e&&u.password===n);return o?(localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(o)),{success:!0,message:"Login realizado com sucesso!",user:o}):{success:!1,message:"Email ou senha incorretos!"}}getCurrentUser(){try{const e=localStorage.getItem(this.CURRENT_USER_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Erro ao carregar usuário atual:",e),null}}logoutUser(){return localStorage.removeItem(this.CURRENT_USER_KEY),!0}updateUserScore(e,n){const a=this.getUsers(),o=a.findIndex(u=>u.id===e);if(o!==-1&&(a[o].pontuacao+=n,a[o].updatedAt=new Date().toISOString(),this.saveUsers(a))){const u=this.getCurrentUser();return u&&u.id===e&&(u.pontuacao=a[o].pontuacao,localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(u))),{success:!0,message:"Pontuação atualizada!",pontuacao:a[o].pontuacao}}return{success:!1,message:"Erro ao atualizar pontuação!"}}addCompletedQuiz(e,n,a){const o=this.getUsers(),u=o.findIndex(d=>d.id===e);if(u!==-1){const d={quizId:n,pontuacao:a,completedAt:new Date().toISOString()};if(o[u].quizzesCompletos.push(d),o[u].pontuacao+=a,o[u].updatedAt=new Date().toISOString(),this.saveUsers(o)){const m=this.getCurrentUser();return m&&m.id===e&&(m.quizzesCompletos=o[u].quizzesCompletos,m.pontuacao=o[u].pontuacao,localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(m))),{success:!0,message:"Quiz registrado!",user:o[u]}}}return{success:!1,message:"Erro ao registrar quiz!"}}getUserRanking(){return this.getUsers().sort((n,a)=>a.pontuacao-n.pontuacao).map((n,a)=>({posicao:a+1,nome:n.nome,pontuacao:n.pontuacao,quizzesCompletos:n.quizzesCompletos.length}))}clearAllData(){return localStorage.removeItem(this.USERS_KEY),localStorage.removeItem(this.CURRENT_USER_KEY),!0}emailExists(e){try{return this.getUsers().some(a=>a.email.toLowerCase()===e.toLowerCase())}catch(n){return console.error("Erro ao verificar email:",n),!1}}updateUserName(e,n){try{const a=this.getUsers(),o=a.findIndex(d=>d.id===e);if(o===-1)return{success:!1,message:"Usuário não encontrado."};a[o].nome=this.capitalizeFirstLetter(n),localStorage.setItem(this.USERS_KEY,JSON.stringify(a));const u=this.getCurrentUser();return u&&u.id===e&&(u.nome=this.capitalizeFirstLetter(n),localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(u))),window.dispatchEvent(new CustomEvent("userDataUpdated")),{success:!0,message:"Nome atualizado com sucesso!"}}catch(a){return console.error("Erro ao atualizar nome:",a),{success:!1,message:"Erro interno do servidor."}}}updateUserPassword(e,n){try{const a=this.getUsers(),o=a.findIndex(u=>u.id===e);return o===-1?{success:!1,message:"Usuário não encontrado."}:(a[o].password=n,localStorage.setItem(this.USERS_KEY,JSON.stringify(a)),{success:!0,message:"Senha atualizada com sucesso!"})}catch(a){return console.error("Erro ao atualizar senha:",a),{success:!1,message:"Erro interno do servidor."}}}updateUserPhoto(e,n){try{const a=this.getUsers(),o=a.findIndex(d=>d.id===e);if(o===-1)return{success:!1,message:"Usuário não encontrado."};a[o].foto=n,localStorage.setItem(this.USERS_KEY,JSON.stringify(a));const u=this.getCurrentUser();return u&&u.id===e&&(u.foto=n,localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(u))),window.dispatchEvent(new CustomEvent("userDataUpdated")),{success:!0,message:"Foto atualizada com sucesso!"}}catch(a){return console.error("Erro ao atualizar foto:",a),{success:!1,message:"Erro interno do servidor."}}}verifyPassword(e,n){try{const o=this.getUsers().find(u=>u.id===e);return o&&o.password===n}catch(a){return console.error("Erro ao verificar senha:",a),!1}}};const ui=new Fw,Hw="quiz_completion_status";class Gw{getUserStorageKey(){const e=ui.getCurrentUser(),n=e?e.id||e.email:"guest";return`${Hw}_${n}`}getCompletionStatus(){try{const e=this.getUserStorageKey(),n=localStorage.getItem(e);return n?JSON.parse(n):{}}catch(e){return console.error("Error getting quiz completion status:",e),{}}}markQuizCompleted(e,n,a){try{const o=this.getUserStorageKey(),u=this.getCompletionStatus(),d=Math.round(n/a*100),m=u[e];return(!m||d>m.percentage)&&(u[e]={completed:d===100,score:n,totalQuestions:a,completedAt:new Date().toISOString(),percentage:d},localStorage.setItem(o,JSON.stringify(u))),!0}catch(o){return console.error("Error marking quiz as completed:",o),!1}}isQuizCompleted(e){return this.getCompletionStatus()[e]?.percentage===100||!1}getQuizDetails(e){return this.getCompletionStatus()[e]||null}resetAllProgress(){const e=this.getUserStorageKey();localStorage.removeItem(e)}resetQuiz(e){try{const n=this.getUserStorageKey(),a=this.getCompletionStatus();return delete a[e],localStorage.setItem(n,JSON.stringify(a)),!0}catch(n){return console.error("Error resetting quiz:",n),!1}}}const Zc=new Gw,Qw="ods_favorites";class Kw{getUserStorageKey(){const e=ui.getCurrentUser(),n=e?e.id||e.email:"guest";return`${Qw}_${n}`}getFavorites(){try{const e=this.getUserStorageKey(),n=localStorage.getItem(e);return n?JSON.parse(n):[]}catch(e){return console.error("Error getting favorites:",e),[]}}addFavorite(e){try{const n=this.getUserStorageKey(),a=this.getFavorites();return a.includes(e)||(a.push(e),localStorage.setItem(n,JSON.stringify(a))),!0}catch(n){return console.error("Error adding favorite:",n),!1}}removeFavorite(e){try{const n=this.getUserStorageKey(),o=this.getFavorites().filter(u=>u!==e);return localStorage.setItem(n,JSON.stringify(o)),!0}catch(n){return console.error("Error removing favorite:",n),!1}}isFavorite(e){return this.getFavorites().includes(e)}toggleFavorite(e){return this.isFavorite(e)?this.removeFavorite(e):this.addFavorite(e)}}const Bc=new Kw,Yw=()=>{};var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Xw=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],d=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],d=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,m=d?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,U=y&63;p||(U=64,d||(R=64)),a.push(n[E],n[T],n[R],n[U])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(cE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Xw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const T=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Ww;const R=u<<2|m>>4;if(a.push(R),y!==64){const U=m<<4&240|y>>2;if(a.push(U),T!==64){const X=y<<6&192|T;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ww extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zw=function(s){const e=cE(s);return hE.encodeByteArray(e,!0)},uh=function(s){return Zw(s).replace(/\./g,"")},dE=function(s){try{return hE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=()=>Jw().__FIREBASE_DEFAULTS__,eb=()=>{if(typeof process>"u"||typeof __>"u")return;const s=__.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&dE(s[1]);return e&&JSON.parse(e)},Mh=()=>{try{return Yw()||$w()||eb()||tb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>Mh()?.emulatorHosts?.[s],nb=s=>{const e=fE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},mE=()=>Mh()?.config,pE=s=>Mh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(n)),uh(JSON.stringify(d)),""].join(".")}const Gl={};function ab(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function rb(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let E_=!1;function yE(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Gl[s]===e||Gl[s]||E_)return;Gl[s]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=ab().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{E_=!0,d()},R}function E(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=rb(a),U=n("text"),X=document.getElementById(U)||document.createElement("span"),J=n("learnmore"),M=document.getElementById(J)||document.createElement("a"),te=n("preprendIcon"),Y=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),E(M,J);const me=y();p(Y,te),se.append(Y,X,M,me),document.body.appendChild(se)}u?(X.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function lb(){const s=Mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function db(){const s=Jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function fb(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="FirebaseError";class $i extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=gb,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?yb(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new $i(o,m,a)}}function yb(s,e){return s.replace(vb,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const vb=/\{\$([^}]+)}/g;function _b(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ya(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=s[o],d=e[o];if(A_(u)&&A_(d)){if(!Ya(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function A_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Eb(s,e){const n=new Ab(s,e);return n.subscribe.bind(n)}class Ab{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Sb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sb(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(s){return s&&s._delegate?s._delegate:s}class Xa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new ib;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bb(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:wb(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wb(s){return s===Fa?void 0:s}function bb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const Cb={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Ib=Ue.INFO,Db={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Ob=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Db[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=Ib,this._logHandler=Ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const xb=(s,e)=>e.some(n=>s instanceof n);let S_,T_;function Nb(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vb(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,bm=new WeakMap,_E=new WeakMap,cm=new WeakMap,sp=new WeakMap;function Pb(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Gs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,s)}).catch(()=>{}),sp.set(e,s),e}function Mb(s){if(bm.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});bm.set(s,e)}let Rm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return bm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||_E.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Ub(s){Rm=s(Rm)}function kb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(hm(this),e,...n);return _E.set(a,e.sort?e.sort():[e]),Gs(a)}:Vb().includes(s)?function(...e){return s.apply(hm(this),e),Gs(vE.get(this))}:function(...e){return Gs(s.apply(hm(this),e))}}function Lb(s){return typeof s=="function"?kb(s):(s instanceof IDBTransaction&&Mb(s),xb(s,Nb())?new Proxy(s,Rm):s)}function Gs(s){if(s instanceof IDBRequest)return Pb(s);if(cm.has(s))return cm.get(s);const e=Lb(s);return e!==s&&(cm.set(s,e),sp.set(e,s)),e}const hm=s=>sp.get(s);function zb(s,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),m=Gs(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Gs(d.result),p.oldVersion,p.newVersion,Gs(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qb=["get","getKey","getAll","getAllKeys","count"],jb=["put","add","delete","clear"],dm=new Map;function w_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=jb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qb.includes(n)))return;const u=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return dm.set(e,u),u}Ub(s=>({...s,get:(e,n,a)=>w_(e,n)||s.get(e,n,a),has:(e,n)=>!!w_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fb(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Fb(s){return s.getComponent()?.type==="VERSION"}const Cm="@firebase/app",b_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new ip("@firebase/app"),Hb="@firebase/app-compat",Gb="@firebase/analytics-compat",Qb="@firebase/analytics",Kb="@firebase/app-check-compat",Yb="@firebase/app-check",Xb="@firebase/auth",Wb="@firebase/auth-compat",Zb="@firebase/database",Jb="@firebase/data-connect",$b="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",iR="@firebase/installations-compat",sR="@firebase/messaging",aR="@firebase/messaging-compat",rR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/ai",mR="@firebase/firestore-compat",pR="firebase",gR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",yR={[Cm]:"fire-core",[Hb]:"fire-core-compat",[Qb]:"fire-analytics",[Gb]:"fire-analytics-compat",[Yb]:"fire-app-check",[Kb]:"fire-app-check-compat",[Xb]:"fire-auth",[Wb]:"fire-auth-compat",[Zb]:"fire-rtdb",[Jb]:"fire-data-connect",[$b]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[iR]:"fire-iid-compat",[sR]:"fire-fcm",[aR]:"fire-fcm-compat",[rR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[dR]:"fire-fst",[mR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,vR=new Map,Dm=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ho(s){const e=s.name;if(Dm.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,s);for(const n of ch.values())R_(n,s);for(const n of vR.values())R_(n,s);return!0}function ap(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new hu("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=gR;function EE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Im,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(n||(n=mE()),!n)throw Qs.create("no-options");const u=ch.get(o);if(u){if(Ya(n,u.options)&&Ya(a,u.config))return u;throw Qs.create("duplicate-app",{appName:o})}const d=new Rb(o);for(const p of Dm.values())d.addComponent(p);const m=new ER(n,a,d);return ch.set(o,m),m}function AE(s=Im){const e=ch.get(s);if(!e&&s===Im&&mE())return EE();if(!e)throw Qs.create("no-app",{appName:s});return e}function Ks(s,e,n){let a=yR[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}ho(new Xa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",SR=1,$l="firebase-heartbeat-store";let fm=null;function SE(){return fm||(fm=zb(AR,SR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),fm}async function TR(s){try{const n=(await SE()).transaction($l),a=await n.objectStore($l).get(TE(s));return await n.done,a}catch(e){if(e instanceof $i)Xi.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}}async function C_(s,e){try{const a=(await SE()).transaction($l,"readwrite");await a.objectStore($l).put(e,TE(s)),await a.done}catch(n){if(n instanceof $i)Xi.warn(n.message);else{const a=Qs.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(a.message)}}}function TE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,bR=30;class RR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>bR){const o=DR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:n,unsentEntries:a}=CR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function CR(s,e=wR){const n=[];let a=s.slice();for(const o of s){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),D_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),D_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class IR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function D_(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function DR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s){ho(new Xa("platform-logger",e=>new Bb(e),"PRIVATE")),ho(new Xa("heartbeat",e=>new RR(e),"PRIVATE")),Ks(Cm,b_,s),Ks(Cm,b_,"esm2020"),Ks("fire-js","")}OR("");function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=wE,bE=new hu("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new ip("@firebase/auth");function NR(s,...e){hh.logLevel<=Ue.WARN&&hh.warn(`Auth (${To}): ${s}`,...e)}function Jc(s,...e){hh.logLevel<=Ue.ERROR&&hh.error(`Auth (${To}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(s,...e){throw rp(s,...e)}function hi(s,...e){return rp(s,...e)}function RE(s,e,n){const a={...xR(),[e]:n};return new hu("auth","Firebase",a).create(e,{appName:s.name})}function Ki(s){return RE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return bE.create(s,...e)}function Ae(s,e,...n){if(!s)throw rp(e,...n)}function Hi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function Wi(s,e){s||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){return typeof self<"u"&&self.location?.href||""}function VR(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VR()||cb()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=ob()||hb()}get(){return PR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(s,e){Wi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LR=new fu(3e4,6e4);function ia(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function es(s,e,n,a,o={}){return IE(s,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const m=du({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return ub()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),CE.fetch()(await DE(s,s.config.apiHost,n,m),y)})}async function IE(s,e,n){s._canInitEmulator=!1;const a={...UR,...e};try{const o=new qR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Fc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Fc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Fc(s,"user-disabled",d);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw RE(s,E,y);Kn(s,E)}}catch(o){if(o instanceof $i)throw o;Kn(s,"network-request-failed",{message:String(o)})}}async function mu(s,e,n,a,o={}){const u=await es(s,e,n,a,o);return"mfaPendingCredential"in u&&Kn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function DE(s,e,n,a){const o=`${e}${n}?${a}`,u=s,d=u.config.emulator?op(s.config,o):`${s.config.apiScheme}://${o}`;return kR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function zR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(hi(this.auth,"network-request-failed")),LR.get())})}}function Fc(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=hi(s,e,a);return o.customData._tokenResponse=n,o}function x_(s){return s!==void 0&&s.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BR(s,e){return es(s,"GET","/v2/recaptchaConfig",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(s,e){return es(s,"POST","/v1/accounts:delete",e)}async function dh(s,e){return es(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HR(s,e=!1){const n=Ft(s),a=await n.getIdToken(e),o=lp(a);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:Ql(mm(o.auth_time)),issuedAtTime:Ql(mm(o.iat)),expirationTime:Ql(mm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(s){return Number(s)*1e3}function lp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=dE(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function N_(s){const e=lp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof $i&&GR(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function GR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(s){const e=s.auth,n=await s.getIdToken(),a=await fo(s,dh(e,{idToken:n}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?OE(o.providerUserInfo):[],d=YR(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function KR(s){const e=Ft(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YR(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function OE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(s,e){const n=await IE(s,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await DE(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(p.credentials="include"),CE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(s,e){return es(s,"POST","/v2/accounts:revokeToken",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=N_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await XR(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new so;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HR(this,e)}reload(){return KR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await fo(this,FR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:U,providerData:X,stsTokenManager:J}=n;Ae(T&&J,e,"internal-error");const M=so.fromJSON(this.name,J);Ae(typeof T=="string",e,"internal-error"),Ls(a,e.name),Ls(o,e.name),Ae(typeof R=="boolean",e,"internal-error"),Ae(typeof U=="boolean",e,"internal-error"),Ls(u,e.name),Ls(d,e.name),Ls(m,e.name),Ls(p,e.name),Ls(y,e.name),Ls(E,e.name);const te=new Qn({uid:T,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:U,photoURL:d,phoneNumber:u,tenantId:m,stsTokenManager:M,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(te.providerData=X.map(Y=>({...Y}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,a=!1){const o=new so;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(a);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;function Gi(s){Wi(s instanceof Function,"Expected a class definition");let e=V_.get(s);return e?(Wi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xE.type="NONE";const P_=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ao(Gi(P_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Gi(P_);const d=$c(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let T;if(typeof E=="string"){const R=await dh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Qn._fromGetAccountInfoResponse(e,R,E)}else T=Qn._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,a):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new ao(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kE(e))return"Blackberry";if(LE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||PE(e))&&!e.includes("edge/"))return"Chrome";if(UE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function NE(s=Jt()){return/firefox\//i.test(s)}function VE(s=Jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PE(s=Jt()){return/crios\//i.test(s)}function ME(s=Jt()){return/iemobile/i.test(s)}function UE(s=Jt()){return/android/i.test(s)}function kE(s=Jt()){return/blackberry/i.test(s)}function LE(s=Jt()){return/webos/i.test(s)}function up(s=Jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ZR(s=Jt()){return up(s)&&!!window.navigator?.standalone}function JR(){return db()&&document.documentMode===10}function zE(s=Jt()){return up(s)||UE(s)||LE(s)||kE(s)||/windows phone/i.test(s)||ME(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(s,e=[]){let n;switch(s){case"Browser":n=M_(Jt());break;case"Worker":n=`${M_(Jt())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s,e={}){return es(s,"GET","/v2/passwordPolicy",ia(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=6;class n2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??t2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new $R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),a=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Ki(this));const n=e?Ft(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e2(this),n=new n2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await WR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nr(s){return Ft(s)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Eb(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s2(s){Uh=s}function jE(s){return Uh.loadJS(s)}function a2(){return Uh.recaptchaEnterpriseScript}function r2(){return Uh.gapiScript}function o2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class l2{constructor(){this.enterprise=new u2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class u2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const c2="recaptcha-enterprise",BE="NO_RECAPTCHA";class h2{constructor(e){this.type=c2,this.auth=nr(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{BR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new jR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,d,m){const p=window.grecaptcha;x_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(BE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l2().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(m=>{if(!n&&x_(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=a2();p.length!==0&&(p+=m),jE(p).then(()=>{o(m,u,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function k_(s,e,n,a=!1,o=!1){const u=new h2(s);let d;if(o)d=BE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Nm(s,e,n,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await k_(s,e,n,n==="getOobCode");return a(s,u)}else return a(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await k_(s,e,n,n==="getOobCode");return a(s,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(s,e){const n=ap(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ya(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function f2(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function m2(s,e,n){const a=nr(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=FE(e),{host:d,port:m}=p2(e),p=m===null?"":`:${m}`,y={url:`${u}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Ya(y,a.config.emulator)&&Ya(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,So(d)?(gE(`${u}//${d}${p}`),yE("Auth",!0)):g2()}function FE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function p2(s){const e=FE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:L_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:L_(d)}}}function L_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function g2(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function y2(s,e){return es(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(s,e){return mu(s,"POST","/v1/accounts:signInWithPassword",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",ia(s,e))}async function E2(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends cp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new eu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signInWithPassword",v2);case"emailLink":return _2(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,a,"signUpPassword",y2);case"emailLink":return E2(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(s,e){return mu(s,"POST","/v1/accounts:signInWithIdp",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="http://localhost";class Wa extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new Wa(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ro(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:A2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T2(s){const e=Ll(zl(s)).link,n=e?Ll(zl(e)).deep_link_id:null,a=Ll(zl(s)).deep_link_id;return(a?Ll(zl(a)).link:null)||a||n||e||s}class hp{constructor(e){const n=Ll(zl(e)),a=n.apiKey??null,o=n.oobCode??null,u=S2(n.mode??null);Ae(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=T2(e);try{return new hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=hp.parseLink(n);return Ae(a,"argument-error"),eu._fromEmailAndCode(e,a.code,a.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends pu{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return js.credential(n,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends pu{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends pu{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Fs.credential(n,a)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(s,e){return mu(s,"POST","/v1/accounts:signUp",ia(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Qn._fromIdTokenResponse(e,a,o),d=z_(a);return new Za({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=z_(a);return new Za({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function z_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends $i{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new mh(e,n,a,o)}}function GE(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,u,e,a):u})}async function b2(s,e,n=!1){const a=await fo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Za._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,e,n=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject(Ki(a));const o="reauthenticate";try{const u=await fo(s,GE(a,o,e,s),n);Ae(u.idToken,a,"internal-error");const d=lp(u.idToken);Ae(d,a,"internal-error");const{sub:m}=d;return Ae(s.uid===m,a,"user-mismatch"),Za._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Kn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(s,e,n=!1){if(Vn(s.app))return Promise.reject(Ki(s));const a="signIn",o=await GE(s,a,e),u=await Za._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(u.user),u}async function C2(s,e){return QE(nr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(s){const e=nr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I2(s,e,n){if(Vn(s.app))return Promise.reject(Ki(s));const a=nr(s),d=await Nm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&KE(s),p}),m=await Za._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function D2(s,e,n){return Vn(s.app)?Promise.reject(Ki(s)):C2(Ft(s),wo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&KE(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(s,e){return es(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=Ft(s),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await fo(a,O2(a.auth,u));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function N2(s,e,n,a){return Ft(s).onIdTokenChanged(e,n,a)}function V2(s,e,n){return Ft(s).beforeAuthStateChanged(e,n)}function P2(s,e,n,a){return Ft(s).onAuthStateChanged(e,n,a)}function M2(s){return Ft(s).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=1e3,k2=10;class XE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);JR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,k2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const L2=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WE.type="SESSION";const ZE=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new kh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,u)),p=await z2(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const y=dp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function j2(s){di().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function B2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function H2(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="firebaseLocalStorageDb",G2=1,gh="firebaseLocalStorage",e1="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function Q2(){const s=indexedDB.deleteDatabase($E);return new gu(s).toPromise()}function Vm(){const s=indexedDB.open($E,G2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(gh,{keyPath:e1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(gh)?e(a):(a.close(),await Q2(),e(await Vm()))})})}async function q_(s,e,n){const a=Lh(s,!0).put({[e1]:e,value:n});return new gu(a).toPromise()}async function K2(s,e){const n=Lh(s,!1).get(e),a=await new gu(n).toPromise();return a===void 0?null:a.value}function j_(s,e){const n=Lh(s,!0).delete(e);return new gu(n).toPromise()}const Y2=800,X2=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>X2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(H2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new q2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await q_(e,ph,"1"),await j_(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>q_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>K2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const W2=t1;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(s,e){return e?Gi(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J2(s){return QE(s.auth,new fp(s),s.bypassAuthState)}function $2(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),R2(n,new fp(s),s.bypassAuthState)}async function eC(s){const{auth:e,user:n}=s;return Ae(n,e,"internal-error"),b2(n,new fp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:Kn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new fu(2e3,1e4);class io extends n1{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="pendingRedirect",eh=new Map;class iC extends n1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const a=await sC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(s,e){const n=oC(e),a=rC(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function aC(s,e){eh.set(s._key(),e)}function rC(s){return Gi(s._redirectPersistence)}function oC(s){return $c(nC,s.config.apiKey,s.name)}async function lC(s,e,n=!1){if(Vn(s.app))return Promise.reject(Ki(s));const a=nr(s),o=Z2(a,e),d=await new iC(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=600*1e3;class cC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!i1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uC&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function i1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function hC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(s,e={}){return es(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function pC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dC(s);for(const n of e)try{if(gC(n))return}catch{}Kn(s,"unauthorized-domain")}function gC(s){const e=Om(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!mC.test(n))return!1;if(fC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new fu(3e4,6e4);function F_(){const s=di().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function vC(s){return new Promise((e,n)=>{function a(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(hi(s,"network-request-failed"))},timeout:yC.get()})}if(di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(di().gapi?.load)a();else{const o=o2("iframefcb");return di()[o]=()=>{gapi.load?a():n(hi(s,"network-request-failed"))},jE(`${r2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function _C(s){return th=th||vC(s),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new fu(5e3,15e3),AC="__/auth/iframe",SC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?op(e,SC):`https://${s.config.authDomain}/${AC}`,a={apiKey:e.apiKey,appName:s.name,v:To},o=wC.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${du(a).slice(1)}`}async function RC(s){const e=await _C(s),n=di().gapi;return Ae(n,s,"internal-error"),e.open({where:document.body,url:bC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=hi(s,"network-request-failed"),m=di().setTimeout(()=>{u(d)},EC.get());function p(){di().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,DC=600,OC="_blank",xC="http://localhost";class H_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,e,n,a=IC,o=DC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...CC,width:a.toString(),height:o.toString(),top:u,left:d},y=Jt().toLowerCase();n&&(m=PE(y)?OC:n),NE(y)&&(e=e||xC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[U,X])=>`${R}${U}=${X},`,"");if(ZR(y)&&m!=="_self")return VC(e||"",m),new H_(null);const T=window.open(e||"",m,E);Ae(T,s,"popup-blocked");try{T.focus()}catch{}return new H_(T)}function VC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",MC="emulator/auth/handler",UC=encodeURIComponent("fac");async function G_(s,e,n,a,o,u){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:To,eventId:o};if(e instanceof HE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",_b(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))d[E]=T}if(e instanceof pu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),y=p?`#${UC}=${encodeURIComponent(p)}`:"";return`${kC(s)}?${du(m).slice(1)}${y}`}function kC({config:s}){return s.emulator?op(s,MC):`https://${s.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=lC,this._overrideRedirectResult=aC}async _openPopup(e,n,a,o){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await G_(e,n,a,Om(),o);return NC(e,u,dp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await G_(e,n,a,Om(),o);return j2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await RC(e),a=new cC(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{const u=o?.[0]?.[pm];u!==void 0&&n(!!u),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||VE()||up()}}const zC=LC;var Q_="@firebase/auth",K_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(s){ho(new Xa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(s)},y=new i2(a,o,u,p);return f2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),ho(new Xa("auth-internal",e=>{const n=nr(e.getProvider("auth").getImmediate());return(a=>new qC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(Q_,K_,jC(s)),Ks(Q_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=300,HC=pE("authIdTokenMaxAge")||FC;let Y_=null;const GC=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>HC)return;const o=n?.token;Y_!==o&&(Y_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QC(s=AE()){const e=ap(s,"auth");if(e.isInitialized())return e.getImmediate();const n=d2(s,{popupRedirectResolver:zC,persistence:[W2,L2,ZE]}),a=pE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=GC(u.toString());V2(n,d,()=>d(n.currentUser)),N2(n,m=>d(m))}}const o=fE("auth");return o&&m2(n,`http://${o}`),n}function KC(){return document.getElementsByTagName("head")?.[0]??document}s2({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",KC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,s1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.F=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(P,N,k){for(var b=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)b[ae-2]=arguments[ae];return C.prototype[N].apply(P,b)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,I){I||(I=0);const P=Array(16);if(typeof C=="string")for(var N=0;N<16;++N)P[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;N<16;++N)P[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],N=O.g[2];let k=O.g[3],b;b=C+(k^I&(N^k))+P[0]+3614090360&4294967295,C=I+(b<<7&4294967295|b>>>25),b=k+(N^C&(I^N))+P[1]+3905402710&4294967295,k=C+(b<<12&4294967295|b>>>20),b=N+(I^k&(C^I))+P[2]+606105819&4294967295,N=k+(b<<17&4294967295|b>>>15),b=I+(C^N&(k^C))+P[3]+3250441966&4294967295,I=N+(b<<22&4294967295|b>>>10),b=C+(k^I&(N^k))+P[4]+4118548399&4294967295,C=I+(b<<7&4294967295|b>>>25),b=k+(N^C&(I^N))+P[5]+1200080426&4294967295,k=C+(b<<12&4294967295|b>>>20),b=N+(I^k&(C^I))+P[6]+2821735955&4294967295,N=k+(b<<17&4294967295|b>>>15),b=I+(C^N&(k^C))+P[7]+4249261313&4294967295,I=N+(b<<22&4294967295|b>>>10),b=C+(k^I&(N^k))+P[8]+1770035416&4294967295,C=I+(b<<7&4294967295|b>>>25),b=k+(N^C&(I^N))+P[9]+2336552879&4294967295,k=C+(b<<12&4294967295|b>>>20),b=N+(I^k&(C^I))+P[10]+4294925233&4294967295,N=k+(b<<17&4294967295|b>>>15),b=I+(C^N&(k^C))+P[11]+2304563134&4294967295,I=N+(b<<22&4294967295|b>>>10),b=C+(k^I&(N^k))+P[12]+1804603682&4294967295,C=I+(b<<7&4294967295|b>>>25),b=k+(N^C&(I^N))+P[13]+4254626195&4294967295,k=C+(b<<12&4294967295|b>>>20),b=N+(I^k&(C^I))+P[14]+2792965006&4294967295,N=k+(b<<17&4294967295|b>>>15),b=I+(C^N&(k^C))+P[15]+1236535329&4294967295,I=N+(b<<22&4294967295|b>>>10),b=C+(N^k&(I^N))+P[1]+4129170786&4294967295,C=I+(b<<5&4294967295|b>>>27),b=k+(I^N&(C^I))+P[6]+3225465664&4294967295,k=C+(b<<9&4294967295|b>>>23),b=N+(C^I&(k^C))+P[11]+643717713&4294967295,N=k+(b<<14&4294967295|b>>>18),b=I+(k^C&(N^k))+P[0]+3921069994&4294967295,I=N+(b<<20&4294967295|b>>>12),b=C+(N^k&(I^N))+P[5]+3593408605&4294967295,C=I+(b<<5&4294967295|b>>>27),b=k+(I^N&(C^I))+P[10]+38016083&4294967295,k=C+(b<<9&4294967295|b>>>23),b=N+(C^I&(k^C))+P[15]+3634488961&4294967295,N=k+(b<<14&4294967295|b>>>18),b=I+(k^C&(N^k))+P[4]+3889429448&4294967295,I=N+(b<<20&4294967295|b>>>12),b=C+(N^k&(I^N))+P[9]+568446438&4294967295,C=I+(b<<5&4294967295|b>>>27),b=k+(I^N&(C^I))+P[14]+3275163606&4294967295,k=C+(b<<9&4294967295|b>>>23),b=N+(C^I&(k^C))+P[3]+4107603335&4294967295,N=k+(b<<14&4294967295|b>>>18),b=I+(k^C&(N^k))+P[8]+1163531501&4294967295,I=N+(b<<20&4294967295|b>>>12),b=C+(N^k&(I^N))+P[13]+2850285829&4294967295,C=I+(b<<5&4294967295|b>>>27),b=k+(I^N&(C^I))+P[2]+4243563512&4294967295,k=C+(b<<9&4294967295|b>>>23),b=N+(C^I&(k^C))+P[7]+1735328473&4294967295,N=k+(b<<14&4294967295|b>>>18),b=I+(k^C&(N^k))+P[12]+2368359562&4294967295,I=N+(b<<20&4294967295|b>>>12),b=C+(I^N^k)+P[5]+4294588738&4294967295,C=I+(b<<4&4294967295|b>>>28),b=k+(C^I^N)+P[8]+2272392833&4294967295,k=C+(b<<11&4294967295|b>>>21),b=N+(k^C^I)+P[11]+1839030562&4294967295,N=k+(b<<16&4294967295|b>>>16),b=I+(N^k^C)+P[14]+4259657740&4294967295,I=N+(b<<23&4294967295|b>>>9),b=C+(I^N^k)+P[1]+2763975236&4294967295,C=I+(b<<4&4294967295|b>>>28),b=k+(C^I^N)+P[4]+1272893353&4294967295,k=C+(b<<11&4294967295|b>>>21),b=N+(k^C^I)+P[7]+4139469664&4294967295,N=k+(b<<16&4294967295|b>>>16),b=I+(N^k^C)+P[10]+3200236656&4294967295,I=N+(b<<23&4294967295|b>>>9),b=C+(I^N^k)+P[13]+681279174&4294967295,C=I+(b<<4&4294967295|b>>>28),b=k+(C^I^N)+P[0]+3936430074&4294967295,k=C+(b<<11&4294967295|b>>>21),b=N+(k^C^I)+P[3]+3572445317&4294967295,N=k+(b<<16&4294967295|b>>>16),b=I+(N^k^C)+P[6]+76029189&4294967295,I=N+(b<<23&4294967295|b>>>9),b=C+(I^N^k)+P[9]+3654602809&4294967295,C=I+(b<<4&4294967295|b>>>28),b=k+(C^I^N)+P[12]+3873151461&4294967295,k=C+(b<<11&4294967295|b>>>21),b=N+(k^C^I)+P[15]+530742520&4294967295,N=k+(b<<16&4294967295|b>>>16),b=I+(N^k^C)+P[2]+3299628645&4294967295,I=N+(b<<23&4294967295|b>>>9),b=C+(N^(I|~k))+P[0]+4096336452&4294967295,C=I+(b<<6&4294967295|b>>>26),b=k+(I^(C|~N))+P[7]+1126891415&4294967295,k=C+(b<<10&4294967295|b>>>22),b=N+(C^(k|~I))+P[14]+2878612391&4294967295,N=k+(b<<15&4294967295|b>>>17),b=I+(k^(N|~C))+P[5]+4237533241&4294967295,I=N+(b<<21&4294967295|b>>>11),b=C+(N^(I|~k))+P[12]+1700485571&4294967295,C=I+(b<<6&4294967295|b>>>26),b=k+(I^(C|~N))+P[3]+2399980690&4294967295,k=C+(b<<10&4294967295|b>>>22),b=N+(C^(k|~I))+P[10]+4293915773&4294967295,N=k+(b<<15&4294967295|b>>>17),b=I+(k^(N|~C))+P[1]+2240044497&4294967295,I=N+(b<<21&4294967295|b>>>11),b=C+(N^(I|~k))+P[8]+1873313359&4294967295,C=I+(b<<6&4294967295|b>>>26),b=k+(I^(C|~N))+P[15]+4264355552&4294967295,k=C+(b<<10&4294967295|b>>>22),b=N+(C^(k|~I))+P[6]+2734768916&4294967295,N=k+(b<<15&4294967295|b>>>17),b=I+(k^(N|~C))+P[13]+1309151649&4294967295,I=N+(b<<21&4294967295|b>>>11),b=C+(N^(I|~k))+P[4]+4149444226&4294967295,C=I+(b<<6&4294967295|b>>>26),b=k+(I^(C|~N))+P[11]+3174756917&4294967295,k=C+(b<<10&4294967295|b>>>22),b=N+(C^(k|~I))+P[2]+718787259&4294967295,N=k+(b<<15&4294967295|b>>>17),b=I+(k^(N|~C))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+k&4294967295}a.prototype.v=function(O,C){C===void 0&&(C=O.length);const I=C-this.blockSize,P=this.C;let N=this.h,k=0;for(;k<C;){if(N==0)for(;k<=I;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<C;)if(P[N++]=O.charCodeAt(k++),N==this.blockSize){o(this,P),N=0;break}}else for(;k<C;)if(P[N++]=O[k++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=C},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;C=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=C&255,C/=256;for(this.v(O),O=Array(16),C=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)O[C++]=this.g[I]>>>P&255;return O};function u(O,C){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function d(O,C){this.h=C;const I=[];let P=!0;for(let N=O.length-1;N>=0;N--){const k=O[N]|0;P&&k==C||(I[N]=k,P=!1)}this.g=I}var m={};function p(O){return-128<=O&&O<128?u(O,function(C){return new d([C|0],C<0?-1:0)}):new d([O|0],O<0?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return M(y(-O));const C=[];let I=1;for(let P=0;O>=I;P++)C[P]=O/I|0,I*=4294967296;return new d(C,0)}function E(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return M(E(O.substring(1),C));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(C,8));let P=T;for(let k=0;k<O.length;k+=8){var N=Math.min(8,O.length-k);const b=parseInt(O.substring(k,k+N),C);N<8?(N=y(Math.pow(C,N)),P=P.j(N).add(y(b))):(P=P.j(I),P=P.add(y(b)))}return P}var T=p(0),R=p(1),U=p(16777216);s=d.prototype,s.m=function(){if(J(this))return-M(this).m();let O=0,C=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);O+=(P>=0?P:4294967296+P)*C,C*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(X(this))return"0";if(J(this))return"-"+M(this).toString(O);const C=y(Math.pow(O,6));var I=this;let P="";for(;;){const N=me(I,C).g;I=te(I,N.j(C));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=N,X(I))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function X(O){if(O.h!=0)return!1;for(let C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function J(O){return O.h==-1}s.l=function(O){return O=te(this,O),J(O)?-1:X(O)?0:1};function M(O){const C=O.g.length,I=[];for(let P=0;P<C;P++)I[P]=~O.g[P];return new d(I,~O.h).add(R)}s.abs=function(){return J(this)?M(this):this},s.add=function(O){const C=Math.max(this.g.length,O.g.length),I=[];let P=0;for(let N=0;N<=C;N++){let k=P+(this.i(N)&65535)+(O.i(N)&65535),b=(k>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);P=b>>>16,k&=65535,b&=65535,I[N]=b<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function te(O,C){return O.add(M(C))}s.j=function(O){if(X(this)||X(O))return T;if(J(this))return J(O)?M(this).j(M(O)):M(M(this).j(O));if(J(O))return M(this.j(M(O)));if(this.l(U)<0&&O.l(U)<0)return y(this.m()*O.m());const C=this.g.length+O.g.length,I=[];for(var P=0;P<2*C;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<O.g.length;N++){const k=this.i(P)>>>16,b=this.i(P)&65535,ae=O.i(N)>>>16,he=O.i(N)&65535;I[2*P+2*N]+=b*he,Y(I,2*P+2*N),I[2*P+2*N+1]+=k*he,Y(I,2*P+2*N+1),I[2*P+2*N+1]+=b*ae,Y(I,2*P+2*N+1),I[2*P+2*N+2]+=k*ae,Y(I,2*P+2*N+2)}for(O=0;O<C;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=C;O<2*C;O++)I[O]=0;return new d(I,0)};function Y(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function se(O,C){this.g=O,this.h=C}function me(O,C){if(X(C))throw Error("division by zero");if(X(O))return new se(T,T);if(J(O))return C=me(M(O),C),new se(M(C.g),M(C.h));if(J(C))return C=me(O,M(C)),new se(M(C.g),C.h);if(O.g.length>30){if(J(O)||J(C))throw Error("slowDivide_ only works with positive integers.");for(var I=R,P=C;P.l(O)<=0;)I=ue(I),P=ue(P);var N=Te(I,1),k=Te(P,1);for(P=Te(P,2),I=Te(I,2);!X(P);){var b=k.add(P);b.l(O)<=0&&(N=N.add(I),k=b),P=Te(P,1),I=Te(I,1)}return C=te(O,N.j(C)),new se(N,C)}for(N=T;O.l(C)>=0;){for(I=Math.max(1,Math.floor(O.m()/C.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=y(I),b=k.j(C);J(b)||b.l(O)>0;)I-=P,k=y(I),b=k.j(C);X(k)&&(k=R),N=N.add(k),O=te(O,b)}return new se(N,O)}s.B=function(O){return me(this,O).h},s.and=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)&O.i(P);return new d(I,this.h&O.h)},s.or=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)|O.i(P);return new d(I,this.h|O.h)},s.xor=function(O){const C=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<C;P++)I[P]=this.i(P)^O.i(P);return new d(I,this.h^O.h)};function ue(O){const C=O.g.length+1,I=[];for(let P=0;P<C;P++)I[P]=O.i(P)<<1|O.i(P-1)>>>31;return new d(I,O.h)}function Te(O,C){const I=C>>5;C%=32;const P=O.g.length-I,N=[];for(let k=0;k<P;k++)N[k]=C>0?O.i(k+I)>>>C|O.i(k+I+1)<<32-C:O.i(k+I);return new d(N,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,s1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ys=d}).apply(typeof X_<"u"?X_:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,ql,r1,nh,Pm,o1,l1,u1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,q,Q){for(var re=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)re[Ie-2]=arguments[Ie];return g.prototype[q].apply(S,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function X(c,g){for(let S=1;S<arguments.length;S++){const q=arguments[S];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const Q=q.length||0;c.length=v+Q;for(let re=0;re<Q;re++)c[v+re]=q[re]}else c.push(q)}}class J{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){d.setTimeout(()=>{throw c},0)}function te(){var c=O;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,v){const S=se.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new J(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Te=!1,O=new Y,C=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){M(v)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Te=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return c})();function b(c){return/^[\s\xa0]*$/.test(c)}function ae(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(ae,N),ae.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),H=0;function K(c,g,v,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=q,this.key=++H,this.da=this.fa=!1}function oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function x(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function ne(c){const g={};for(const v in c)g[v]=c[v];return g}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,g){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Q=0;Q<ce.length;Q++)v=ce[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ye(c){this.src=c,this.g={},this.h=0}ye.prototype.add=function(c,g,v,S,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const re=we(c,g,S,q);return re>-1?(g=c[re],v||(g.fa=!1)):(g=new K(g,this.src,Q,!!S,q),g.fa=v,c.push(g)),g};function Me(c,g){const v=g.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(S,q,1),Q&&(oe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,g,v,S){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==S)return q}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ke={};function Mn(c,g,v,S,q){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)Mn(c,g[Q],v,S,q);return null}return v=Su(v),c&&c[he]?c.J(g,v,m(S)?!!S.capture:!1,q):Do(c,g,v,!1,S,q)}function Do(c,g,v,S,q,Q){if(!g)throw Error("Invalid event type");const re=m(q)?!!q.capture:!!q;let Ie=Oo(c);if(Ie||(c[Mt]=Ie=new ye(c)),v=Ie.add(g,v,S,re,Q),v.proxy)return v;if(S=ar(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(q=re),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(or(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ar(){function c(v){return g.call(c.src,c.listener,v)}const g=td;return c}function rr(c,g,v,S,q){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)rr(c,g[Q],v,S,q);else S=m(S)?!!S.capture:!!S,v=Su(v),c&&c[he]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=we(g,v,S,q),v>-1&&(oe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Oo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=we(g,v,S,q)),(v=c>-1?g[c]:null)&&ra(v))}function ra(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])Me(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(or(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Oo(g))?(Me(v,c),v.h==0&&(v.src=null,g[Mt]=null)):oe(c)}}}function or(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function td(c,g){if(c.da)c=!0;else{g=new ae(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&ra(c),c=v.call(S,g)}return c}function Oo(c){return c=c[Mt],c instanceof ye?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Su(c){return typeof c=="function"?c:(c[an]||(c[an]=function(g){return c.handleEvent(g)}),c[an])}function St(){P.call(this),this.i=new ye(this),this.M=this,this.G=null}T(St,P),St.prototype[he]=!0,St.prototype.removeEventListener=function(c,g,v,S){rr(this,c,g,v,S)};function Dt(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var q=g;g=new N(S,c),le(g,q)}q=!0;let Q,re;if(v)for(re=v.length-1;re>=0;re--)Q=g.g=v[re],q=Ti(Q,S,!0,g)&&q;if(Q=g.g=c,q=Ti(Q,S,!0,g)&&q,q=Ti(Q,S,!1,g)&&q,v)for(re=0;re<v.length;re++)Q=g.g=v[re],q=Ti(Q,S,!1,g)&&q}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)oe(v[S]);delete c.g[g],c.h--}}this.G=null},St.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},St.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Ti(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let q=!0;for(let Q=0;Q<g.length;++Q){const re=g[Q];if(re&&!re.da&&re.capture==v){const Ie=re.listener,tt=re.ha||re.src;re.fa&&Me(c.i,re),q=Ie.call(tt,S)!==!1&&q}}return q&&!S.defaultPrevented}function nd(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(c,g||0)}function xo(c){c.g=nd(()=>{c.g=null,c.i&&(c.i=!1,xo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class id extends P{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){P.call(this),this.h=c,this.g={}}T(oa,P);var ts=[];function Gt(c){Ce(c.g,function(g,v){this.g.hasOwnProperty(v)&&ra(g)},c),c.g={}}oa.prototype.N=function(){oa.Z.N.call(this),Gt(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=d.JSON.stringify,$t=d.JSON.parse,sd=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Tu(){}function wu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){N.call(this,"d")}T(ns,N);function Un(){N.call(this,"c")}T(Un,N);var Sn={},is=null;function lr(){return is=is||new St}Sn.Ia="serverreachability";function No(c){N.call(this,Sn.Ia,c)}T(No,N);function ss(c){const g=lr();Dt(g,new No(g))}Sn.STAT_EVENT="statevent";function ur(c,g){N.call(this,Sn.STAT_EVENT,c),this.stat=g}T(ur,N);function ht(c){const g=lr();Dt(g,new ur(g,c))}Sn.Ja="timingevent";function bu(c,g){N.call(this,Sn.Ja,c),this.size=g}T(bu,N);function as(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function rs(){this.g=!0}rs.prototype.ua=function(){this.g=!1};function Vo(c,g,v,S,q,Q){c.info(function(){if(c.g)if(Q){var re="",Ie=Q.split("&");for(let He=0;He<Ie.length;He++){var tt=Ie[He].split("=");if(tt.length>1){const mt=tt[0];tt=tt[1];const hn=mt.split("_");re=hn.length>=2&&hn[1]=="type"?re+(mt+"="+tt+"&"):re+(mt+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+v+`
`+re})}function Po(c,g,v,S,q,Q,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+v+`
`+Q+" "+re})}function wi(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Xn(c,v)+(S?" "+S:"")})}function ad(c,g){c.info(function(){return"TIMEOUT: "+g})}rs.prototype.info=function(){};function Xn(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return An(Q)}catch{return g}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bi;function la(){}T(la,Tu),la.prototype.g=function(){return new XMLHttpRequest},bi=new la;function ua(c){return encodeURIComponent(String(c))}function rd(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function kn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}var cr={},Wn={};function Zn(c,g,v){c.M=1,c.A=Ci(st(g)),c.u=v,c.R=!0,ls(c,null)}function ls(c,g){c.F=Date.now(),ca(c),c.B=st(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Du(v.i,"t",S),c.C=0,v=c.j.L,c.h=new os,c.g=Er(c.j,v?g:null,!c.u),c.P>0&&(c.O=new id(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(ts[0]=q.toString()),q=ts);for(let Q=0;Q<q.length;Q++){const re=Mn(v,q[Q],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ss(),Vo(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Qt(c)==3?g.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Qt(this.g),tt=this.g.ya(),He=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Aa(this.g)))){this.K||Ie!=4||tt==7||(tt==8||He<=0?ss(3):ss(2)),$n(this);var g=this.g.ca();this.X=g;var v=us(this);if(this.o=g==200,Po(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(S)){var Q=S;break t}}Q=null}if(c=Q)wi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hr(this,c);else{this.o=!1,this.m=3,ht(12),ei(this),ha(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Ru(this,v),mt==Wn){Ie==4&&(this.m=4,ht(14),c=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==cr){this.m=4,ht(15),wi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else wi(this.i,this.l,mt,null),hr(this,mt);if(ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)wi(this.i,this.l,v,"[Invalid Chunked Response]"),ei(this),ha(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(re),re.P=!0,ht(11))}}else wi(this.i,this.l,v,null),hr(this,v);Ie==4&&ei(this),this.o&&!this.K&&(Ie==4?Go(this.j,this):(this.o=!1,ca(this)))}else Sa(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),ei(this),ha(this)}}}catch{}finally{}};function us(c){if(!ft(c))return c.g.la();const g=Aa(c.g);if(g==="")return"";let v="";const S=g.length,q=Qt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ei(c),ha(c),"";c.h.i=new d.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(q&&Q==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function ft(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Wn:(v=Number(g.substring(v,S)),isNaN(v)?cr:(S+=1,S+v>g.length?Wn:(g=g.slice(S,S+v),c.C=S+v,g)))}kn.prototype.cancel=function(){this.K=!0,ei(this)};function ca(c){c.T=Date.now()+c.H,Jn(c,c.H)}function Jn(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=as(y(c.aa,c),g)}function $n(c){c.D&&(d.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ad(this.i,this.B),this.M!=2&&(ss(),ht(17)),ei(this),this.m=2,ha(this)):Jn(this,this.T-c)};function ha(c){c.j.I==0||c.K||Go(c.j,c)}function ei(c){$n(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Gt(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function hr(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||ma(v.h,c))){if(!c.L&&ma(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_r(v),ti(v);else break e;Fo(v),ht(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=as(y(v.Va,v),6e3));Tn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((c.L||v.g==c)&&_r(v),!b(g))for(q=v.Ba.g.parse(g),g=0;g<q.length;g++){let He=q[g];const mt=He[0];if(!(mt<=v.K))if(v.K=mt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const hn=He[3];hn!=null&&(v.ka=hn,v.j.info("VER="+v.ka));const ni=He[4];ni!=null&&(v.za=ni,v.j.info("SVER="+v.za));const qn=He[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const jn=c.g;if(jn){const Bn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var Q=S.h;Q.g||Bn.indexOf("spdy")==-1&&Bn.indexOf("quic")==-1&&Bn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(dr(Q,Q.h),Q.h=null))}if(S.G){const Ko=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(S.wa=Ko,Ye(S.J,S.G,Ko))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Lu(S,S.L?S.ba:null,S.W),re.L){Ri(S.h,re);var Ie=re,tt=S.O;tt&&(Ie.H=tt),Ie.D&&($n(Ie),ca(Ie)),S.g=re}else Pu(S);v.i.length>0&&Ra(v)}else He[0]!="stop"&&He[0]!="close"||Oi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Oi(v,7):wa(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ss(4)}catch{}}var od=class{constructor(c,g){this.g=c,this.map=g}};function da(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tn(c){return c.h?1:c.g?c.g.size:0}function ma(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function dr(c,g){c.g?c.g.add(g):c.h=g}function Ri(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}da.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return U(c.i)}var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let q,Q=null;S>=0?(q=c[v].substring(0,S),Q=c[v].substring(S+1)):q=c[v],g(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ln(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Ln?(this.l=c.l,cs(this,c.j),this.o=c.o,this.g=c.g,pa(this,c.u),this.h=c.h,hs(this,Ou(c.i)),this.m=c.m):c&&(g=String(c).match(mr))?(this.l=!1,cs(this,g[1]||"",!0),this.o=ga(g[2]||""),this.g=ga(g[3]||"",!0),pa(this,g[4]),this.h=ga(g[5]||"",!0),hs(this,g[6]||"",!0),this.m=ga(g[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}Ln.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ot(g,Uo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ot(g,Uo,!0),"@"),c.push(ua(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ot(v,v.charAt(0)=="/"?ds:ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ot(v,Iu)),c.join("")},Ln.prototype.resolve=function(c){const g=st(this);let v=!!c.j;v?cs(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)pa(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=g.h.lastIndexOf("/");q!=-1&&(S=g.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let re=0;re<q.length;){const Ie=q[re++];Ie=="."?S&&re==q.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&re==q.length&&Q.push("")):(Q.push(Ie),S=!0)}S=Q.join("/")}else S=q}return v?g.h=S:v=c.i.toString()!=="",v?hs(g,Ou(c.i)):v=!!c.m,v&&(g.m=c.m),g};function st(c){return new Ln(c)}function cs(c,g,v){c.j=v?ga(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function pa(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function hs(c,g,v){g instanceof wn?(c.i=g,qo(c.i,c.l)):(v||(g=Ot(g,Cu)),c.i=new wn(g,c.l))}function Ye(c,g,v){c.i.set(g,v)}function Ci(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ga(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ot(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Mo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,ko=/[#\?:]/g,ds=/[#\?]/g,Cu=/[#\?@]/g,Iu=/#/g;function wn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ii(c){c.g||(c.g=new Map,c.h=0,c.i&&ld(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=wn.prototype,s.add=function(c,g){Ii(this),this.i=null,c=zn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Lo(c,g){Ii(c),g=zn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zo(c,g){return Ii(c),g=zn(c,g),c.g.has(g)}s.forEach=function(c,g){Ii(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(g,q,S,this)},this)},this)};function pr(c,g){Ii(c);let v=[];if(typeof g=="string")zo(c,g)&&(v=v.concat(c.g.get(zn(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return Ii(this),this.i=null,c=zn(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=pr(this,c),c.length>0?String(c[0]):g):g};function Du(c,g,v){Lo(c,g),v.length>0&&(c.i=null,c.g.set(zn(c,g),U(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const q=ua(v);v=pr(this,v);for(let Q=0;Q<v.length;Q++){let re=q;v[Q]!==""&&(re+="="+ua(v[Q])),c.push(re)}}return this.i=c.join("&")};function Ou(c){const g=new wn;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function zn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function qo(c,g){g&&!c.j&&(Ii(c),c.i=null,c.g.forEach(function(v,S){const q=S.toLowerCase();S!=q&&(Lo(this,S),Du(this,q,v))},c)),c.j=g}function jo(c,g){const v=new rs;if(d.Image){const S=new Image;S.onload=E(en,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(en,v,"TestLoadImage: error",!1,g,S),S.onabort=E(en,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(en,v,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function fs(c,g){const v=new rs,S=new AbortController,q=setTimeout(()=>{S.abort(),en(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?en(v,"TestPingServer: ok",!0,g):en(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),en(v,"TestPingServer: error",!1,g)})}function en(c,g,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function xu(){this.g=new sd}function ya(c){this.i=c.Sb||null,this.h=c.ab||!1}T(ya,Tu),ya.prototype.g=function(){return new va(this.i,this.h)};function va(c,g){St.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(va,St),s=va.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Di(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ms(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ms(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?tn(this):Di(this),this.readyState==3&&ms(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,tn(this))},s.Na=function(c){this.g&&(this.response=c,tn(this))},s.ga=function(){this.g&&tn(this)};function tn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Di(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ps(c){let g="";return Ce(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function bn(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ps(v),typeof c=="string"?v!=null&&ua(v):Ye(c,g,v))}function $e(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,St);var gr=/^https?$/i,Nu=["POST","PUT"];s=$e.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bi.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){_a(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Nu,g,void 0)>=0)||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of v)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){_a(this,Q)}};function _a(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ea(c),Tt(c)}function Ea(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Tt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tt(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Bo(this):this.Xa())},s.Xa=function(){Bo(this)};function Bo(c){if(c.h&&typeof u<"u"){if(c.v&&Qt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=Q===0){let re=String(c.D).match(mr)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),S=!gr.test(re?re.toLowerCase():"")}v=S}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var q=Qt(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Ea(c)}}finally{Tt(c)}}}}function Tt(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),$t(g)}};function Aa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(c){const g={};c=(c.g&&Qt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(b(c[S]))continue;var v=rd(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[q]||[];g[q]=Q,Q.push(v)}x(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function yr(c){this.za=0,this.i=[],this.j=new rs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,c),this.Za=Ta("retryDelaySeedMs",1e4,c),this.Ta=Ta("forwardChannelMaxRetries",2,c),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new da(c&&c.concurrentRequestLimit),this.Ba=new xu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=yr.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,S){ht(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Lu(this,null,this.W),Ra(this)};function wa(c){if(ba(c),c.I==3){var g=c.V++,v=st(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),Ca(c,v),g=new kn(c,c.j,g),g.M=2,g.A=Ci(st(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.A,v=!0),v||(g.g=Er(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ca(g)}ku(c)}function ti(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function ba(c){ti(c),c.v&&(d.clearTimeout(c.v),c.v=null),_r(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ra(c){if(!fa(c.h)&&!c.m){c.m=!0;var g=c.Ea;ue||C(),Te||(ue(),Te=!0),O.add(g,c),c.D=0}}function ud(c,g){return Tn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=as(y(c.Ea,c,g),Uu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new kn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=ne(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=vr(this,q,g),v=st(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ca(this,v),Q&&(this.R?g="headers="+ua(ps(Q))+"&"+g:this.u&&bn(v,this.u,Q)),dr(this.h,q),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",g),Ye(v,"SID","null"),q.U=!0,Zn(q,v,null)):Zn(q,v,g),this.I=2}}else this.I==3&&(c?Vu(this,c):this.i.length==0||fa(this.h)||Vu(this))};function Vu(c,g){var v;g?v=g.l:v=c.V++;const S=st(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),Ca(c,S),c.u&&c.o&&bn(S,c.u,c.o),v=new kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=vr(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),dr(c.h,v),Zn(v,S,g)}function Ca(c,g){c.H&&Ce(c.H,function(v,S){Ye(g,S,v)}),c.l&&Ce({},function(v,S){Ye(g,S,v)})}function vr(c,g,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ie=-1;for(;;){const tt=["count="+v];Ie==-1?v>0?(Ie=q[0].g,tt.push("ofs="+Ie)):Ie=0:tt.push("ofs="+Ie);let He=!0;for(let mt=0;mt<v;mt++){var Q=q[mt].g;const hn=q[mt].map;if(Q-=Ie,Q<0)Ie=Math.max(0,q[mt].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var re=hn instanceof Map?hn:Object.entries(hn);for(const[ni,qn]of re){let jn=qn;m(qn)&&(jn=An(qn)),tt.push(Q+ni+"="+encodeURIComponent(jn))}}catch(ni){throw tt.push(Q+"type="+encodeURIComponent("_badmap")),ni}}catch{S&&S(hn)}}if(He){re=tt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),g.G=c,re}function Pu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ue||C(),Te||(ue(),Te=!0),O.add(g,c),c.A=0}}function Fo(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=as(y(c.Da,c),Uu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=as(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),ti(this),Mu(this))};function Ho(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Mu(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=st(c.na);Ye(g,"RID","rpc"),Ye(g,"SID",c.M),Ye(g,"AID",c.K),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(g,"TO",c.ia),Ye(g,"TYPE","xmlhttp"),Ca(c,g),c.u&&c.o&&bn(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ci(st(g)),v.u=null,v.R=!0,ls(v,c)}s.Va=function(){this.C!=null&&(this.C=null,ti(this),Fo(this),ht(19))};function _r(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Go(c,g){var v=null;if(c.g==g){_r(c),Ho(c),c.g=null;var S=2}else if(ma(c.h,g))v=g.G,Ri(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var q=c.D;S=lr(),Dt(S,new bu(S,v)),Ra(c)}else Pu(c);else if(q=g.m,q==3||q==0&&g.X>0||!(S==1&&ud(c,g)||S==2&&Fo(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),q){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Uu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),S=c.Ua;const q=!S;S=new Ln(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(S,"https"),Ci(S),q?jo(S.toString(),v):fs(S.toString(),v)}else ht(2);c.I=0,c.l&&c.l.pa(g),ku(c),ba(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const g=fr(c.h);(g.length!=0||c.i.length!=0)&&(X(c.ja,g),X(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Lu(c,g,v){var S=v instanceof Ln?st(v):new Ln(v);if(S.g!="")g&&(S.g=g+"."+S.g),pa(S,S.u);else{var q=d.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;const Q=new Ln(null);S&&cs(Q,S),g&&(Q.g=g),q&&pa(Q,q),v&&(Q.h=v),S=Q}return v=c.G,g=c.wa,v&&g&&Ye(S,v,g),Ye(S,"VER",c.ka),Ca(c,S),S}function Er(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $e(new ya({ab:v})):new $e(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}s=zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ar(){}Ar.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){St.call(this),this.g=new yr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!b(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new gs(this)}T(nn,St),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){wa(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=An(c),c=v);g.i.push(new od(g.Ya++,c)),g.I==3&&Ra(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,wa(this.g),delete this.g,nn.Z.N.call(this)};function Qo(c){ns.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Qo,ns);function qu(){Un.call(this),this.status=1}T(qu,Un);function gs(c){this.g=c}T(gs,zu),gs.prototype.ra=function(){Dt(this.g,"a")},gs.prototype.qa=function(c){Dt(this.g,new Qo(c))},gs.prototype.pa=function(c){Dt(this.g,new qu)},gs.prototype.oa=function(){Dt(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,u1=function(){return new Ar},l1=function(){return lr()},o1=Sn,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,nh=dt,Ut.COMPLETE="complete",r1=Ut,wu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",St.prototype.listen=St.prototype.J,ql=wu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,a1=$e}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",Z_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new ip("@firebase/firestore");function $r(){return Ja.logLevel}function de(s,...e){if(Ja.logLevel<=Ue.DEBUG){const n=e.map(mp);Ja.debug(`Firestore (${bo}): ${s}`,...n)}}function Zi(s,...e){if(Ja.logLevel<=Ue.ERROR){const n=e.map(mp);Ja.error(`Firestore (${bo}): ${s}`,...n)}}function mo(s,...e){if(Ja.logLevel<=Ue.WARN){const n=e.map(mp);Ja.warn(`Firestore (${bo}): ${s}`,...n)}}function mp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,c1(s,a,n)}function c1(s,e,n){let a=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Zi(a),new Error(a)}function Fe(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||c1(e,o,a)}function De(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new h1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class ZC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const a=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=eI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function Mm(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),u=e.charAt(a);if(o!==u)return gm(o)===gm(u)?ke(o,u):gm(o)?1:-1}return ke(s.length,e.length)}const tI=55296,nI=57343;function gm(s){const e=s.charCodeAt(0);return e>=tI&&e<=nI}function po(s,e,n){return s.length===e.length&&s.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class ci{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const a=ci.isNumericId(e),o=ci.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class rt extends ci{construct(e,n,a){return new rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ci{construct(e,n,a){return new Bt(e,n,a)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new Bt([$_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(u(),o++)}if(u(),d)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(s,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function aI(s,e,n,a){if(e===!0&&a===!0)throw new pe(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function e0(s){if(!ve.isDocumentKey(s))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function d1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gp(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function $a(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gp(s);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(s,e){const n={typeString:s};return e&&(n.value=e),n}function yu(s,e){if(!d1(s))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new pe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,n0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*n0);return new nt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:At("string",nt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new nt(0,0))}static max(){return new Re(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function rI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new nt(n+1,0):new nt(n,a));return new Ws(o,ve.empty(),e)}function oI(s){return new Ws(s.readTime,s.key,tu)}class Ws{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ws(Re.min(),ve.empty(),tu)}static max(){return new Ws(Re.max(),ve.empty(),tu)}}function lI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:ke(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==uI)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,a)=>{n(e)}))}static reject(e){return new ee(((n,a)=>{a(e)}))}static waitFor(e){return new ee(((n,a)=>{let o=0,u=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++u,d&&u===o&&n()}),(p=>a(p)))})),d=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next((o=>o?ee.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ee(((a,o)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{d[y]=E,++m,m===u&&a(d)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function hI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function qh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function dI(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="";function fI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=i0(e)),e=mI(s.get(n),e);return i0(e)}function mI(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case f1:n+="";break;default:n+=u}}return n}function i0(s){return s+f1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function sa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function m1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??jt.RED,this.left=o??jt.EMPTY,this.right=u??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new jt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new It(Bt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new p1("Invalid base64 string: "+u):u}})(e);return new Ht(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const pI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const n=pI.exec(s);if(Fe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?Ht.fromBase64String(s):Ht.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="server_timestamp",y1="__type__",v1="__previous_value__",_1="__local_write_time__";function vp(s){return(s?.mapValue?.fields||{})[y1]?.stringValue===g1}function jh(s){const e=s.mapValue.fields[v1];return vp(e)?jh(e):e}function nu(s){const e=Zs(s.mapValue.fields[_1].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,a,o,u,d,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const vh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__type__",yI="__max__",Qc={mapValue:{}},A1="__vector__",_h="value";function $s(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vp(s)?4:_I(s)?9007199254740991:vI(s)?10:11:Se(28295,{value:s})}function _i(s,e){if(s===e)return!0;const n=$s(s);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=Zs(o.timestampValue),m=Zs(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Js(o.bytesValue).isEqual(Js(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=yt(o.doubleValue),m=yt(u.doubleValue);return d===m?yh(d)===yh(m):isNaN(d)&&isNaN(m)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(s0(d)!==s0(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!_i(d[p],m[p])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function su(s,e){return(s.values||[]).find((n=>_i(n,e)))!==void 0}function go(s,e){if(s===e)return 0;const n=$s(s),a=$s(e);if(n!==a)return ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const m=yt(u.integerValue||u.doubleValue),p=yt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return r0(s.timestampValue,e.timestampValue);case 4:return r0(nu(s),nu(e));case 5:return Mm(s.stringValue,e.stringValue);case 6:return(function(u,d){const m=Js(u),p=Js(d);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const m=u.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ke(m[y],p[y]);if(E!==0)return E}return ke(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const m=ke(yt(u.latitude),yt(d.latitude));return m!==0?m:ke(yt(u.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return o0(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const m=u.fields||{},p=d.fields||{},y=m[_h]?.arrayValue,E=p[_h]?.arrayValue,T=ke(y?.values?.length||0,E?.values?.length||0);return T!==0?T:o0(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Qc.mapValue&&d===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(d===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Mm(p[T],E[T]);if(R!==0)return R;const U=go(m[p[T]],y[E[T]]);if(U!==0)return U}return ke(p.length,E.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function r0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const n=Zs(s),a=Zs(e),o=ke(n.seconds,a.seconds);return o!==0?o:ke(n.nanos,a.nanos)}function o0(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=go(n[o],a[o]);if(u)return u}return ke(n.length,a.length)}function yo(s){return Um(s)}function Um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Zs(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Js(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Um(u);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${Um(n.fields[d])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function ih(s){switch($s(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+ih(u)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return sa(a.fields,((u,d)=>{o+=u.length+ih(d)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function km(s){return!!s&&"integerValue"in s}function _p(s){return!!s&&"arrayValue"in s}function l0(s){return!!s&&"nullValue"in s}function u0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function vI(s){return(s?.mapValue?.fields||{})[E1]?.stringValue===A1}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return sa(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Kl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(s.arrayValue.values[n]);return e}return{...s}}function _I(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Bt.emptyPath(),a={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}d?a[m.lastSegment()]=Kl(d):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){sa(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new cn(Kl(this.value))}}function S1(s){const e=[];return sa(s.fields,((n,a)=>{const o=new Bt([n]);if(sh(a)){const u=S1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,a,o,u,d,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),cn.empty(),0)}static newFoundDocument(e,n,a,o){return new Zt(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function c0(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),n.key):a=go(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function h0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!_i(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function EI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Rt extends T1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new SI(e,n,a):n==="array-contains"?new bI(e,a):n==="in"?new RI(e,a):n==="not-in"?new CI(e,a):n==="array-contains-any"?new II(e,a):new Rt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new TI(e,a):new wI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends T1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return w1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w1(s){return s.op==="and"}function b1(s){return AI(s)&&w1(s)}function AI(s){for(const e of s.filters)if(e instanceof Ei)return!1;return!0}function Lm(s){if(s instanceof Rt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(b1(s))return s.filters.map((e=>Lm(e))).join(",");{const e=s.filters.map((n=>Lm(n))).join(",");return`${s.op}(${e})`}}function R1(s,e){return s instanceof Rt?(function(a,o){return o instanceof Rt&&a.op===o.op&&a.field.isEqual(o.field)&&_i(a.value,o.value)})(s,e):s instanceof Ei?(function(a,o){return o instanceof Ei&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,d,m)=>u&&R1(d,o.filters[m])),!0):!1})(s,e):void Se(19439)}function C1(s){return s instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(s):s instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(C1).join(" ,")+"}"})(s):"Filter"}class SI extends Rt{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class TI extends Rt{constructor(e,n){super(e,"in",n),this.keys=I1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wI extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=I1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I1(s,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class bI extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&su(n.arrayValue,this.value)}}class RI extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class CI extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class II extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>su(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n=null,a=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Te=null}}function d0(s,e=null,n=[],a=[],o=null,u=null,d=null){return new DI(s,e,n,a,o,u,d)}function Ep(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Lm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>yo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>yo(a))).join(",")),e.Te=n}return e.Te}function Ap(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!EI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!R1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!h0(s.startAt,e.startAt)&&h0(s.endAt,e.endAt)}function zm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,a=[],o=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OI(s,e,n,a,o,u,d,m){return new Bh(s,e,n,a,o,u,d,m)}function Sp(s){return new Bh(s)}function f0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xI(s){return s.collectionGroup!==null}function Yl(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new It(Bt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ah(u,a))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Ah(Bt.keyField(),a))}return e.Ie}function fi(s){const e=De(s);return e.Ee||(e.Ee=NI(e,Yl(s))),e.Ee}function NI(s,e){if(s.limitType==="F")return d0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return d0(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function qm(s,e,n){return new Bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Fh(s,e){return Ap(fi(s),fi(e))&&s.limitType===e.limitType}function D1(s){return`${Ep(fi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>C1(o))).join(", ")}]`),qh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${a})`})(fi(s))}; limitType=${s.limitType})`}function Hh(s,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(s,e)&&(function(a,o){for(const u of Yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,m,p){const y=c0(d,m,p);return d.inclusive?y<=0:y<0})(a.startAt,Yl(a),o)||a.endAt&&!(function(d,m,p){const y=c0(d,m,p);return d.inclusive?y>=0:y>0})(a.endAt,Yl(a),o))})(s,e)}function VI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function O1(s){return(e,n)=>{let a=!1;for(const o of Yl(s)){const u=PI(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function PI(s,e,n){const a=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,d,m){const p=d.data.field(u),y=m.data.field(u);return p!==null&&y!==null?go(p,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new lt(ve.comparator);function Ji(){return MI}const x1=new lt(ve.comparator);function jl(...s){let e=x1;for(const n of s)e=e.insert(n.key,n);return e}function N1(s){let e=x1;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ha(){return Xl()}function V1(){return Xl()}function Xl(){return new ir((s=>s.toString()),((s,e)=>s.isEqual(e)))}const UI=new lt(ve.comparator),kI=new It(ve.comparator);function Le(...s){let e=kI;for(const n of s)e=e.add(n);return e}const LI=new It(ke);function zI(){return LI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function P1(s){return{integerValue:""+s}}function qI(s,e){return dI(e)?P1(e):Tp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function jI(s,e,n){return s instanceof Sh?(function(o,u){const d={fields:{[y1]:{stringValue:g1},[_1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=jh(u)),u&&(d.fields[v1]=u),{mapValue:d}})(n,e):s instanceof au?U1(s,e):s instanceof ru?k1(s,e):(function(o,u){const d=M1(o,u),m=m0(d)+m0(o.Ae);return km(d)&&km(o.Ae)?P1(m):Tp(o.serializer,m)})(s,e)}function BI(s,e,n){return s instanceof au?U1(s,e):s instanceof ru?k1(s,e):n}function M1(s,e){return s instanceof Th?(function(a){return km(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Sh extends Gh{}class au extends Gh{constructor(e){super(),this.elements=e}}function U1(s,e){const n=L1(e);for(const a of s.elements)n.some((o=>_i(o,a)))||n.push(a);return{arrayValue:{values:n}}}class ru extends Gh{constructor(e){super(),this.elements=e}}function k1(s,e){let n=L1(e);for(const a of s.elements)n=n.filter((o=>!_i(o,a)));return{arrayValue:{values:n}}}class Th extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m0(s){return yt(s.integerValue||s.doubleValue)}function L1(s){return _p(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function FI(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof au&&o instanceof au||a instanceof ru&&o instanceof ru?po(a.elements,o.elements,_i):a instanceof Th&&o instanceof Th?_i(a.Ae,o.Ae):a instanceof Sh&&o instanceof Sh})(s.transform,e.transform)}class HI{constructor(e,n){this.version=e,this.transformResults=n}}class mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Qh{}function z1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new j1(s.key,mi.none()):new vu(s.key,s.data,mi.none());{const n=s.data,a=cn.empty();let o=new It(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new aa(s.key,a,new _n(o.toArray()),mi.none())}}function GI(s,e,n){s instanceof vu?(function(o,u,d){const m=o.value.clone(),p=g0(o.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,n):s instanceof aa?(function(o,u,d){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=g0(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(q1(o)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Wl(s,e,n,a){return s instanceof vu?(function(u,d,m,p){if(!ah(u.precondition,d))return m;const y=u.value.clone(),E=y0(u.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,a):s instanceof aa?(function(u,d,m,p){if(!ah(u.precondition,d))return m;const y=y0(u.fieldTransforms,p,d),E=d.data;return E.setAll(q1(u)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,n,a):(function(u,d,m){return ah(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(s,e,n)}function QI(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),u=M1(a.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(a.field,u))}return n||null}function p0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&po(a,o,((u,d)=>FI(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vu extends Qh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Qh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function g0(s,e,n){const a=new Map;Fe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],d=u.transform,m=e.data.field(u.field);a.set(u.field,BI(d,m,n[o]))}return a}function y0(s,e,n){const a=new Map;for(const o of s){const u=o.transform,d=n.data.field(o.field);a.set(o.field,jI(u,d,e))}return a}class j1 extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KI extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GI(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Wl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Wl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=V1();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const p=z1(d,m);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,a)=>p0(n,a)))&&po(this.baseMutations,e.baseMutations,((n,a)=>p0(n,a)))}}class wp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return UI})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new wp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,qe;function ZI(s){switch(s){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function B1(s){if(s===void 0)return Zi("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Et.OK:return ie.OK;case Et.CANCELLED:return ie.CANCELLED;case Et.UNKNOWN:return ie.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ie.INTERNAL;case Et.UNAVAILABLE:return ie.UNAVAILABLE;case Et.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Et.NOT_FOUND:return ie.NOT_FOUND;case Et.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Et.ABORTED:return ie.ABORTED;case Et.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Et.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:s})}}(qe=Et||(Et={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Ys([4294967295,4294967295],0);function v0(s){const e=JI().encode(s),n=new s1;return n.update(e),new Uint8Array(n.digest())}function _0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ys([n,a],0),new Ys([o,u],0)]}class bp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ys.fromNumber(a)));return o.compare($I)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v0(e),[a,o]=_0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new bp(u,o,n);return a.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=v0(e),[a,o]=_0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Kh(Re.min(),o,new lt(ke),Ji(),Le())}}class _u{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new _u(a,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class F1{constructor(e,n){this.targetId=e,this.Ce=n}}class H1{constructor(e,n,a=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class E0{constructor(){this.ve=0,this.Fe=A0(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),a=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=A0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=Kc(),this.He=Kc(),this.Ye=new lt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(a===0){const d=new ve(u.path);this.et(n,d,Zt.newNoDocument(d,Re.min()))}else Fe(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=Js(a).toUint8Array()}catch(p){if(p instanceof p1)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(d,o,u)}catch(p){return mo(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const m=this.ot(d);if(m){if(u.current&&zm(m.target)){const p=new ve(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=Le();this.He.forEach(((u,d)=>{let m=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Kh(e,n,this.Ye,this.je,a);return this.je=Ji(),this.Je=Kc(),this.He=Kc(),this.Ye=new lt(ke),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new E0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new lt(ve.comparator)}function A0(){return new lt(ve.comparator)}const tD={asc:"ASCENDING",desc:"DESCENDING"},nD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class sD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(s,e){return s.useProto3Json||qh(e)?e:{value:e}}function wh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function aD(s,e){return wh(s,e.toTimestamp())}function pi(s){return Fe(!!s,49232),Re.fromTimestamp((function(n){const a=Zs(n);return new nt(a.seconds,a.nanos)})(s))}function Rp(s,e){return Bm(s,e).canonicalString()}function Bm(s,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Q1(s){const e=rt.fromString(s);return Fe(Z1(e),10190,{key:e.toString()}),e}function Fm(s,e){return Rp(s.databaseId,e.path)}function ym(s,e){const n=Q1(e);if(n.get(1)!==s.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(Y1(n))}function K1(s,e){return Rp(s.databaseId,e)}function rD(s){const e=Q1(s);return e.length===4?rt.emptyPath():Y1(e)}function Hm(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Y1(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S0(s,e,n){return{name:Fm(s,e),fields:n.value.mapValue.fields}}function oD(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const E=y.code===void 0?ie.UNKNOWN:B1(y.code);return new pe(E,y.message||"")})(d);n=new H1(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ym(s,a.document.name),u=pi(a.document.updateTime),d=a.document.createTime?pi(a.document.createTime):Re.min(),m=new cn({mapValue:{fields:a.document.fields}}),p=Zt.newFoundDocument(o,u,d,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new rh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ym(s,a.document),u=a.readTime?pi(a.readTime):Re.min(),d=Zt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new rh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ym(s,a.document),u=a.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new WI(o,u),m=a.targetId;n=new F1(m,d)}}return n}function lD(s,e){let n;if(e instanceof vu)n={update:S0(s,e.key,e.value)};else if(e instanceof j1)n={delete:Fm(s,e.key)};else if(e instanceof aa)n={update:S0(s,e.key,e.data),updateMask:yD(e.fieldMask)};else{if(!(e instanceof KI))return Se(16599,{Vt:e.type});n={verify:Fm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const m=d.transform;if(m instanceof Sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Th)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(s,e.precondition)),n}function uD(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((n=>(function(o,u){let d=o.updateTime?pi(o.updateTime):pi(u);return d.isEqual(Re.min())&&(d=pi(u)),new HI(d,o.transformResults||[])})(n,e)))):[]}function cD(s,e){return{documents:[K1(s,e.path)]}}function hD(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=K1(s,o);const u=(function(y){if(y.length!==0)return W1(Ei.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:to(R.field),direction:mD(R.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=jm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function dD(s){let e=rD(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=X1(T);return R instanceof Ei&&b1(R)?R.getFilters():[R]})(n.where));let d=[];n.orderBy&&(d=(function(T){return T.map((R=>(function(X){return new Ah(no(X.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,qh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,U=T.values||[];return new Eh(U,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,U=T.values||[];return new Eh(U,R)})(n.endAt)),OI(e,o,d,u,m,"F",p,y)}function fD(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=no(n.unaryFilter.field);return Rt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(n.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Rt.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((a=>X1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function mD(s){return tD[s]}function pD(s){return nD[s]}function gD(s){return iD[s]}function to(s){return{fieldPath:s.canonicalString()}}function no(s){return Bt.fromServerFormat(s.fieldPath)}function W1(s){return s instanceof Rt?(function(n){if(n.op==="=="){if(u0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:pD(n.op),value:n.value}}})(s):s instanceof Ei?(function(n){const a=n.getFilters().map((o=>W1(o)));return a.length===1?a[0]:{compositeFilter:{op:gD(n.op),filters:a}}})(s):Se(54877,{filter:s})}function yD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Z1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,a,o,u=Re.min(),d=Re.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.yt=e}}function _D(s){const e=dD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Cn=new AD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ws.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class AD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new It(rt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new It(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(J1,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",SD=1048576;function b0([s,e],[n,a]){const o=ke(s,n);return o===0?ke(e,a):o}class TD{constructor(e){this.Ir=e,this.buffer=new It(b0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();b0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(w0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?de(w0,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Vr(3e5)}))}}class bD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(zh.ce);const a=new TD(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(T0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(y=Date.now(),$r()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function RD(s,e){return new bD(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new ir((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Wl(a.mutation,o,_n.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Le()){const o=Ha();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let d=jl();return u.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Ha();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Le())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,a,o){let u=Ji();const d=Xl(),m=(function(){return Xl()})();return n.forEach(((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof aa)?u=u.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Wl(E.mutation,y,E.mutation.getFieldMask(),nt.now())):d.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>m.set(y,new ID(E,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Xl();let o=new lt(((d,m)=>d-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||_n.empty();E=m.applyToLocalView(y,E),a.set(p,E);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=V1();E.forEach((R=>{if(!u.has(R)){const U=z1(n.get(R),a.get(R));U!==null&&T.set(R,U),u=u.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ee.resolve(Ha());let m=tu,p=u;return d.next((y=>ee.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Le()))).next((E=>({batchId:m,changes:N1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let o=jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(T,R){return new Bh(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((T,R)=>{d=d.insert(T,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((d=>{u.forEach(((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Zt.newInvalidDocument(E)))}));let m=jl();return d.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,y,_n.empty(),nt.now()),Hh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:_D(o.bundledQuery),readTime:pi(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.overlays=new lt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ha();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=Ha(),u=n.length+1,d=new ve(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new lt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Ha(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ha(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new XI(n,a));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Qr=new It(Pt.$r),this.Ur=new It(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Pt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new rt([])),a=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new rt([])),a=new Pt(n,e),o=new Pt(n,e+1);let u=Le();return this.Ur.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Pt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Pt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YI(u,n,a,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(d=>{const m=this.Xr(d.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new It(ke);return n.forEach((o=>{const u=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(m=>{a=a.add(m.Yr)}))})),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const d=new Pt(new ve(u),0);let m=new It(ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),d),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Pt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Pt(n,0),o=this.Zr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ri=e,this.docs=(function(){return new lt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let a=Ji();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Ji();const d=n.path,m=new ve(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lI(oI(E),a)<=0||(o.has(E.key)||Hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Se(9500)}ii(e,n){return ee.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new MD(this)}getSize(e){return ee.resolve(this.size)}}class MD extends CD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.si=new ir((n=>Ep(n)),Ap),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Cp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new ND,this.referenceDelegate=e(this),this.Pi=new UD(this),this.indexManager=new ED,this.remoteDocumentCache=(function(o){return new PD(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new vD(n),this.Ii=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new VD(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const o=new kD(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class kD extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Ri=new Cp,this.Vi=null}static mi(e){return new Ip(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(a=>{const o=ve.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.pi=new ir((a=>fI(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=RD(this,n)}static mi(e,n){return new bh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(a++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,a){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fb()?8:hI(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new LD;return this.Ss(e,n,d).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?($r()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):($r()<=Ue.DEBUG&&de("QueryEngine","Query:",eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($r()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):ee.resolve())}ys(e,n){if(f0(n))return ee.resolve(null);let a=fi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),a=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Le(...u);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,a,o){return f0(n)||o.isEqual(Re.min())?ee.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,o)?ee.resolve(null):($r()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,d,n,rI(o,tu)).next((m=>m)))}))}Ds(e,n){let a=new It(O1(e));return n.forEach(((o,u)=>{Hh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return $r()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",qD=3e8;class jD{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(ke),this.xs=new ir((u=>Ep(u)),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BD(s,e,n,a){return new jD(s,e,n,a)}async function eA(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],m=[];let p=Le();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function FD(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,R=T.keys();let U=ee.resolve();return R.forEach((X=>{U=U.next((()=>E.getEntry(p,X))).next((J=>{const M=y.docVersions.get(X);Fe(M!==null,48541),J.version.compareTo(M)<0&&(T.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function tA(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function HD(s,e){const n=De(s),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let U=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Ht.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,a)),o=o.insert(T,U),(function(J,M,te){return J.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=qD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(R,U,E)&&m.push(n.Pi.updateTargetData(u,U))}));let p=Ji(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(GD(u,d,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return ee.waitFor(m).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function GD(s,e,n){let a=Le(),o=Le();return n.forEach((u=>a=a.add(u))),e.getEntries(s,a).next((u=>{let d=Ji();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):de(Op,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function QD(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=yp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function KD(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(a).next((d=>(o=new Hs(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Gm(s,e,n){const a=De(s),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Co(d))throw d;de(Op,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function R0(s,e,n){const a=De(s);let o=Re.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,E){const T=De(p),R=T.xs.get(E);return R!==void 0?ee.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,E)})(a,d,fi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?u:Le()))).next((m=>(YD(a,VI(e),m),{documents:m,Qs:u})))))}function YD(s,e,n){let a=s.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),s.Os.set(e,a)}class C0{constructor(){this.activeTargetIds=zI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XD{constructor(){this.Mo=new C0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(I0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Qm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const d=Qm(),m=this.zo(e,n.toUriEncodedString());de(vm,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=So(y);return this.Jo(e,m,p,a,E).then((T=>(de(vm,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw mo(vm,`RPC '${e}' ${d} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,n,a,o,u,d){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=ZD[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class eO extends JD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const d=Qm();return new Promise(((m,p)=>{const y=new a1;y.setWithCredentials(!0),y.listenOnce(r1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const T=y.getResponseJson();de(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),m(T);break;case nh.TIMEOUT:de(Xt,`RPC '${e}' ${d} timed out`),p(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const R=y.getStatus();if(de(Xt,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const X=U?.error;if(X&&X.status&&X.message){const J=(function(te){const Y=te.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN})(X.status);p(new pe(J,X.message))}else p(new pe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(Xt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);de(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=Qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=u1(),m=l1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");de(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=d.createWebChannel(E,p);this.I_(T);let R=!1,U=!1;const X=new $D({Yo:M=>{U?de(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(R||(de(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),de(Xt,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Zo:()=>T.close()}),J=(M,te,Y)=>{M.listen(te,(se=>{try{Y(se)}catch(me){setTimeout((()=>{throw me}),0)}}))};return J(T,ql.EventType.OPEN,(()=>{U||(de(Xt,`RPC '${e}' stream ${o} transport opened.`),X.o_())})),J(T,ql.EventType.CLOSE,(()=>{U||(U=!0,de(Xt,`RPC '${e}' stream ${o} transport closed`),X.a_(),this.E_(T))})),J(T,ql.EventType.ERROR,(M=>{U||(U=!0,mo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),X.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),J(T,ql.EventType.MESSAGE,(M=>{if(!U){const te=M.data[0];Fe(!!te,16349);const Y=te,se=Y?.error||Y[0]?.error;if(se){de(Xt,`RPC '${e}' stream ${o} received error:`,se);const me=se.status;let ue=(function(C){const I=Et[C];if(I!==void 0)return B1(I)})(me),Te=se.message;ue===void 0&&(ue=ie.INTERNAL,Te="Unknown error status: "+me+" with message "+se.message),U=!0,X.a_(new pe(ue,Te)),T.close()}else de(Xt,`RPC '${e}' stream ${o} received:`,te),X.u_(te)}})),J(m,o1.STAT_EVENT,(M=>{M.stat===Pm.PROXY?de(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Pm.NOPROXY&&de(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(s){return new sD(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class iA{constructor(e,n,a,o,u,d,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tO extends iA{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oD(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?pi(d.readTime):Re.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,d){let m;const p=d.target;if(m=zm(p)?{documents:cD(u,p)}:{query:hD(u,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=G1(u,d.resumeToken);const y=jm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=wh(u,d.snapshotVersion.toTimestamp());const y=jm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=fD(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.q_(n)}}class nO extends iA{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uD(e.writeResults,e.commitTime),a=pi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Hm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>lD(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{}class sO extends iO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Bm(n,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,Bm(n,a),o,d,m,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(ie.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="RemoteStore";class rO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{sr(this)&&(de(er,"Restarting streams for network reachability change."),await(async function(p){const y=De(p);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Xh(y)})(this))}))})),this.Ra=new aO(a,o)}}async function Xh(s){if(sr(s))for(const e of s.da)await e(!0)}async function Eu(s){for(const e of s.da)await e(!1)}function sA(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?Vp(n):Io(n).O_()&&Np(n,e))}function xp(s,e){const n=De(s),a=Io(n);n.Ia.delete(e),a.O_()&&aA(n,e),n.Ia.size===0&&(a.O_()?a.L_():sr(n)&&n.Ra.set("Unknown"))}function Np(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(s).Y_(e)}function aA(s,e){s.Va.Ue(e),Io(s).Z_(e)}function Vp(s){s.Va=new eD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Ra.ua()}function Pp(s){return sr(s)&&!Io(s).x_()&&s.Ia.size>0}function sr(s){return De(s).Ea.size===0}function rA(s){s.Va=void 0}async function oO(s){s.Ra.set("Online")}async function lO(s){s.Ia.forEach(((e,n)=>{Np(s,e)}))}async function uO(s,e){rA(s),Pp(s)?(s.Ra.ha(e),Vp(s)):s.Ra.set("Unknown")}async function cO(s,e,n){if(s.Ra.set("Online"),e instanceof H1&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(a){de(er,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Rh(s,a)}else if(e instanceof rh?s.Va.Ze(e):e instanceof F1?s.Va.st(e):s.Va.tt(e),!n.isEqual(Re.min()))try{const a=await tA(s.localStore);n.compareTo(a)>=0&&await(function(u,d){const m=u.Va.Tt(d);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),aA(u,p);const T=new Hs(E.target,p,y,E.sequenceNumber);Np(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(a){de(er,"Failed to raise snapshot:",a),await Rh(s,a)}}async function Rh(s,e,n){if(!Co(e))throw e;s.Ea.add(1),await Eu(s),s.Ra.set("Offline"),n||(n=()=>tA(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(er,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Xh(s)}))}function oA(s,e){return e().catch((n=>Rh(s,n,e)))}async function Wh(s){const e=De(s),n=ea(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;hO(e);)try{const o=await QD(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,dO(e,o)}catch(o){await Rh(e,o)}lA(e)&&uA(e)}function hO(s){return sr(s)&&s.Ta.length<10}function dO(s,e){s.Ta.push(e);const n=ea(s);n.O_()&&n.X_&&n.ea(e.mutations)}function lA(s){return sr(s)&&!ea(s).x_()&&s.Ta.length>0}function uA(s){ea(s).start()}async function fO(s){ea(s).ra()}async function mO(s){const e=ea(s);for(const n of s.Ta)e.ea(n.mutations)}async function pO(s,e,n){const a=s.Ta.shift(),o=wp.from(a,e,n);await oA(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Wh(s)}async function gO(s,e){e&&ea(s).X_&&await(async function(a,o){if((function(d){return ZI(d)&&d!==ie.ABORTED})(o.code)){const u=a.Ta.shift();ea(a).B_(),await oA(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Wh(a)}})(s,e),lA(s)&&uA(s)}async function x0(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),de(er,"RemoteStore received new credentials");const a=sr(n);n.Ea.add(3),await Eu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function yO(s,e){const n=De(s);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(n,a,o){const u=De(n);return u.sa(),new tO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:oO.bind(null,s),t_:lO.bind(null,s),r_:uO.bind(null,s),H_:cO.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Pp(s)?Vp(s):s.Ra.set("Unknown")):(await s.ma.stop(),rA(s))}))),s.ma}function ea(s){return s.fa||(s.fa=(function(n,a,o){const u=De(n);return u.sa(),new nO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fO.bind(null,s),r_:gO.bind(null,s),ta:mO.bind(null,s),na:pO.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Wh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(er,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,m=new Mp(e,n,d,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(s,e){if(Zi("AsyncQueue",`${e}: ${s}`),Co(s))return new pe(ie.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=jl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ga=new lt(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class _o{constructor(e,n,a,o,u,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new _o(e,n,oo.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _O{constructor(){this.queries=V0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=De(n),u=o.queries;o.queries=V0(),u.forEach(((d,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function V0(){return new ir((s=>D1(s)),Fh)}async function EO(s,e){const n=De(s);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new vO,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Up(d,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&kp(n)}async function AO(s,e){const n=De(s),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function SO(s,e){const n=De(s);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Fa(o)&&(a=!0);d.wa=o}}a&&kp(n)}function TO(s,e,n){const a=De(s),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function kp(s){s.Ca.forEach((e=>{e.next()}))}var Km,P0;(P0=Km||(Km={})).Ma="default",P0.Cache="cache";class wO{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new _o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=O1(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new N0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),U=Hh(this.query,T)?T:null,X=!!R&&this.mutatedKeys.has(R.key),J=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let M=!1;R&&U?R.data.isEqual(U.data)?X!==J&&(a.track({type:3,doc:U}),M=!0):this.su(R,U)||(a.track({type:2,doc:U}),M=!0,(p&&this.eu(U,p)>0||y&&this.eu(U,y)<0)&&(m=!0)):!R&&U?(a.track({type:0,doc:U}),M=!0):R&&!U&&(a.track({type:1,doc:R}),M=!0,(p||y)&&(m=!0)),M&&(U?(d=d.add(U),u=J?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,T)=>(function(U,X){const J=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:M})}};return J(U)-J(X)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new _o(this.query,e.tu,u,d,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new hA(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new cA(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class RO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class CO{constructor(e){this.key=e,this.hu=!1}}class IO{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ir((m=>D1(m)),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ve.comparator),this.Au=new Map,this.Ru=new Cp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DO(s,e,n=!0){const a=yA(s);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dA(a,e,n,!0),o}async function OO(s,e){const n=yA(s);await dA(n,e,!0,!1)}async function dA(s,e,n,a){const o=await KD(s.localStore,fi(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await xO(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&sA(s.remoteStore,o),m}async function xO(s,e,n,a,o){s.pu=(T,R,U)=>(async function(J,M,te,Y){let se=M.view.ru(te);se.Cs&&(se=await R0(J.localStore,M.query,!1).then((({documents:O})=>M.view.ru(O,se))));const me=Y&&Y.targetChanges.get(M.targetId),ue=Y&&Y.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(se,J.isPrimaryClient,me,ue);return U0(J,M.targetId,Te.au),Te.snapshot})(s,T,R,U);const u=await R0(s.localStore,e,!0),d=new bO(e,u.Qs),m=d.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),y=d.applyChanges(m,s.isPrimaryClient,p);U0(s,n,y.au);const E=new RO(e,n,d);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function NO(s,e,n){const a=De(s),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!Fh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&xp(a.remoteStore,o.targetId),Ym(a,o.targetId)})).catch(Ro)):(Ym(a,o.targetId),await Gm(a.localStore,o.targetId,!0))}async function VO(s,e){const n=De(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),xp(n.remoteStore,a.targetId))}async function PO(s,e,n){const a=jO(s);try{const o=await(function(d,m){const p=De(d),y=nt.now(),E=m.reduce(((U,X)=>U.add(X.key)),Le());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let X=Ji(),J=Le();return p.Ns.getEntries(U,E).next((M=>{X=M,X.forEach(((te,Y)=>{Y.isValidDocument()||(J=J.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,X))).next((M=>{T=M;const te=[];for(const Y of m){const se=QI(Y,T.get(Y.key).overlayedDocument);se!=null&&te.push(new aa(Y.key,se,S1(se.value.mapValue),mi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,te,m)})).next((M=>{R=M;const te=M.applyToLocalDocumentSet(T,J);return p.documentOverlayCache.saveOverlays(U,M.batchId,te)}))})).then((()=>({batchId:R.batchId,changes:N1(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new lt(ke)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,n),await Au(a,o.changes),await Wh(a.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function fA(s,e){const n=De(s);try{const a=await HD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Fe(d.hu,14607):o.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await Au(n,a,e)}catch(a){await Ro(a)}}function M0(s,e,n){const a=De(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const p=De(d);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&kp(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function MO(s,e,n){const a=De(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new lt(ve.comparator);d=d.insert(u,Zt.newNoDocument(u,Re.min()));const m=Le().add(u),p=new Kh(Re.min(),new Map,new lt(ke),d,m);await fA(a,p),a.du=a.du.remove(u),a.Au.delete(e),zp(a)}else await Gm(a.localStore,e,!1).then((()=>Ym(a,e,n))).catch(Ro)}async function UO(s,e){const n=De(s),a=e.batch.batchId;try{const o=await FD(n.localStore,e);pA(n,a,null),mA(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Au(n,o)}catch(o){await Ro(o)}}async function kO(s,e,n){const a=De(s);try{const o=await(function(d,m){const p=De(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);pA(a,e,n),mA(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Au(a,o)}catch(o){await Ro(o)}}function mA(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function pA(s,e,n){const a=De(s);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Ym(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||gA(s,a)}))}function gA(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(xp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),zp(s))}function U0(s,e,n){for(const a of n)a instanceof cA?(s.Ru.addReference(a.key,e),LO(s,a)):a instanceof hA?(de(Lp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||gA(s,a.key)):Se(19791,{wu:a})}function LO(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(de(Lp,"New document in limbo: "+n),s.Eu.add(a),zp(s))}function zp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(rt.fromString(e)),a=s.fu.next();s.Au.set(a,new CO(n)),s.du=s.du.insert(n,a),sA(s.remoteStore,new Hs(fi(Sp(n.path)),a,"TargetPurposeLimboResolution",zh.ce))}}async function Au(s,e,n){const a=De(s),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{d.push(a.pu(p,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Dp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(p,y){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(R=>ee.forEach(R.Es,(U=>E.persistence.referenceDelegate.addReference(T,R.targetId,U))).next((()=>ee.forEach(R.ds,(U=>E.persistence.referenceDelegate.removeReference(T,R.targetId,U)))))))))}catch(T){if(!Co(T))throw T;de(Op,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const U=E.Ms.get(R),X=U.snapshotVersion,J=U.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(R,J)}}})(a.localStore,u))}async function zO(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){de(Lp,"User change. New user:",e.toKey());const a=await eA(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pe(ie.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Au(n,a.Ls)}}function qO(s,e){const n=De(s),a=n.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function yA(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Pu.H_=SO.bind(null,e.eventManager),e.Pu.yu=TO.bind(null,e.eventManager),e}function jO(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BD(this.persistence,new zD,e.initialUser,this.serializer)}Cu(e){return new $1(Ip.mi,this.serializer)}Du(e){return new XD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class BO extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof bh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wD(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new $1((a=>bh.mi(a,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>M0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,this.syncEngine),await yO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _O})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),a=(function(u){return new eO(u)})(e.databaseInfo);return(function(u,d,m,p){return new sO(u,d,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,d,m){return new rO(a,o,u,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>M0(this.syncEngine,n,0)),(function(){return D0.v()?new D0:new WD})())}createSyncEngine(e,n){return(function(o,u,d,m,p,y,E){const T=new IO(o,u,d,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=De(n);de(er,"RemoteStore shutting down."),a.Ea.add(5),await Eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class HO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{de(ta,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(de(ta,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Up(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Em(s,e){s.asyncQueue.verifyOperationInProgress(),de(ta,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await eA(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function k0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await GO(s);de(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>x0(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>x0(e.remoteStore,o))),s._onlineComponents=e}async function GO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(ta,"Using user provided OfflineComponentProvider");try{await Em(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Em(s,new Ch)}}else de(ta,"Using default OfflineComponentProvider"),await Em(s,new BO(void 0));return s._offlineComponents}async function vA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(ta,"Using user provided OnlineComponentProvider"),await k0(s,s._uninitializedComponentsProvider._online)):(de(ta,"Using default OnlineComponentProvider"),await k0(s,new Xm))),s._onlineComponents}function QO(s){return vA(s).then((e=>e.syncEngine))}async function KO(s){const e=await vA(s),n=e.eventManager;return n.onListen=DO.bind(null,e.syncEngine),n.onUnlisten=NO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),n}function YO(s,e,n={}){const a=new Xs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,m,p,y){const E=new FO({next:R=>{E.Nu(),d.enqueueAndForget((()=>AO(u,T)));const U=R.docs.has(m);!U&&R.fromCache?y.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&p&&p.source==="server"?y.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new wO(Sp(m.path),E,{includeMetadataChanges:!0,qa:!0});return EO(u,T)})(await KO(s),s.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firestore.googleapis.com",z0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=z0}else this.host=e.host,this.ssl=e.ssl??z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_A(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qp{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new YC;switch(a.type){case"firstParty":return new JC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=L0.get(n);a&&(de("ComponentProvider","Removing Datastore"),L0.delete(n),a.terminate())})(this),Promise.resolve()}}function XO(s,e,n,a={}){s=$a(s,qp);const o=So(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(gE(`https://${m}`),yE("Firestore",!0)),u.host!==EA&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Ya(p,d)&&(s._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=Wt.MOCK_USER;else{y=sb(a.mockUserToken,s._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}s._authCredentials=new XC(new h1(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jp(this.firestore,e,this._query)}}class Ct{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(yu(n,Ct._jsonSchema))return new Ct(e,a||null,new ve(rt.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:At("string",Ct._jsonSchemaVersion),referencePath:At("string")};class ou extends jp{constructor(e,n,a){super(e,n,Sp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ve(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function Wr(s,e,...n){if(s=Ft(s),arguments.length===1&&(e=pp.newId()),sI("doc","path",e),s instanceof qp){const a=rt.fromString(e,...n);return e0(a),new Ct(s,null,new ve(a))}{if(!(s instanceof Ct||s instanceof ou))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...n));return e0(a),new Ct(s.firestore,s instanceof ou?s.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const a=_m();a&&de(j0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;de(j0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",F0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:F0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Zh extends qp{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new B0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function WO(s,e){const n=typeof s=="object"?s:AE(),a=typeof s=="string"?s:vh,o=ap(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=nb("firestore");u&&XO(o,...u)}return o}function AA(s){if(s._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ZO(s),s._firestoreClient}function ZO(s){const e=s._freezeSettings(),n=(function(o,u,d,m){return new gI(o,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_A(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new HO(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Ht.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:At("string",Pn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:At("string",gi._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:At("string",yi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^__.*__$/;class $O{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Fp{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TA(this.Ac)&&JO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ex{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Yh(e)}Cc(e,n,a,o=!1){return new Fp({Ac:e,methodName:n,Dc:a,path:Bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(s){const e=s._freezeSettings(),n=Yh(s._databaseId);return new ex(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tx(s,e,n,a,o,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",d,a);const m=bA(a,d);let p,y;if(u.merge)p=new _n(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=Wm(e,T,n);if(!d.contains(R))throw new pe(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CA(E,R)||E.push(R)}p=new _n(E),y=d.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=d.fieldTransforms;return new $O(new cn(m),p,y)}class $h extends Bp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function nx(s,e,n,a){const o=s.Cc(1,e,n);Hp("Data must be an object, but it was:",o,a);const u=[],d=cn.empty();sa(a,((p,y)=>{const E=Gp(e,p,n);y=Ft(y);const T=o.yc(E);if(y instanceof $h)u.push(E);else{const R=ed(y,T);R!=null&&(u.push(E),d.set(E,R))}}));const m=new _n(u);return new SA(d,m,o.fieldTransforms)}function ix(s,e,n,a,o,u){const d=s.Cc(1,e,n),m=[Wm(e,a,n)],p=[o];if(u.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Wm(e,u[R])),p.push(u[R+1]);const y=[],E=cn.empty();for(let R=m.length-1;R>=0;--R)if(!CA(y,m[R])){const U=m[R];let X=p[R];X=Ft(X);const J=d.yc(U);if(X instanceof $h)y.push(U);else{const M=ed(X,J);M!=null&&(y.push(U),E.set(U,M))}}const T=new _n(y);return new SA(E,T,d.fieldTransforms)}function ed(s,e){if(RA(s=Ft(s)))return Hp("Unsupported field value:",e,s),bA(s,e);if(s instanceof Bp)return(function(a,o){if(!TA(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let d=0;for(const m of a){let p=ed(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(s,e)}return(function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qI(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=nt.fromDate(a);return{timestampValue:wh(o.serializer,u)}}if(a instanceof nt){const u=new nt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(a instanceof gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:G1(o.serializer,a._byteString)};if(a instanceof Ct){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof yi)return(function(d,m){return{mapValue:{fields:{[E1]:{stringValue:A1},[_h]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${gp(a)}`)})(s,e)}function bA(s,e){const n={};return m1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(s,((a,o)=>{const u=ed(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function RA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof nt||s instanceof gi||s instanceof Pn||s instanceof Ct||s instanceof Bp||s instanceof yi)}function Hp(s,e,n){if(!RA(n)||!d1(n)){const a=gp(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Wm(s,e,n){if((e=Ft(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Gp(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const sx=new RegExp("[~\\*/\\[\\]]");function Gp(s,e,n){if(e.search(sx)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ih(s,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new pe(ie.INVALID_ARGUMENT,m+s+p)}function CA(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ax extends IA{data(){return super.data()}}function DA(s,e){return typeof e=="string"?Gp(s,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}class rx{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return sa(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map((a=>yt(a.doubleValue)));return new yi(n)}convertGeoPoint(e){return new gi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=jh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=rt.fromString(e);Fe(Z1(a),9688,{name:e});const o=new iu(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends IA{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(DA("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:At("string",Qa._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class oh extends Qa{data(e={}){return super.data(e)}}class Zl{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new oh(this._firestore,this._userDataWriter,a.key,a,new Fl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:lx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(s){s=$a(s,Ct);const e=$a(s.firestore,Zh);return YO(AA(e),s._key).then((n=>hx(e,s,n)))}Zl._jsonSchemaVersion="firestore/querySnapshot/1.0",Zl._jsonSchema={type:At("string",Zl._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class ux extends rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function cx(s,e,n){s=$a(s,Ct);const a=$a(s.firestore,Zh),o=ox(s.converter,e);return OA(a,[tx(wA(a),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,mi.none())])}function H0(s,e,n,...a){s=$a(s,Ct);const o=$a(s.firestore,Zh),u=wA(o);let d;return d=typeof(e=Ft(e))=="string"||e instanceof Jh?ix(u,"updateDoc",s._key,e,n,a):nx(u,"updateDoc",s._key,e),OA(o,[d.toMutation(s._key,mi.exists(!0))])}function OA(s,e){return(function(a,o){const u=new Xs;return a.asyncQueue.enqueueAndForget((async()=>PO(await QO(a),o,u))),u.promise})(AA(s),e)}function hx(s,e,n){const a=n.docs.get(e._key),o=new ux(s);return new Qa(s,o,e._key,a,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(To),ho(new Xa("firestore",((a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new Zh(new WC(a.getProvider("auth-internal")),new $C(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,E)})(d,o),d);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ks(W_,Z_,e),Ks(W_,Z_,"esm2020")})();var dx="firebase",fx="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(dx,fx,"app");const mx={apiKey:"AIzaSyAOxZ8VH3FoU5FXB0OYa6VVOLpn_e6yw34",authDomain:"quizods-testesoftware.firebaseapp.com",projectId:"quizods-testesoftware",storageBucket:"quizods-testesoftware.firebasestorage.app",messagingSenderId:"471163098971",appId:"1:471163098971:web:1fd94a60d767be3e92ec7e",measurementId:"G-0GP5VTZCHJ"},xA=EE(mx),zs=QC(xA),Zr=WO(xA);class px{constructor(){this.currentUser=null,this.authStateListeners=[],P2(zs,e=>{this.currentUser=e,this.authStateListeners.forEach(n=>n(e))})}capitalizeFirstLetter(e){return e&&e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}async registerUser(e){try{console.log("🔥 FirebaseAuthService: Iniciando cadastro...",e.email),console.log("🔥 FirebaseAuthService: Criando usuário no Auth...");const a=(await I2(zs,e.email,e.password)).user;console.log("✅ FirebaseAuthService: Usuário criado no Auth:",a.uid),console.log("🔥 FirebaseAuthService: Atualizando perfil..."),await x2(a,{displayName:this.capitalizeFirstLetter(e.nome),photoURL:e.foto||Ka}),console.log("✅ FirebaseAuthService: Perfil atualizado"),console.log("🔥 FirebaseAuthService: Criando documento no Firestore...");const o={uid:a.uid,nome:this.capitalizeFirstLetter(e.nome),email:e.email,foto:e.foto||Ka,createdAt:new Date().toISOString(),pontuacao:0,quizzesCompletos:[],favoritos:[]};return await cx(Wr(Zr,"usuarios",a.uid),o),console.log("✅ FirebaseAuthService: Documento criado no Firestore"),console.log("✅ FirebaseAuthService: Cadastro completo!"),{success:!0,message:"Usuário cadastrado com sucesso!",user:{...o,id:a.uid}}}catch(n){console.error("❌ FirebaseAuthService: Erro no registro:",n);let a="Erro interno do servidor.";return n.code==="auth/email-already-in-use"?a="Este email já está em uso!":n.code==="auth/weak-password"?a="A senha deve ter pelo menos 6 caracteres!":n.code==="auth/invalid-email"&&(a="Email inválido!"),{success:!1,message:a}}}async loginUser(e,n){try{console.log("🔥 FirebaseAuthService: Iniciando login...",e);const o=(await D2(zs,e,n)).user;console.log("✅ FirebaseAuthService: Login no Auth realizado:",o.uid),console.log("🔥 FirebaseAuthService: Buscando dados no Firestore...");const u=await Am(Wr(Zr,"usuarios",o.uid));if(u.exists()){const d={...u.data(),id:o.uid};return console.log("✅ FirebaseAuthService: Dados encontrados no Firestore:",d),console.log("✅ FirebaseAuthService: Login completo!"),{success:!0,message:"Login realizado com sucesso!",user:d}}else return console.log("❌ FirebaseAuthService: Dados do usuário não encontrados no Firestore"),{success:!1,message:"Dados do usuário não encontrados!"}}catch(a){console.error("❌ FirebaseAuthService: Erro no login:",a);let o="Email ou senha incorretos!";return a.code==="auth/user-not-found"?o="Usuário não encontrado!":a.code==="auth/wrong-password"?o="Senha incorreta!":a.code==="auth/invalid-email"&&(o="Email inválido!"),{success:!1,message:o}}}async getCurrentUser(){if(zs.currentUser)try{const e=await Am(Wr(Zr,"usuarios",zs.currentUser.uid));if(e.exists())return{...e.data(),id:zs.currentUser.uid}}catch(e){console.error("Erro ao carregar usuário atual:",e)}return null}async logoutUser(){try{return await M2(zs),{success:!0,message:"Logout realizado com sucesso!"}}catch(e){return console.error("Erro no logout:",e),{success:!1,message:"Erro ao fazer logout!"}}}async updateUser(e,n){try{return await H0(Wr(Zr,"usuarios",e),n),{success:!0,message:"Usuário atualizado com sucesso!"}}catch(a){return console.error("Erro ao atualizar usuário:",a),{success:!1,message:"Erro ao atualizar usuário!"}}}async updateScore(e,n){return this.updateUser(e,{pontuacao:n})}async addCompletedQuiz(e,n){try{const a=await Am(Wr(Zr,"usuarios",e));if(a.exists()){const o=a.data(),u=o.quizzesCompletos||[],d=u.findIndex(m=>m.odsId===n.odsId);return d>=0?u[d]=n:u.push(n),await H0(Wr(Zr,"usuarios",e),{quizzesCompletos:u,pontuacao:o.pontuacao+(n.pontos||0)}),{success:!0}}return{success:!1,message:"Usuário não encontrado!"}}catch(a){return console.error("Erro ao adicionar quiz completado:",a),{success:!1,message:"Erro ao salvar progresso!"}}}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(n=>n!==e)}}isAuthenticated(){return!!zs.currentUser}}const li=new px;let gx=class{async registerUser(e){return await li.registerUser(e)}async loginUser(e,n){return await li.loginUser(e,n)}async getCurrentUser(){return await li.getCurrentUser()}async logoutUser(){return await li.logoutUser()}async updateUser(e,n){return await li.updateUser(e,n)}async updateScore(e,n){return await li.updateScore(e,n)}async addCompletedQuiz(e,n){return await li.addCompletedQuiz(e,n)}onAuthStateChange(e){return li.onAuthStateChange(e)}isAuthenticated(){return li.isAuthenticated()}capitalizeFirstLetter(e){return li.capitalizeFirstLetter(e)}};const yx=new gx,vx=!0,lo=yx;var NA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G0=Ga.createContext&&Ga.createContext(NA),_x=["attr","size","title"];function Ex(s,e){if(s==null)return{};var n=Ax(s,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function Ax(s,e){if(s==null)return{};var n={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(e.indexOf(a)>=0)continue;n[a]=s[a]}return n}function Dh(){return Dh=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Dh.apply(this,arguments)}function Q0(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),n.push.apply(n,a)}return n}function Oh(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q0(Object(n),!0).forEach(function(a){Sx(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function Sx(s,e,n){return e=Tx(e),e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function Tx(s){var e=wx(s,"string");return typeof e=="symbol"?e:e+""}function wx(s,e){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function VA(s){return s&&s.map((e,n)=>Ga.createElement(e.tag,Oh({key:n},e.attr),VA(e.child)))}function En(s){return e=>Ga.createElement(bx,Dh({attr:Oh({},s.attr)},e),VA(s.child))}function bx(s){var e=n=>{var{attr:a,size:o,title:u}=s,d=Ex(s,_x),m=o||n.size||"1em",p;return n.className&&(p=n.className),s.className&&(p=(p?p+" ":"")+s.className),Ga.createElement("svg",Dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:p,style:Oh(Oh({color:s.color||n.color},n.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ga.createElement("title",null,u),s.children)};return G0!==void 0?Ga.createElement(G0.Consumer,null,n=>e(n)):e(NA)}function Rx(s){return En({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(s)}function uo(s){return En({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5zm-63.57-320.64L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 0 0 0 11.31L155.17 889a8 8 0 0 0 11.31 0l712.15-712.12a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z"},child:[]},{tag:"path",attr:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 0 0 227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 0 1-112 112z"},child:[]}]})(s)}function co(s){return En({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(s)}function Cx(s){return En({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(s)}const PA="/quizods-testesoftware/assets/logoodsauth-CsOfbgAv.png";function Ix(){const[s,e]=j.useState({email:"",password:""}),[n,a]=j.useState(""),[o,u]=j.useState(!1),[d,m]=j.useState(!1),p=na();j.useEffect(()=>{},[]);const y=R=>{e({...s,[R.target.name]:R.target.value}),n&&a("")},E=async R=>{R.preventDefault(),u(!0),a("");try{const U=await lo.loginUser(s.email,s.password);U.success?(console.log("Login realizado:",U.user),p("/home")):a(U.message)}catch(U){console.error("Erro no login:",U),a("Erro interno. Tente novamente.")}finally{u(!1)}},T=()=>{m(!d)};return w.jsxs("div",{className:"auth-container",children:[w.jsx("div",{className:"auth-logo-container",children:w.jsx("img",{src:PA,alt:"Logo ODS",className:"auth-logo-img"})}),w.jsxs("div",{className:"auth-card",children:[w.jsx("h2",{className:"auth-h2",children:"Login"}),n&&w.jsx("div",{className:"error-message",children:n}),w.jsxs("form",{onSubmit:E,className:"auth-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:y,required:!0,disabled:o})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Senha:"}),w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:d?"text":"password",id:"password",name:"password",value:s.password,onChange:y,required:!0,disabled:o,className:"password-input"}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:T,disabled:o,children:d?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]})]}),w.jsx("button",{type:"submit",className:"auth-button",disabled:o,children:o?"Entrando...":"Entrar"})]}),w.jsxs("p",{className:"auth-link",children:["Não tem uma conta? ",w.jsx(Ph,{to:"/cadastro",children:"Cadastre-se"})]})]})]})}function Dx(){const[s,e]=j.useState({nome:"",email:"",password:"",confirmPassword:"",foto:null}),[n,a]=j.useState(null),[o,u]=j.useState(""),[d,m]=j.useState(""),[p,y]=j.useState(!1),[E,T]=j.useState({requisitos:[],isValid:!1}),[R,U]=j.useState(!0),[X,J]=j.useState(!1),[M,te]=j.useState(!1),[Y,se]=j.useState(!1),me=na(),ue=ae=>{const{name:he,value:H}=ae.target;if(he==="nome"){const K=H.replace(/[^a-zA-ZÀ-ÿ\s]/g,"");e({...s,[he]:K})}else e({...s,[he]:H});if(he==="password"){const K=C(H);T({requisitos:I(H),isValid:K.isValid})}if(he==="email"){const K=P(H);U(K.isValid),J(!1)}o&&u(""),d&&m("")},Te=ae=>{const he=ae.target.files[0];if(he){if(!he.type.startsWith("image/")){u("Por favor, selecione apenas arquivos de imagem!");return}if(he.size>2*1024*1024){u("A imagem deve ter no máximo 2MB!");return}const H=new FileReader;H.onload=K=>{const oe=K.target.result;e({...s,foto:oe}),a(oe)},H.readAsDataURL(he)}},O=()=>{e({...s,foto:null}),a(null);const ae=document.getElementById("foto");ae&&(ae.value="")},C=ae=>{const he=[];return ae.length<8&&he.push("ao menos 8 caracteres"),ae.length>16&&he.push("no máximo 16 caracteres"),/[A-Z]/.test(ae)||he.push("1 letra maiúscula"),/[a-z]/.test(ae)||he.push("1 letra minúscula"),/[0-9]/.test(ae)||he.push("1 número"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(ae)||he.push("1 caractere especial (!@#$%^&*)"),{isValid:he.length===0,errors:he}},I=ae=>[{texto:"8-16 caracteres",atendido:ae.length>=8&&ae.length<=16},{texto:"1 letra maiúscula (A-Z)",atendido:/[A-Z]/.test(ae)},{texto:"1 letra minúscula (a-z)",atendido:/[a-z]/.test(ae)},{texto:"1 número (0-9)",atendido:/[0-9]/.test(ae)},{texto:"1 caractere especial (!@#$%^&*)",atendido:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(ae)}],P=ae=>{const he=["@gmail.com","@outlook.com","@hotmail.com","@alunos.ufersa.edu.br","@ufersa.edu.br"];return{isValid:he.some(K=>ae.toLowerCase().endsWith(K.toLowerCase())),dominiosPermitidos:he}},N=async ae=>{ae.preventDefault(),y(!0),u(""),m("");const he=P(s.email);if(!he.isValid){u(`Email deve ser de um dos domínios permitidos: ${he.dominiosPermitidos.join(", ")}`),y(!1);return}const H=C(s.password);if(!H.isValid){u(`A senha deve conter: ${H.errors.join(", ")}.`),y(!1);return}if(s.password!==s.confirmPassword){u("As senhas não coincidem!"),y(!1);return}try{console.log("🔥 Iniciando cadastro...",{nome:s.nome,email:s.email,senha_length:s.password.length});const K=await lo.registerUser({nome:s.nome,email:s.email,password:s.password,foto:s.foto||Ka});console.log("🔥 Resultado do cadastro:",K),K.success?(m(K.message),console.log("✅ Usuário cadastrado:",K.user),setTimeout(()=>{me("/")},2e3)):(console.log("❌ Erro no cadastro:",K.message),u(K.message))}catch(K){console.error("❌ Erro no cadastro (catch):",K),u(`Erro interno: ${K.message}`)}finally{console.log("🏁 Finalizando cadastro, setLoading(false)"),y(!1)}},k=()=>{te(!M)},b=()=>{se(!Y)};return w.jsxs("div",{className:"auth-container",children:[w.jsx("div",{className:"auth-logo-container",children:w.jsx("img",{src:PA,alt:"Logo ODS",className:"auth-logo-img"})}),w.jsxs("div",{className:"auth-card",children:[w.jsx("h2",{children:"Cadastro"}),o&&w.jsx("div",{className:"error-message",children:o}),d&&w.jsx("div",{className:"success-message",children:d}),w.jsxs("form",{onSubmit:N,className:"auth-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"nome",children:"Nome:"}),w.jsx("input",{type:"text",id:"nome",name:"nome",value:s.nome,onChange:ue,required:!0,disabled:p,maxLength:"16"}),s.nome&&s.nome.length>=16&&w.jsxs("small",{className:"nome-help",children:["Máximo de 16 caracteres (",s.nome.length,"/16)"]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"foto",children:"Foto de Perfil (opcional):"}),w.jsxs("div",{className:"foto-upload-container",children:[n&&w.jsxs("div",{className:"foto-preview",children:[w.jsx("img",{src:n,alt:"Preview",className:"foto-preview-img"}),w.jsx("button",{type:"button",onClick:O,className:"remove-foto-btn",disabled:p,children:"✕"})]}),w.jsx("input",{type:"file",id:"foto",name:"foto",accept:"image/*",onChange:Te,disabled:p,className:"foto-input"}),w.jsx("label",{htmlFor:"foto",className:"foto-label",style:{color:"#FFF"},children:n?"Trocar foto":"Escolher foto"})]}),w.jsx("small",{className:"foto-help",children:"Formatos aceitos: JPG, PNG, GIF. Máximo 2MB."})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:ue,required:!0,disabled:p,className:s.email&&(!R||X)?"input-error":""}),s.email&&!R&&w.jsx("div",{className:"email-help",children:w.jsx("small",{className:"email-erro",children:"❌ Email deve terminar com um dos domínios permitidos"})}),s.email&&R&&X&&w.jsx("div",{className:"email-help",children:w.jsx("small",{className:"email-erro",children:"❌ Este email já está em uso"})}),s.email&&R&&!X&&w.jsx("div",{className:"email-help",children:w.jsx("small",{className:"email-sucesso"})}),w.jsx("div",{className:"dominios-permitidos",children:w.jsxs("small",{className:"dominios-help",children:[w.jsx("strong",{children:"Domínios aceitos:"})," @gmail.com, @outlook.com, @hotmail.com, @alunos.ufersa.edu.br, @ufersa.edu.br"]})})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Senha:"}),w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:M?"text":"password",id:"password",name:"password",value:s.password,onChange:ue,required:!0,disabled:p,minLength:"8",maxLength:"16",className:"password-input"}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:k,disabled:p,children:M?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]}),s.password&&w.jsxs("div",{className:"senha-requisitos",children:[w.jsx("p",{className:"requisitos-titulo",children:"Requisitos da senha:"}),E.requisitos.map((ae,he)=>w.jsxs("div",{className:`requisito ${ae.atendido?"atendido":"pendente"}`,children:[w.jsx("span",{className:"requisito-icon",children:ae.atendido?"✓":"✗"}),w.jsx("span",{className:"requisito-texto",children:ae.texto})]},he))]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Senha:"}),w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:Y?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:ue,required:!0,disabled:p,minLength:"8",maxLength:"16",className:"password-input"}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:b,disabled:p,children:Y?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]}),s.confirmPassword&&s.password!==s.confirmPassword&&w.jsx("small",{className:"senha-erro",children:"As senhas não coincidem"})]}),w.jsx("button",{type:"submit",className:"auth-button",disabled:p||X||!R,children:p?"Cadastrando...":"Cadastrar"})]}),w.jsxs("p",{className:"auth-link",children:["Já tem uma conta? ",w.jsx(Ph,{to:"/",children:"Faça login"})]})]})]})}const Ox="/quizods-testesoftware/assets/logo-ods-Y9L9U6S6.png",xx="/quizods-testesoftware/assets/foto-pessoal-By89Rz24.jpg";function Nx(s){return En({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"},child:[]}]})(s)}function Vx(s){return En({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(s)}function Px(s){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 11H6.414l5.293-5.293-1.414-1.414L2.586 12l7.707 7.707 1.414-1.414L6.414 13H21z"},child:[]}]})(s)}function Mx(s){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(s)}function Ux(s){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v6h6v-2h-4z"},child:[]}]})(s)}function kx(s){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"},child:[]}]})(s)}function K0(s){return En({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]}]})(s)}function Sm(s){return En({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(s)}const xh=()=>{const[s,e]=j.useState("Bom dia!"),[n,a]=j.useState(w.jsx(Sm,{size:20,className:"sun-icon"})),[o,u]=j.useState("Usuário"),[d,m]=j.useState(xx),[p,y]=j.useState(!0),E=na(),T=async()=>{await lo.logoutUser(),E("/")},R=()=>{E("/perfil")},U=()=>{E("/home")},X=()=>{const Y=new Date,me=new Date(Y.toLocaleString("en-US",{timeZone:"America/Sao_Paulo"})).getHours();return me>=5&&me<12?{message:"Bom dia!",icon:w.jsx(Sm,{size:20,className:"sun-icon"})}:me>=12&&me<18?{message:"Boa tarde!",icon:w.jsx(Nx,{size:20,className:"sun-icon"})}:{message:"Boa noite!",icon:w.jsx(K0,{size:20,className:"moon-icon"})}},J=()=>{const Y=!p;y(Y),Y?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme",Y?"dark":"light")},M=Y=>Y&&Y.charAt(0).toUpperCase()+Y.slice(1).toLowerCase(),te=async()=>{const Y=await lo.getCurrentUser();Y&&(u(M(Y.nome)),Y.foto?m(Y.foto):m(Ka))};return j.useEffect(()=>{const Y=()=>{const O=X();e(O.message),a(O.icon)};(async()=>{const O=await lo.getCurrentUser();O&&(u(M(O.nome)),O.foto?m(O.foto):m(Ka))})(),localStorage.getItem("theme")==="light"?(y(!1),document.documentElement.setAttribute("data-theme","light")):(y(!0),document.documentElement.setAttribute("data-theme","dark")),Y();const ue=setInterval(Y,6e4),Te=()=>{te()};return window.addEventListener("userDataUpdated",Te),()=>{clearInterval(ue),window.removeEventListener("userDataUpdated",Te)}},[]),w.jsxs("div",{className:"header-container",children:[w.jsxs("div",{className:"user-info-container",children:[w.jsx("div",{className:"photo-container",children:w.jsx("img",{src:d,alt:"Foto de Perfil",className:"photo-img"})}),w.jsxs("div",{className:"info-profile-container",children:[w.jsxs("div",{className:"greeting-container",children:[n,w.jsx("p",{className:"greeting-text",children:s})]}),w.jsx("p",{className:"user-name-container",children:o})]}),w.jsx("div",{className:"totalscore-container"})]}),w.jsxs("div",{className:"logo-container",onClick:U,children:[w.jsx("img",{src:Ox,alt:"Logo ODS",className:"logo-img"}),w.jsx("h1",{className:"logo-text",children:"Quiz ODS"})]}),w.jsxs("div",{className:"user-container",children:[w.jsx("div",{className:"logout-container",children:w.jsx(kx,{size:20,className:"logout-icon",onClick:R,title:"Perfil"})}),w.jsx("div",{className:"theme-toggle-container",children:w.jsx("button",{onClick:J,className:"theme-toggle-btn",title:p?"Mudar para modo claro":"Mudar para modo escuro",children:p?w.jsx(Sm,{size:18,className:"theme-icon"}):w.jsx(K0,{size:18,className:"theme-icon"})})}),w.jsx("div",{className:"logout-container",children:w.jsx(Mx,{size:20,className:"logout-icon",onClick:T,title:"Sair"})})]})]})};function Lx(s){return En({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(s)}const zx="/quizods-testesoftware/assets/ods1-C68BoZOT.jpg",MA={0:[{id:1,question:"Qual é o principal objetivo da ODS 1?",type:"multiple_choice",options:["Reduzir a desigualdade de gênero","Erradicar a pobreza em todas as suas formas","Promover educação de qualidade","Garantir água limpa e saneamento"],correctAnswer:1,explanation:"A ODS 1 visa erradicar a pobreza em todas as suas formas, em todos os lugares."},{id:2,question:"Segundo o Banco Mundial, uma pessoa é considerada em extrema pobreza quando vive com menos de quanto por dia?",type:"multiple_choice",options:["US$ 1,90","US$ 3,20","US$ 5,50","US$ 10,00"],correctAnswer:0,explanation:"A linha internacional de pobreza extrema é de US$ 1,90 por dia."},{id:3,question:"A pobreza afeta apenas países em desenvolvimento.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:1,explanation:"A pobreza existe em todos os países, incluindo países desenvolvidos."},{id:4,question:"Qual das opções NÃO é uma causa da pobreza?",type:"multiple_choice",options:["Falta de acesso à educação","Desemprego e subemprego","Discriminação social","Aumento de oportunidades de trabalho"],correctAnswer:3,explanation:"O aumento de oportunidades de trabalho contribui para reduzir a pobreza, não para causá-la."},{id:5,question:"Qual é a meta da ODS 1 para 2030?",type:"multiple_choice",options:["Reduzir a pobreza em 50%","Erradicar completamente a pobreza extrema","Criar empregos para todos","Aumentar salários mínimos"],correctAnswer:1,explanation:"A meta é erradicar a pobreza extrema para todas as pessoas até 2030."},{id:6,question:"Quantas pessoas vivem em pobreza extrema no mundo?",type:"multiple_choice",options:["Cerca de 500 milhões","Cerca de 700 milhões","Cerca de 1 bilhão","Cerca de 1,5 bilhão"],correctAnswer:1,explanation:"Aproximadamente 700 milhões de pessoas vivem em pobreza extrema."},{id:7,question:"A proteção social é importante para combater a pobreza.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Sistemas de proteção social são fundamentais para reduzir a pobreza."},{id:8,question:"Qual região tem maior concentração de pobreza extrema?",type:"multiple_choice",options:["América Latina","África Subsaariana","Ásia Oriental","Europa Oriental"],correctAnswer:1,explanation:"A África Subsaariana concentra a maior parte da pobreza extrema mundial."},{id:9,question:"Acesso a recursos econômicos é uma meta da ODS 1.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Garantir acesso igual a recursos econômicos é uma das metas da ODS 1."},{id:10,question:"Qual é o foco principal da ODS 1?",type:"multiple_choice",options:["Apenas países pobres","Apenas crianças","Todas as pessoas, em todos os lugares","Apenas áreas rurais"],correctAnswer:2,explanation:"A ODS 1 foca em erradicar a pobreza para todas as pessoas, em todos os lugares."}],1:[{id:1,question:"O que significa 'Fome Zero'?",type:"multiple_choice",options:["Reduzir pela metade a fome mundial","Acabar com a fome e alcançar segurança alimentar","Melhorar apenas a agricultura","Distribuir alimentos gratuitamente"],correctAnswer:1,explanation:"Fome Zero significa acabar com a fome, alcançar segurança alimentar e melhoria da nutrição."},{id:2,question:"Quantas pessoas no mundo sofrem de fome crônica aproximadamente?",type:"multiple_choice",options:["500 milhões","735 milhões","1 bilhão","1.5 bilhões"],correctAnswer:1,explanation:"Aproximadamente 735 milhões de pessoas sofrem de fome crônica no mundo."},{id:3,question:"A agricultura sustentável é uma meta da ODS 2.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Promover sistemas alimentares sustentáveis é uma das principais metas."},{id:4,question:"Qual é uma das principais causas da desnutrição infantil?",type:"multiple_choice",options:["Falta de exercícios","Insegurança alimentar","Excesso de tecnologia","Falta de brinquedos"],correctAnswer:1,explanation:"A insegurança alimentar é uma das principais causas da desnutrição."},{id:5,question:"Quantas pessoas no mundo têm acesso inadequado a alimentos?",type:"multiple_choice",options:["1 em cada 10","1 em cada 9","1 em cada 5","1 em cada 3"],correctAnswer:1,explanation:"Aproximadamente 1 em cada 9 pessoas no mundo sofre de fome."},{id:6,question:"A diversidade genética de cultivos deve ser preservada.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Preservar a diversidade genética é essencial para a segurança alimentar."},{id:7,question:"Qual fator NÃO contribui para a insegurança alimentar?",type:"multiple_choice",options:["Mudanças climáticas","Conflitos","Aumento da biodiversidade","Pobreza"],correctAnswer:2,explanation:"O aumento da biodiversidade na verdade ajuda a segurança alimentar."},{id:8,question:"A ODS 2 inclui metas sobre nutrição materno-infantil.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Melhorar a nutrição materno-infantil é uma meta específica da ODS 2."},{id:9,question:"Qual é o prazo para alcançar a Fome Zero?",type:"multiple_choice",options:["2025","2030","2035","2040"],correctAnswer:1,explanation:"A meta é acabar com a fome até 2030."},{id:10,question:"Pequenos produtores agrícolas são importantes para a ODS 2.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Apoiar pequenos produtores é fundamental para alcançar a segurança alimentar."}],2:[{id:1,question:"Qual é o principal objetivo da ODS 3?",type:"multiple_choice",options:["Construir mais hospitais","Assegurar uma vida saudável e promover bem-estar para todos","Aumentar o número de médicos","Reduzir custos de medicamentos"],correctAnswer:1,explanation:"A ODS 3 visa assegurar uma vida saudável e bem-estar para todas as idades."},{id:2,question:"A mortalidade materna deve ser reduzida segundo a ODS 3.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir a mortalidade materna é uma das principais metas da ODS 3."},{id:3,question:"Qual doença a ODS 3 visa erradicar?",type:"multiple_choice",options:["Diabetes","AIDS, tuberculose e malária","Câncer","Todas as doenças"],correctAnswer:1,explanation:"A ODS 3 visa acabar com epidemias de AIDS, tuberculose e malária."},{id:4,question:"Acesso universal aos serviços de saúde é uma meta da ODS 3.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Alcançar cobertura universal de saúde é uma meta central da ODS 3."},{id:5,question:"Quantas pessoas morrem anualmente por poluição do ar?",type:"multiple_choice",options:["1 milhão","3 milhões","7 milhões","10 milhões"],correctAnswer:2,explanation:"Aproximadamente 7 milhões de pessoas morrem anualmente devido à poluição do ar."},{id:6,question:"A prevenção de doenças não transmissíveis é prioritária na ODS 3.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir mortes por doenças não transmissíveis é uma meta importante."},{id:7,question:"Qual faixa etária a ODS 3 prioriza para redução da mortalidade?",type:"multiple_choice",options:["Apenas idosos","Apenas adultos","Crianças menores de 5 anos","Apenas adolescentes"],correctAnswer:2,explanation:"Reduzir a mortalidade neonatal e de crianças menores de 5 anos é prioritário."},{id:8,question:"Pesquisa e desenvolvimento de vacinas é apoiada pela ODS 3.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Apoiar pesquisa e desenvolvimento para doenças é uma meta da ODS 3."},{id:9,question:"Qual problema de saúde mental a ODS 3 aborda?",type:"multiple_choice",options:["Apenas depressão","Apenas ansiedade","Transtornos por uso de substâncias","Nenhum"],correctAnswer:2,explanation:"A ODS 3 inclui o fortalecimento da prevenção de transtornos por substâncias."},{id:10,question:"Capacitação de profissionais de saúde é importante para a ODS 3.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar substancialmente o financiamento e capacitação de profissionais é essencial."}],3:[{id:1,question:"Qual é o foco principal da ODS 4?",type:"multiple_choice",options:["Construir mais escolas","Assegurar educação inclusiva e equitativa de qualidade","Aumentar salários de professores","Reduzir férias escolares"],correctAnswer:1,explanation:"A ODS 4 visa assegurar educação inclusiva, equitativa e de qualidade para todos."},{id:2,question:"Todas as crianças devem completar o ensino primário gratuito.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Garantir que todas as crianças completem educação primária gratuita é uma meta."},{id:3,question:"Quantas crianças estão fora da escola no mundo?",type:"multiple_choice",options:["100 milhões","244 milhões","500 milhões","1 bilhão"],correctAnswer:1,explanation:"Aproximadamente 244 milhões de crianças e jovens estão fora da escola."},{id:4,question:"A educação técnica e profissional é incluída na ODS 4.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar o acesso à educação técnica e profissional é uma meta da ODS 4."},{id:5,question:"Qual grupo a ODS 4 prioriza para eliminar disparidades?",type:"multiple_choice",options:["Apenas meninas","Apenas pessoas com deficiência","Meninas, pessoas com deficiência e grupos vulneráveis","Apenas ricos"],correctAnswer:2,explanation:"A ODS 4 visa eliminar disparidades de gênero e garantir acesso igual para vulneráveis."},{id:6,question:"Alfabetização de jovens e adultos é abordada pela ODS 4.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar que jovens e adultos sejam alfabetizados é uma meta específica."},{id:7,question:"Qual competência a ODS 4 enfatiza além da alfabetização?",type:"multiple_choice",options:["Apenas matemática","Competências relevantes para trabalho decente","Apenas ciências","Apenas história"],correctAnswer:1,explanation:"A ODS 4 enfatiza competências relevantes para emprego e trabalho decente."},{id:8,question:"Desenvolvimento sustentável deve ser ensinado nas escolas.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Promover educação para desenvolvimento sustentável é uma meta da ODS 4."},{id:9,question:"Qual é a meta para instalações educacionais?",type:"multiple_choice",options:["Mais caras","Apenas urbanas","Adequadas, seguras e inclusivas","Apenas virtuais"],correctAnswer:2,explanation:"Construir e melhorar instalações adequadas, seguras e inclusivas é uma meta."},{id:10,question:"Formação de professores qualificados é prioritária na ODS 4.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar substancialmente a oferta de professores qualificados é essencial."}],4:[{id:1,question:"Qual é o objetivo principal da ODS 5?",type:"multiple_choice",options:["Promover apenas direitos das mulheres","Alcançar igualdade de gênero e empoderar mulheres e meninas","Criar cotas em empresas","Aumentar salários femininos"],correctAnswer:1,explanation:"A ODS 5 visa alcançar igualdade de gênero e empoderar todas as mulheres e meninas."},{id:2,question:"Discriminação contra mulheres deve ser eliminada em todas as formas.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Acabar com todas as formas de discriminação é a primeira meta da ODS 5."},{id:3,question:"Quantas mulheres sofrem violência física ou sexual?",type:"multiple_choice",options:["1 em cada 10","1 em cada 5","1 em cada 3","1 em cada 2"],correctAnswer:2,explanation:"Aproximadamente 1 em cada 3 mulheres sofre violência física ou sexual."},{id:4,question:"Trabalho doméstico não remunerado deve ser reconhecido.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reconhecer e valorizar trabalho doméstico não remunerado é uma meta da ODS 5."},{id:5,question:"Qual área a ODS 5 visa aumentar participação feminina?",type:"multiple_choice",options:["Apenas política","Apenas economia","Vida política, econômica e pública","Apenas educação"],correctAnswer:2,explanation:"Garantir participação plena em todos os níveis de tomada de decisão é uma meta."},{id:6,question:"Acesso universal à saúde reprodutiva é abordado pela ODS 5.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar acesso universal à saúde sexual e reprodutiva é uma meta."},{id:7,question:"Qual prática prejudicial a ODS 5 visa eliminar?",type:"multiple_choice",options:["Apenas casamento infantil","Apenas mutilação genital feminina","Casamento infantil, mutilação genital e outras práticas prejudiciais","Nenhuma prática específica"],correctAnswer:2,explanation:"Eliminar todas as práticas prejudiciais como casamento infantil e MGF é uma meta."},{id:8,question:"Tecnologia pode ajudar no empoderamento das mulheres.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar uso de tecnologia para promoção do empoderamento é uma meta."},{id:9,question:"Quantas mulheres têm acesso a serviços financeiros?",type:"multiple_choice",options:["A maioria","Metade","Menos da metade","Quase todas"],correctAnswer:2,explanation:"Menos da metade das mulheres tem acesso adequado a serviços financeiros."},{id:10,question:"Políticas para igualdade de gênero devem ser adotadas.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Adotar e fortalecer políticas e legislação para igualdade é fundamental."}],5:[{id:1,question:"Qual é o objetivo da ODS 6?",type:"multiple_choice",options:["Construir mais piscinas","Assegurar disponibilidade e manejo sustentável da água","Aumentar chuvas","Reduzir uso de água"],correctAnswer:1,explanation:"A ODS 6 visa assegurar disponibilidade e manejo sustentável da água e saneamento."},{id:2,question:"Acesso universal à água potável deve ser alcançado até 2030.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Alcançar acesso universal e equitativo à água potável é uma meta para 2030."},{id:3,question:"Quantas pessoas carecem de acesso a saneamento seguro?",type:"multiple_choice",options:["1 bilhão","2 bilhões","3,6 bilhões","5 bilhões"],correctAnswer:2,explanation:"Aproximadamente 3,6 bilhões de pessoas carecem de saneamento gerenciado."},{id:4,question:"Qualidade da água deve ser melhorada segundo a ODS 6.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Melhorar a qualidade da água reduzindo poluição é uma meta específica."},{id:5,question:"Qual porcentagem da água doce é usada pela agricultura?",type:"multiple_choice",options:["30%","50%","70%","90%"],correctAnswer:2,explanation:"Aproximadamente 70% da água doce é usada para agricultura."},{id:6,question:"Ecossistemas aquáticos devem ser protegidos pela ODS 6.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Proteger e restaurar ecossistemas aquáticos é uma meta da ODS 6."},{id:7,question:"Qual problema a falta de saneamento causa?",type:"multiple_choice",options:["Apenas mau cheiro","Doenças transmissíveis pela água","Apenas desconforto","Nenhum problema"],correctAnswer:1,explanation:"Falta de saneamento causa doenças como cólera, disenteria e hepatite A."},{id:8,question:"Cooperação internacional é importante para gestão da água.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Expandir cooperação internacional em água e saneamento é uma meta."},{id:9,question:"Qual grupo é mais afetado pela falta de água limpa?",type:"multiple_choice",options:["Homens adultos","Mulheres e crianças","Idosos","Pessoas ricas"],correctAnswer:1,explanation:"Mulheres e crianças são desproporcionalmente afetadas pela falta de água."},{id:10,question:"Gestão comunitária da água deve ser apoiada.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Apoiar participação de comunidades locais na gestão é fundamental."}],6:[{id:1,question:"Qual é o objetivo principal da ODS 7?",type:"multiple_choice",options:["Reduzir o preço da energia","Assegurar acesso à energia limpa, confiável e moderna","Construir mais usinas nucleares","Eliminar todas as formas de energia"],correctAnswer:1,explanation:"A ODS 7 visa assegurar acesso à energia limpa, confiável, sustentável e moderna para todos."},{id:2,question:"Quantas pessoas no mundo não têm acesso à eletricidade?",type:"multiple_choice",options:["500 milhões","733 milhões","1 bilhão","2 bilhões"],correctAnswer:1,explanation:"Aproximadamente 733 milhões de pessoas ainda não têm acesso à eletricidade."},{id:3,question:"Energia renovável deve ser aumentada substancialmente até 2030.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar substancialmente a participação de energias renováveis é uma meta da ODS 7."},{id:4,question:"Qual fonte de energia NÃO é considerada renovável?",type:"multiple_choice",options:["Solar","Eólica","Carvão","Hidrelétrica"],correctAnswer:2,explanation:"O carvão é um combustível fóssil e não é considerado uma fonte renovável."},{id:5,question:"Eficiência energética deve ser melhorada globalmente.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Dobrar a taxa global de melhoria da eficiência energética é uma meta específica."},{id:6,question:"Qual região tem maior déficit de acesso à energia?",type:"multiple_choice",options:["América Latina","Ásia Oriental","África Subsaariana","Europa Oriental"],correctAnswer:2,explanation:"A África Subsaariana concentra a maior parte da população sem acesso à energia."},{id:7,question:"Cooperação internacional é importante para infraestrutura energética.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reforçar cooperação internacional para facilitar acesso à energia limpa é uma meta."},{id:8,question:"Qual combustível causa mais poluição doméstica?",type:"multiple_choice",options:["Gás natural","Eletricidade","Biomassa tradicional (lenha, carvão)","Energia solar"],correctAnswer:2,explanation:"O uso de biomassa tradicional para cozinhar causa séria poluição do ar doméstico."},{id:9,question:"Acesso universal à energia deve ser alcançado até 2030.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar acesso universal, confiável e moderno aos serviços de energia até 2030 é a meta."},{id:10,question:"Qual tecnologia pode ajudar áreas rurais remotas?",type:"multiple_choice",options:["Apenas grandes usinas","Sistemas de energia descentralizada","Apenas combustíveis fósseis","Nenhuma tecnologia"],correctAnswer:1,explanation:"Sistemas descentralizados como energia solar distribuída podem atender áreas remotas."}],7:[{id:1,question:"Qual é o foco principal da ODS 8?",type:"multiple_choice",options:["Apenas crescimento econômico","Promover crescimento econômico sustentado e trabalho decente","Apenas aumentar salários","Reduzir impostos"],correctAnswer:1,explanation:"A ODS 8 visa promover crescimento econômico sustentado, inclusivo, sustentável e trabalho decente para todos."},{id:2,question:"Trabalho infantil deve ser eliminado em todas as suas formas.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Tomar medidas imediatas para erradicar trabalho infantil é uma meta da ODS 8."},{id:3,question:"Quantos jovens estão desempregados no mundo?",type:"multiple_choice",options:["50 milhões","73 milhões","100 milhões","200 milhões"],correctAnswer:1,explanation:"Aproximadamente 73 milhões de jovens estão desempregados globalmente."},{id:4,question:"Produtividade econômica deve ser alcançada através de diversificação.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Alcançar níveis mais elevados de produtividade através de diversificação e inovação é uma meta."},{id:5,question:"Qual direito trabalhista a ODS 8 defende?",type:"multiple_choice",options:["Apenas salário mínimo","Apenas férias","Direitos trabalhistas e ambientes seguros","Apenas jornada de trabalho"],correctAnswer:2,explanation:"Proteger direitos trabalhistas e promover ambientes de trabalho seguros é fundamental."},{id:6,question:"Microempresas e pequenas empresas devem ter acesso a serviços financeiros.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Promover políticas que apoiem atividades produtivas e criação de emprego decente é uma meta."},{id:7,question:"Qual é a meta de crescimento do PIB para países menos desenvolvidos?",type:"multiple_choice",options:["Pelo menos 5% ao ano","Pelo menos 7% ao ano","Pelo menos 10% ao ano","Qualquer crescimento"],correctAnswer:1,explanation:"Sustentar crescimento econômico per capita de pelo menos 7% ao ano nos países menos desenvolvidos."},{id:8,question:"Turismo sustentável pode criar empregos.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Desenvolver e implementar políticas para promover turismo sustentável que cria empregos é uma meta."},{id:9,question:"Qual grupo a ODS 8 prioriza para redução do desemprego?",type:"multiple_choice",options:["Apenas homens","Apenas mulheres","Jovens, mulheres e pessoas com deficiência","Apenas idosos"],correctAnswer:2,explanation:"Reduzir substancialmente a proporção de jovens desempregados e apoiar grupos vulneráveis é prioritário."},{id:10,question:"Trabalho forçado deve ser erradicado até 2030.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Tomar medidas imediatas para erradicar trabalho forçado e escravidão moderna é uma meta da ODS 8."}],8:[{id:1,question:"Qual é o objetivo principal da ODS 9?",type:"multiple_choice",options:["Apenas construir fábricas","Construir infraestrutura resiliente e promover inovação","Reduzir impostos industriais","Eliminar todas as indústrias"],correctAnswer:1,explanation:"A ODS 9 visa construir infraestrutura resiliente, promover industrialização inclusiva e sustentável e fomentar a inovação."},{id:2,question:"Infraestrutura de qualidade é fundamental para o desenvolvimento.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Desenvolver infraestrutura de qualidade, confiável, sustentável e resiliente é uma meta central."},{id:3,question:"Quantas pessoas no mundo não têm acesso à internet?",type:"multiple_choice",options:["1 bilhão","2,9 bilhões","4 bilhões","5 bilhões"],correctAnswer:1,explanation:"Aproximadamente 2,9 bilhões de pessoas ainda não têm acesso à internet."},{id:4,question:"Pequenas e médias empresas devem ter acesso a crédito.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar o acesso de pequenas empresas a serviços financeiros e crédito é uma meta."},{id:5,question:"Qual setor a ODS 9 prioriza para países em desenvolvimento?",type:"multiple_choice",options:["Apenas agricultura","Industrialização inclusiva e sustentável","Apenas serviços","Apenas turismo"],correctAnswer:1,explanation:"Promover industrialização inclusiva e sustentável é prioritário para países em desenvolvimento."},{id:6,question:"Pesquisa e desenvolvimento devem ser aumentados.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Aumentar a pesquisa científica e melhorar capacidades tecnológicas é uma meta."},{id:7,question:"Qual infraestrutura é essencial para conectividade?",type:"multiple_choice",options:["Apenas estradas","Tecnologias de informação e comunicação (TIC)","Apenas portos","Apenas aeroportos"],correctAnswer:1,explanation:"Aumentar significativamente o acesso às TIC é fundamental para conectividade."},{id:8,question:"Inovação tecnológica pode ajudar países em desenvolvimento.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Facilitar desenvolvimento de tecnologia sustentável para países em desenvolvimento é uma meta."},{id:9,question:"Qual é o foco da infraestrutura na ODS 9?",type:"multiple_choice",options:["Apenas durabilidade","Resiliente, sustentável e inclusiva","Apenas barata","Apenas moderna"],correctAnswer:1,explanation:"A infraestrutura deve ser resiliente, sustentável e inclusiva para apoiar o desenvolvimento."},{id:10,question:"Acesso igual aos recursos produtivos deve ser garantido.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Apoiar o desenvolvimento tecnológico e a inovação em países em desenvolvimento é essencial."}],9:[{id:1,question:"Qual é o objetivo da ODS 10?",type:"multiple_choice",options:["Eliminar apenas a pobreza","Reduzir a desigualdade dentro dos países e entre eles","Aumentar impostos","Criar mais empregos"],correctAnswer:1,explanation:"A ODS 10 visa reduzir a desigualdade dentro dos países e entre eles."},{id:2,question:"Crescimento da renda dos 40% mais pobres deve ser promovido.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Alcançar e sustentar o crescimento da renda dos 40% mais pobres é uma meta específica."},{id:3,question:"Qual porcentagem da riqueza mundial é controlada pelo 1% mais rico?",type:"multiple_choice",options:["20%","35%","50%","Mais de 50%"],correctAnswer:3,explanation:"O 1% mais rico controla mais de 50% da riqueza mundial, evidenciando extrema desigualdade."},{id:4,question:"Inclusão social e política deve ser promovida para todos.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Empoderar e promover inclusão social, econômica e política de todos é uma meta."},{id:5,question:"Qual prática a ODS 10 visa eliminar?",type:"multiple_choice",options:["Apenas discriminação racial","Apenas discriminação de gênero","Leis, políticas e práticas discriminatórias","Apenas discriminação religiosa"],correctAnswer:2,explanation:"Assegurar igualdade de oportunidades e reduzir desigualdades através da eliminação de práticas discriminatórias."},{id:6,question:"Migração ordenada e segura deve ser facilitada.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Facilitar migração e mobilidade ordenada, segura e responsável é uma meta."},{id:7,question:"Qual área precisa de regulamentação para reduzir desigualdades?",type:"multiple_choice",options:["Apenas educação","Mercados e instituições financeiras","Apenas saúde","Apenas habitação"],correctAnswer:1,explanation:"Melhorar regulamentação e monitoramento dos mercados financeiros globais é importante."},{id:8,question:"Países em desenvolvimento devem ter maior representação global.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar maior representação de países em desenvolvimento em instituições globais é uma meta."},{id:9,question:"Qual fator contribui para reduzir desigualdades?",type:"multiple_choice",options:["Apenas educação","Políticas fiscais, salariais e de proteção social","Apenas crescimento econômico","Apenas tecnologia"],correctAnswer:1,explanation:"Adotar políticas fiscais, salariais e de proteção social para alcançar maior igualdade."},{id:10,question:"Assistência oficial ao desenvolvimento deve ser melhorada.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Melhorar regulamentação de fluxos financeiros e reduzir custos de remessas é importante."}],10:[{id:1,question:"Qual é o foco da ODS 11?",type:"multiple_choice",options:["Apenas construir mais casas","Tornar cidades inclusivas, seguras, resilientes e sustentáveis","Reduzir população urbana","Eliminar todas as cidades"],correctAnswer:1,explanation:"A ODS 11 visa tornar as cidades e os assentamentos humanos inclusivos, seguros, resilientes e sustentáveis."},{id:2,question:"Habitação adequada deve ser acessível para todos.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar acesso de todos à habitação segura, adequada e a preço acessível é uma meta."},{id:3,question:"Que porcentagem da população mundial vive em cidades atualmente?",type:"multiple_choice",options:["40%","50%","55%","70%"],correctAnswer:2,explanation:"Aproximadamente 55% da população mundial vive em áreas urbanas, tendência crescente."},{id:4,question:"Transporte sustentável deve ser promovido nas cidades.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Proporcionar acesso a sistemas de transporte seguros e sustentáveis é uma meta."},{id:5,question:"Qual desafio urbano a ODS 11 aborda?",type:"multiple_choice",options:["Apenas poluição","Apenas criminalidade","Poluição do ar, gestão de resíduos e planejamento urbano","Apenas trânsito"],correctAnswer:2,explanation:"A ODS 11 aborda múltiplos desafios urbanos incluindo poluição, resíduos e planejamento."},{id:6,question:"Patrimônio cultural deve ser protegido nas cidades.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Fortalecer esforços para proteger e salvaguardar patrimônio cultural é uma meta."},{id:7,question:"Qual tipo de espaço público deve ser aumentado?",type:"multiple_choice",options:["Apenas parques","Espaços públicos verdes e seguros","Apenas praças","Apenas estacionamentos"],correctAnswer:1,explanation:"Proporcionar acesso universal a espaços públicos verdes e seguros é importante."},{id:8,question:"Cidades devem ser resilientes a desastres.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir significativamente mortes e perdas econômicas por desastres é uma meta."},{id:9,question:"Qual aspecto ambiental as cidades devem melhorar?",type:"multiple_choice",options:["Apenas reciclagem","Qualidade do ar e gestão de resíduos municipais","Apenas plantio de árvores","Apenas economia de água"],correctAnswer:1,explanation:"Reduzir impacto ambiental através de qualidade do ar e gestão de resíduos é prioritário."},{id:10,question:"Planejamento urbano deve ser participativo.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Apoiar planejamento nacional e regional através de fortalecimento de vínculos urbano-rurais."}],11:[{id:1,question:"Qual é o objetivo da ODS 12?",type:"multiple_choice",options:["Aumentar o consumo","Assegurar padrões de produção e consumo sustentáveis","Reduzir a produção","Eliminar o comércio"],correctAnswer:1,explanation:"A ODS 12 visa assegurar padrões de produção e de consumo sustentáveis."},{id:2,question:"Desperdício de alimentos deve ser reduzido pela metade.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir pela metade o desperdício de alimentos per capita mundial é uma meta específica."},{id:3,question:"Que porcentagem dos alimentos produzidos é desperdiçada globalmente?",type:"multiple_choice",options:["10%","20%","Um terço","Metade"],correctAnswer:2,explanation:"Aproximadamente um terço de todos os alimentos produzidos é desperdiçado ou perdido."},{id:4,question:"Gestão sustentável de produtos químicos deve ser alcançada.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Alcançar gestão ambientalmente saudável de produtos químicos é uma meta."},{id:5,question:"Qual prática de gestão de resíduos a ODS 12 promove?",type:"multiple_choice",options:["Apenas queima","Reduzir, reutilizar e reciclar","Apenas enterrar","Apenas exportar"],correctAnswer:1,explanation:"Reduzir substancialmente a geração de resíduos por meio da prevenção, redução, reciclagem e reuso."},{id:6,question:"Empresas devem adotar práticas sustentáveis em suas operações.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Incentivar empresas a adotar práticas sustentáveis e incorporar informações de sustentabilidade."},{id:7,question:"Qual setor deve promover práticas de compras públicas sustentáveis?",type:"multiple_choice",options:["Apenas empresas privadas","Setor público/governamental","Apenas ONGs","Apenas escolas"],correctAnswer:1,explanation:"Promover práticas de compras públicas sustentáveis de acordo com políticas nacionais."},{id:8,question:"Educação sobre estilos de vida sustentáveis deve ser promovida.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Assegurar que as pessoas tenham informação e conscientização para desenvolvimento sustentável."},{id:9,question:"Qual conceito é central para a ODS 12?",type:"multiple_choice",options:["Produção em massa","Economia circular","Consumismo","Descarte rápido"],correctAnswer:1,explanation:"A economia circular, que minimiza desperdícios e maximiza reutilização, é central para consumo sustentável."},{id:10,question:"Subsídios a combustíveis fósseis devem ser racionalizados.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Racionalizar subsídios ineficientes aos combustíveis fósseis que encorajam o consumo excessivo."}],12:[{id:1,question:"Qual é o objetivo principal da ODS 13?",type:"multiple_choice",options:["Reduzir a poluição do ar","Combater a mudança climática e seus impactos","Proteger a camada de ozônio","Aumentar a temperatura global"],correctAnswer:1,explanation:"A ODS 13 visa combater a mudança climática e seus impactos, urgentemente."},{id:2,question:"Acordo de Paris é um marco importante para a ODS 13.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O Acordo de Paris visa limitar o aquecimento global e é fundamental para a ODS 13."},{id:3,question:"Qual gás é o principal responsável pelo efeito estufa?",type:"multiple_choice",options:["Dióxido de carbono (CO2)","Metano (CH4)","Óxido nitroso (N2O)","Vapor d'água"],correctAnswer:0,explanation:"O dióxido de carbono (CO2) é o principal gás de efeito estufa emitido pela atividade humana."},{id:4,question:"Qual setor é o maior emissor de gases de efeito estufa?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O setor de energia é o maior responsável pelas emissões globais de gases de efeito estufa."},{id:5,question:"Mudanças climáticas afetam apenas o meio ambiente.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:1,explanation:"As mudanças climáticas afetam a saúde, segurança alimentar, água e desenvolvimento econômico."},{id:6,question:"Qual é a meta de temperatura do Acordo de Paris?",type:"multiple_choice",options:["1,5°C","2°C","3°C","4°C"],correctAnswer:1,explanation:"O Acordo de Paris visa limitar o aumento da temperatura global a bem abaixo de 2°C."},{id:7,question:"Qual prática ajuda a mitigar mudanças climáticas?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir, reutilizar e reciclar materiais ajuda a mitigar as mudanças climáticas."},{id:8,question:"Qual é o papel das florestas na ODS 13?",type:"multiple_choice",options:["Apenas fornecer madeira","Proteger a biodiversidade e regular o clima","Aumentar a poluição","Nenhum papel importante"],correctAnswer:1,explanation:"As florestas desempenham um papel crucial na regulação do clima e proteção da biodiversidade."},{id:9,question:"Qual é a relação entre consumo de energia e mudanças climáticas?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O consumo de energia, especialmente de combustíveis fósseis, é o principal motor das mudanças climáticas."},{id:10,question:"Ação climática deve ser integrada a políticas nacionais.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Integrar medidas de combate às mudanças climáticas em políticas nacionais é essencial."}],13:[{id:1,question:"Qual é o objetivo principal da ODS 14?",type:"multiple_choice",options:["Proteger ecossistemas terrestres","Conservar e usar de forma sustentável os oceanos, mares e recursos marinhos","Aumentar a pesca predatória","Eliminar a poluição da água"],correctAnswer:1,explanation:"A ODS 14 visa conservar e usar de forma sustentável os oceanos, mares e recursos marinhos."},{id:2,question:"Qual porcentagem da superfície da Terra é coberta por oceanos?",type:"multiple_choice",options:["50%","70%","80%","90%"],correctAnswer:1,explanation:"Cerca de 70% da superfície da Terra é coberta por oceanos."},{id:3,question:"A sobrepesca é uma ameaça aos oceanos.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"A sobrepesca compromete a saúde dos ecossistemas marinhos e a segurança alimentar."},{id:4,question:"Qual é a principal causa da acidificação dos oceanos?",type:"multiple_choice",options:["Desmatamento","Queima de combustíveis fósseis","Uso de fertilizantes","Descarga de esgoto"],correctAnswer:1,explanation:"A queima de combustíveis fósseis aumenta o CO2 na atmosfera, que é absorvido pelos oceanos."},{id:5,question:"Corais são importantes apenas para a biodiversidade marinha.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:1,explanation:"Os recifes de corais também protegem as costas e sustentam a pesca e o turismo."},{id:6,question:"Qual é a meta da ODS 14 em relação à poluição marinha?",type:"multiple_choice",options:["Reduzir em 30%","Reduzir em 50%","Eliminar completamente","Aumentar em 10%"],correctAnswer:1,explanation:"Reduzir significativamente a poluição marinha, em especial a proveniente de atividades terrestres."},{id:7,question:"Qual prática ajuda a conservar a vida marinha?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Proteger áreas marinhas e costeiras é fundamental para a conservação da vida marinha."},{id:8,question:"Qual é o impacto do plástico nos oceanos?",type:"multiple_choice",options:["Apenas poluição visual","Poluição e ameaça à vida marinha","Nenhum impacto significativo","Apenas afeta a navegação"],correctAnswer:1,explanation:"O plástico causa poluição e representa uma ameaça séria à vida marinha."},{id:9,question:"A pesquisa oceânica é importante para a ODS 14.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Fortalecer a pesquisa científica e a transferência de tecnologia é essencial para a ODS 14."},{id:10,question:"A pesca deve ser feita de forma sustentável.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"A pesca sustentável garante a conservação dos estoques pesqueiros e a saúde dos ecossistemas."}],14:[{id:1,question:"Qual é o objetivo principal da ODS 15?",type:"multiple_choice",options:["Proteger ecossistemas marinhos","Proteger, restaurar e promover o uso sustentável dos ecossistemas terrestres","Aumentar a urbanização","Eliminar todas as florestas"],correctAnswer:1,explanation:"A ODS 15 visa proteger, restaurar e promover o uso sustentável dos ecossistemas terrestres."},{id:2,question:"Qual porcentagem da superfície da Terra é coberta por florestas?",type:"multiple_choice",options:["10%","30%","50%","70%"],correctAnswer:1,explanation:"Cerca de 30% da superfície terrestre é coberta por florestas."},{id:3,question:"Desmatamento é uma ameaça à biodiversidade.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O desmatamento leva à perda de habitat e ameaça a biodiversidade global."},{id:4,question:"Qual é a principal causa da perda de biodiversidade?",type:"multiple_choice",options:["Mudanças climáticas","Desmatamento e degradação de habitats","Poluição","Sobrepesca"],correctAnswer:1,explanation:"A degradação de habitats terrestres é a principal causa da perda de biodiversidade."},{id:5,question:"Qual é a meta da ODS 15 em relação às florestas?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Proteger e restaurar ecossistemas florestais é uma meta específica da ODS 15."},{id:6,question:"Qual prática ajuda a conservar a vida terrestre?",type:"multiple_choice",options:["Apenas caçar","Proteger áreas terrestres e promover o uso sustentável","Apenas plantar árvores","Apenas evitar o desmatamento"],correctAnswer:1,explanation:"Proteger áreas terrestres e promover o uso sustentável é fundamental para a conservação."},{id:7,question:"Qual é o impacto da poluição do solo na saúde humana?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"A poluição do solo pode afetar a saúde humana através da contaminação da água e dos alimentos."},{id:8,question:"Qual é a relação entre consumo sustentável e ODS 15?",type:"multiple_choice",options:["Apenas reduzir o uso de plástico","Promover o uso sustentável dos recursos naturais","Apenas reciclar papel","Apenas usar menos água"],correctAnswer:1,explanation:"O consumo sustentável está diretamente relacionado à promoção do uso sustentável dos recursos naturais."},{id:9,question:"A pesquisa e monitoramento são importantes para a ODS 15.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Fortalecer a pesquisa e o monitoramento é essencial para proteger a biodiversidade e os ecossistemas."},{id:10,question:"A degradação da terra não afeta a mudança climática.",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:1,explanation:"A degradação da terra contribui para a mudança climática, afetando o equilíbrio dos ecossistemas."}],15:[{id:1,question:"Qual é o objetivo principal da ODS 16?",type:"multiple_choice",options:["Aumentar a criminalidade","Promover sociedades pacíficas e inclusivas, proporcionar acesso à justiça","Eliminar todas as leis","Aumentar a impunidade"],correctAnswer:1,explanation:"A ODS 16 visa promover sociedades pacíficas e inclusivas, proporcionar acesso à justiça para todos."},{id:2,question:"Qual é a meta da ODS 16 em relação à violência?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir significativamente todas as formas de violência e suas consequências é uma meta."},{id:3,question:"Qual é o papel das instituições na ODS 16?",type:"multiple_choice",options:["Apenas punir crimes","Promover a paz, justiça e instituições eficazes","Apenas criar leis","Nenhum papel importante"],correctAnswer:1,explanation:"Instituições eficazes são fundamentais para promover a paz, justiça e desenvolvimento sustentável."},{id:4,question:"Qual é a relação entre corrupção e ODS 16?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reduzir a corrupção e promover a transparência são metas importantes da ODS 16."},{id:5,question:"Qual é a meta da ODS 16 em relação ao acesso à justiça?",type:"multiple_choice",options:["Garantir acesso apenas para ricos","Garantir acesso universal e igualitário","Eliminar todos os tribunais","Aumentar os custos judiciais"],correctAnswer:1,explanation:"Garantir acesso universal e igualitário à justiça é uma meta central da ODS 16."},{id:6,question:"Qual prática ajuda a promover sociedades pacíficas?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Promover a inclusão social, econômica e política ajuda a construir sociedades pacíficas."},{id:7,question:"Qual é o impacto da violência nas sociedades?",type:"multiple_choice",options:["Apenas aumento da criminalidade","Desestabilização social e econômica","Nenhum impacto significativo","Apenas afeta as vítimas diretas"],correctAnswer:1,explanation:"A violência tem um impacto amplo, desestabilizando comunidades e afetando o desenvolvimento."},{id:8,question:"Qual é a relação entre desenvolvimento sustentável e ODS 16?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O desenvolvimento sustentável é essencial para promover sociedades pacíficas e inclusivas."},{id:9,question:"Apoio a vítimas de violência é importante na ODS 16.",type:"multiple_choice",options:["Apenas oferecer abrigo","Oferecer apoio legal, psicológico e social","Apenas fornecer alimentos","Nenhum apoio é necessário"],correctAnswer:1,explanation:"Oferecer apoio abrangente a vítimas de violência é fundamental para a ODS 16."},{id:10,question:"Qual é o papel da educação na ODS 16?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"A educação é crucial para promover valores de paz, tolerância e inclusão."}],16:[{id:1,question:"Qual é o objetivo principal da ODS 17?",type:"multiple_choice",options:["Eliminar a pobreza","Fortalecer os meios de implementação e revitalizar a parceria global para o desenvolvimento sustentável","Aumentar a desigualdade","Eliminar todas as parcerias"],correctAnswer:1,explanation:"A ODS 17 visa fortalecer os meios de implementação e revitalizar a parceria global para o desenvolvimento sustentável."},{id:2,question:"Qual é a meta da ODS 17 em relação à cooperação internacional?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Reforçar a cooperação internacional é fundamental para alcançar os objetivos de desenvolvimento sustentável."},{id:3,question:"Qual é o papel da tecnologia na ODS 17?",type:"multiple_choice",options:["Apenas aumentar o consumo","Promover o acesso à tecnologia e inovação","Apenas proteger patentes","Nenhum papel importante"],correctAnswer:1,explanation:"A tecnologia e inovação são essenciais para alcançar os ODS e promover o desenvolvimento sustentável."},{id:4,question:"Qual é a relação entre comércio e ODS 17?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"O comércio justo e sustentável é importante para o desenvolvimento econômico e a redução da pobreza."},{id:5,question:"Qual é a meta da ODS 17 em relação ao financiamento para o desenvolvimento?",type:"multiple_choice",options:["Aumentar a ajuda oficial ao desenvolvimento","Reduzir o financiamento para projetos sustentáveis","Eliminar todos os impostos sobre doações","Aumentar os custos de remessa"],correctAnswer:0,explanation:"Aumentar a ajuda oficial ao desenvolvimento é fundamental para financiar os ODS."},{id:6,question:"Qual prática ajuda a fortalecer parcerias para o desenvolvimento sustentável?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Fortalecer parcerias entre governos, setor privado e sociedade civil é essencial."},{id:7,question:"Qual é o impacto da corrupção no desenvolvimento sustentável?",type:"multiple_choice",options:["Apenas aumentar custos","Reduzir a eficácia da ajuda e investimentos","Nenhum impacto significativo","Apenas afeta o setor público"],correctAnswer:1,explanation:"A corrupção reduz a eficácia da ajuda e dos investimentos, prejudicando o desenvolvimento."},{id:8,question:"Qual é a relação entre dados abertos e ODS 17?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"Dados abertos e acessíveis são importantes para monitorar o progresso e promover a transparência."},{id:9,question:"Apoio a iniciativas locais é importante para a ODS 17.",type:"multiple_choice",options:["Apenas financiar grandes projetos","Apoiar e fortalecer iniciativas locais e comunitárias","Apenas oferecer assistência técnica","Nenhum apoio é necessário"],correctAnswer:1,explanation:"Apoiar iniciativas locais é fundamental para o desenvolvimento sustentável e a redução da pobreza."},{id:10,question:"Qual é o papel da educação na ODS 17?",type:"true_false",options:["Verdadeiro","Falso"],correctAnswer:0,explanation:"A educação é crucial para capacitar indivíduos e promover o desenvolvimento sustentável."}]},qx="/quizods-testesoftware/assets/ods2-CB4y0REc.jpg",jx="/quizods-testesoftware/assets/ods3-cE0aTHoE.webp",Bx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAkFBMVEXHIS/////13N7GHSzGGir56uvFABnFCB/LLz3DAA7ST1jko6XGESXpt7rDABPGFyfKNkLjoKbCAADimqHwz9D89PXmqq7wxsnQSlfgkZbdh43UZ23SW2P23+DPU1v119ncgIbXcHnNPUfNQk3psrbKJzjTYGn77vDZeoHgkpbsv8PSWGDuyMrUanDXdXvPP01eoaY6AAANcElEQVR4nO2di3aqOhCGwcQEbCQUxSqK4gW13vr+b3dmEkC8YbtPsbUr/9qrWyOEfGQymQQClmVkZGRkZGRkZGRkZPQnRAj++8PijuOlzh9GFJFtx3aX/WghqNb100zyH0lpI/ig/qpvRAhBipyyT0RmiV4zjG17KFWqLLYkJ5lRnWFdknOtq5ZEPvpKM+qo/y0PipLCB0Bu9eewC3PW0SHlamNI91Uu3JpGawcrjszHH/ux+lmIYZTMPKJSMbM5xy1aKuNWWh/g3tbq8Cu/8q7+cRMM9IfJh6Qj2w4ZkfCFW+xFJb8zLDZ8UPbIIpXYwxwD+NDARL4PMfGNASJv2NkW9CM7fKu2WvR2VYQsI3wL3rPNwlRoQoGEPE8GO5RT+L8JBRWHLDERFpnhB8iatrLEDeDySfGldkJdgkrCRZJEQwZ1OFkPoBo6rERImlARo7Ztt5mlaWfE8qCGNqNXVaEiwcQ5tdgGth+hJXwQRdhLFvClD8cPEzhCbe6Wd+4SJp4QUgzQVD0wv657JGRomIFIlSF6b5jNUpIUzsOM89BucosrK46E5cK5GPNgomoWCacsgMzXPtQ7Pzqr75eI7xJC8WA7JGRyCSxBiXAMH11iKUKd1YCTWWiHDpFNe8UtT5n5gluuqkoGbWKQEUoGdT/wtWXXJizyVwiHZ4StnDBmxA/tifIkGSH8BU8U2jGke8rj/AQhto5PWCmtJLSsKFpLuYXyAiqnmpAkUUIpmHGvia6mipBzURcgnv27hO1oMKbVhNBQVfQyBhiaEUKiUP41aSBbBWEYDaK6CAtnf6e36PBqQrUpmIOAzfsyI8wPMG6jd6kgxD6oLleKDu4zhANRTSihDqHUKxfKHPGMEBPRv+KuL7yasJnWQ1jyMxWEnXnLJ9WEh8NQ4nc3wp4xa4f7w56Cfw0DsNSJV0G4wnCwHnmbzxAmHGLku77Ug667HUDv0XCPvpSBf90FCCGrPI2QNdkoccLPEH6ut3DX8H2BpywnXNkrDzaNF22E+5HeIvMzje/o8eNgkZ+quV/0+G6UJ05/hFAotnhxz0qZlLq3cL0EozbEgrQiapMYtWEI1oyhd7cTAoS+wKgt2OSJnWAFblbcitqkrAMQu2jQ+z3C1/10usXIu7tMoJgvDOPOjr9QwwRwxh2nh00QgCzpQWovgPBt4eMOCCQlg9h3F4BX7fqJqklF2NlDbG63oPmu4AAHpwZCNBKQ377fW5RHTw5huUEuZRG4Lx2MTQkHs5wESZaYQD2uwJ6HGOqMs8SdVxo97Vg+tqlh9IRDWBvLU0WYF6UgjMcw5hNvuvZhD65pO+hooErRFYXS1cPiHp+jJVskxRPJEuXXuqI0At5QmY8P+99PKLQXiCoJ6XaI2o/lfI8fWhwbDGHbaJDM1Q6spT6S+X6PkxopbASJs4X93oJgfL8fU5xHGO5TizvrQTTCIb5FR5jZ0ocv6V4foYZZDDfWRudVEVpUKlGocv1/llyafoKPFE1Cd2pSOQ2ZhmGgEukxEeesZDnbfAcp6/A0VLeLN49VEv6jeCP81vz+RZm70L3StxNa3P1pQDXVAEbqWfUQ/rz0DJG9YH+WMOsGwEf/UcJs9jLm1n1CmXlA7RgJ1S4wd5PoFq0sAef+0eEWIwV63DhPJvLEKdcm3iuo7hBKvo+iIYfuwl+OWpQ4o9EcQWej0UhBjEZL7MvIHH/wR6g50wAp/IaDd9LC1K0D3Z/aD7/UTqjHTVjWakLZUtMA8Uxiy+0yvAgAjddieIpGUHs4S4i9Op6zdj6WiFtqPLLOAh+mY6BwJwl/1Vs0rXovuKlj5xcZqggzlwslIki48zAsQ0Kc11bjqhPCIB8thTOMzTB4e2MFIQ71c8JVzVdNXe1nEnGPEEO75mgImGtWJiQWjDJwKv+ScHKIcAQCuanZ4DgjXKyRbei94hZJcqgXEGcx8USnlBByJLxyUDVi9TCSXrhlQu2pJvwK4SbAUSRebtJNQWjCyMMAuOO+YhhfRG91iWk/sxEpSGSTNR2aXka/eoyPprULyoT68lIIpnZB+KZmAmIYgnwUHdJbnksvwKxqvyKsTeyKFheGeosQUybKU90mxNngiZq0eDjhySRiWb1PE0J6CIlrUUGI00BqdvGcEKy0ZiP9/4SENO3JVLHeJsQ2PMd5xnPCRjKY1ov4DYQ+4EDpu95tQsJju8lWeFXmjBB9lPfLCTGHd+wqgwpCPwR7jHEG5pKw5ttP6GjVLCnDC5uryy7xBiFOQC2hjmyH3CSUIwTa4P7nnsby676FiPCSgmw6rRPwy8ZxgxCvM1m440HcJMRgYYq3cPT4OaH32NvAsvimas77gtCD6mu34c8rv0mIkcRbu4tt7uG9xam8e4SJ4J1zK81b7s67SVjMia6o95sJMWrj7BWjtgNOrnLoI3peH5sttuAVw+sRLS7kWdQ2YRQckW7lLffhUdvnCbExNZwZlPOA07v2ejzBwkLrGgQeXrqaIeH7Opmys8gbbwXaBSzAXXFGf3HA6fFj5P1bCEmaBXgxDO0ylxQ6OE+3lxaH0u8Dndh0T0dPPl+r3gd90mtQjJ7Yo0ZPnya05Ie+QJVCJO2oLcORwMFhi6rR0XtGGHsnI+C+wOl+COqwCXdzwp04joAfSEjHS6X59UPSQMUHIdQH8bbR4CAlzlzgLISauJBbNSsxpsdZjK3vUov0R6OUWARSxrKvNrG84yzG+GF8VjFxf+ucEqc9WWVRCBX6gjTVM0lq8okep/3J2ZQTsbIZK0ymj52J+ooI49Z8un6k93u8CK3nIq2RkZGRkZGRkZGRkZGRkZGRkZHR94v88ek86s0OS/63bgA9kZiryyODP4uIy04rLg/9AfFimeCN60PPruIqZbZQ7u8Jb73J9PogM1XrYWpZ2Kl6hHOKxxO6kU8sefC//WhCrPHvq3d68h5NSFnPdghegX9n39oqqDtdxXjjdNhITzJ+MCFNJ7YibOPaxyv3Sf2jCGt1bbsh1Br5cFkmIb79QEK9/DkjtO1ui31Pc+SOWmiVEeL9YuVjLjK1D/WHbvoO7oLQthfyG06rZANtiAXhy0klcpbpAbHpBaEdRv+3OVJvmd8BeZ3woboktO14yP7HvROEzXdFVjfqkHmZHtDhXyO07bf5PzdHnvZKGV0lJM6uqzVJ6ke8TmjbPfFPx5ZuVH5www3Ch/rSW4R2uPa+7Aaot41Pc/nNhFC60deaI2GzzUUev5rQtjf+F5ojt14uc/jthHb4+tlHOlF3fW1lzq8nhEDu8JnmSFi/cXX3JyC07cn4nqkS7t/a+SkIbbvtVJZDiE54a9cnIbTDinEVjJGat/d8FkLbbu6v9xwQok2q9nseQhhXXQvkuNOr3uuZCCGQS8+KI/ngZgN8SkIYV7mlnoO6y/juLk9GCOOqIpCDEG13f/vnI1TjKtxNXAvR/gahvtYgkxuLp/8EYYwP77rfAp+YsOEdH95lCA2hITSEhtAQGkJDaAgNoSE0hIbQEBpCQ2gIDaEhNISG0BAaQkNoCA2hITSEhtAQGkJDaAgNoSE0hIbQEBpCQ2gIDaEhPFF8fZVssYjhAU+oKQiLlxl/K+Hm6krn/MXK+mUgjyK0ZLq+WAL6/wi7kYPLpYILQj7ItmjS+p9PcyS0iGDeslexTOsrhGH7wD1BMFOyOifMXqmp38b3GMI0P5WSe+P3yrVanyGMX5ccV7sR7vlRVzW60ycO8Ow8rh+2Hr9fejUS5Wy2fru9oOke4S7qc8yNcNcZTPJ8TgmztxOHdb8H6khoNxdDwXje7MG06GhxY9FIFWHYnhKGL7WG0+Sc2MJpt6DfNmhP3PoBj00CHMOgJVn++m0imTvvXFs4cpMw7m1dhk8qolz0O6Utwsn7/LRXyF70/pBHfZF52R6b7YPvFQZLuTeLdudVeZUw7EZzT9mAZHz7Wjoz4S5xXH7eKag3etbxCvkros5wUa6qsNHZeseqFMzZt0/86yXhajP1tYlL7m7L3jjcTJ0ir7LwZYl2+AgjtZQ9cid6Kxc53CQp49mjsYgEoyvVyhlhszcWCgLz2ZYbb9geCXbj+VoqcHtEX1EcELrC0UujbLBxb5kqp4Gi3E0Hu/CcMOy+z7QFQgbWsl3av6ka5e0jsia+6P0hcIWgK/TXJwYJjavFciMjwkun+HOcETY3a8fjOlTwrOmmVHuNzphdNL1TYX9R81uQrwlqQvYH3RIkdCNT4WWlxfhk29uAAxSb3sjS7IAnTrrPyWDO7+CB5FC9fPcnBD2ZHJ3GbpPOB8+qklD9oAyhWykyJ+XVst3Iuld7WsT5ycdCYl/oRJtyq1xtDjPOT90GBj9RCS98W0vvmuO8KjbZ/uxrrtBgR51JmbLxOqQFAYSc80EpaFm1p9bn8Sw000eEbNWCboL5p51h+Bb5AT7Byp2V453mYmld7fYqs6+n1F8VdnL+4GRderM7mXTLeC/9c/t9NoG3ZMOX62ub4878MiR7SkFnOU82Z6Nj6Be8v4GnhT3DuFN0lrvE/1y/8FQi2Fkup6Al/bJneRqR6hdEGhkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRk9i/4DmShb6fO5gzUAAAAASUVORK5CYII=",Fx="/quizods-testesoftware/assets/ods5-CHTKQf4U.jpg",Hx="/quizods-testesoftware/assets/ods6-Bp9BxjvT.jpg",Gx="/quizods-testesoftware/assets/ods7-D_nlX7yg.webp",Qx="/quizods-testesoftware/assets/ods8-BC0ytAjs.jpg",Kx="/quizods-testesoftware/assets/ods9-DG1oRRX5.png",Yx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAApVBMVEXeF2j////dAGDdAGLdAGPcAF3eEmbum7jgMXP/+fzodprhKnTzt83zv87jTYXcAFv2zNnocZnmXpLvoLvkXIriPX3jSIDri6386PH98PXobZnre6Pshan2xtj84OzzssrlU4ntkrH32OHxp8DbAFPkP4HiPHntiqzfImzyrsb2y9v89PfnZZTaAE3vpcD52+XsgKjhKXf2wNfrdqTkUoXnapTvmbpv4WH6AAAOlElEQVR4nO2da3uiPBCGyVFZVFyt50NFXUVla9+22///096ZBBSQtopaLVeeDxZRktxkkkwmKVqWkZGRkZGRkZGRkZFRASSVbl2KK0paDUc2ygVGZD1CeqTPvz/nQ+ORnAoQ/aAw+wukjI5jiYQH0VcY4/ogIPUuWVvhl+B0Mj0Ze7crB2MXqHLW+oPy9wDCH6xG63Vl1qA0IwO/hnIEt6RT07KsNv5pcQqXL+BAWvARGKQUrWVp4FN1ofPnz8TXtKLmlQKuGaW69o+l81Jp6sJQf1BatsS5jGJIlH5Ft5S2RiSS3fQP6pEH+rNug7Nl+D3ft/XBilm0QkiF8ld8lVKn1UFEhjl5DCnKW5V6n6kShNe+qOqlMzgcYK6spE6PzuycWIMkCUWHxNWrsTRhdIW9oMMdYS88ehT0EV4p7wMuFZXw9ARKieikKjDTbXi6jYUX0bVrzIrW4agJd4T/Dk+X0iU4SXxhJwmFR1KqpWoRCXuNDlznuUC4Dfr9VwsJlwEilMWeUDhYf60qwkLSU6x5KK7Ee9T/A5gVERJ6wSq8D6wLB3U4L9aEzPwBIWN6BqB0ovsXEkYmGK9FP2klSNidu1CiKhLWXc65RMI2FWNCfrt7QheqYStYWxfZxdQ20DjRECsuxXTckLBB51B3HWZJX7UAyNKFxCw5hwKcU4d0ShKEUnYPCNX9TxO6WEpNiNWgCN8k1tIwTgifT5n8A6/Ckv9F9qrtWAK4vSPkWPVgnGEbgPuAhP9JuC32GeOL+0KShDvbJ92XUWS/JNnUcxFuhcXB4MAwn1lEWEsQYiudUYtC9zLF98pKqy4PgiB/TyOaJEWomjmqM4fhcB29SZiJJhRPMSv9gtAplYZc2SY08ir9mBDqULyQTVP1LqrrXQnO81chfyYpQmmF9RZWTPhuJA4I/3KojiYSjPuDvvyUMBzd3Trpob1+Tuh2oe/SWWIWkEZuvlifvSdshW+eVa254cDYS+SiWkpvAy+1cLTo0c8Jw+x6ZIyt6hMrbcKgD7fX0l2Q7gbPQTwkxGIpBcoy6JN+Zyd602g87PYZ04Tdrwgl+G2yZZPqX+jIWvITQv4Ar9B/EtUrqFF2ln+w0IT1GCGLRvAHTRi103KacIyFEur729qk9oWV+g8PbxJPvM9H6K98QsjA3xi4W9XlSsnK2LXn99UV4SqIE3ayCVsHhDPlnTDV00BXe0RfyqCX+T2f4eDzCSGOGbV5Fb076TgOK8Nn49zjIRJW3H4ewi40WBt6kONGixaOh9j5P5aqeEs+GS3AZ7BnpTp+7sJpjm4BsfIOF0BYdVk+QujyyIBlE1YyR3w+DhOzReaIjydndOffdgVmwaWAYyc34XjEJM9HOF8hW2Sluh22udhiK5qh/80U4QBHB67qsLxzIFpCfYPXwl5aETLsuD3xFn1pg+MGYei15SeUJeji8hJOoALKOFpMLccpK8KGg5OpNgWsnsPAKJcUR58JuikVFy54cTmDmvwlIM+Nw6vhSIuEfQdmW+CdwmtTqD70zQWD6ItG2K/mE7bgnIQuhTu8dA9nT2uhHQVb3XsspToMxFINdwKaWInyXnSaW7HZ05ZTMI0hkxTuw7ProbES5QWdo3yEPRfHyrG7nwFvwkLC0Bk17SF4M2Xtyc+YqKp5LSZZF3yiTVbP/ER47XghcSYA44QYoRlL7TV2cxtpXkK58Dy4z/Ba4jVPy7KW+GfYVmEV5pcqL7OWms3zQbc7m8CcYeCVoKiyDd+CtmF1KpVZS1cOV9cuJ3CtHGJalnzwvAGX7N/jS2XAz4xinE6IbiYLX/GFqbf6r4y+AX57GHFyX6E6MCP9aRiBkoyKXQwodi1nzNp/i9MPo2FXJTxN/vbMMMS5ujqhVTsMZn2rrk946zj+9QlvLUOY1ZdSlO77mDpWHR4XYQfKdKRc0nBdQKrP9au+Wneb4d8wuaixwtVhd7o/zXUuykOhQmQF4i9JKFtPTZA3gTFAek0lmMKJfmVaf4JBkHWaT20Y99uz6fQxEDC4NZswqC2emq8I+tZsPmF6fNBsNnDBo6yTC3S52bLZfMe1AaekTvfhNH/WucBAKiaP0+lqcoqXk8+nUapwyUOHq7KLbk8kesx9zsKoXVNNDMGXm2gvVKWJwwfOpjDELxdhclOVJ84lSDygMrVkFPPcMurpo+cTxp+chBt0u96Vg2lvbHulppndnpr1gFPZZxjt3iB/G6PoI0X4gpFsjCmog1GMUCWHAXANNtFBD2Lj6SrFCCDmsqb43R6menXCruWsMD6DhAHMxX2xwviK1SO2owgRa2xhxS7dBCFHRxXjTHFC+z/H01XHf2F+cB4J7ZbTwSkM3hXPxyn/MyTlzqFKa8c3xbxzC8mxSEj4wGB+iOX9x3EG3FKEONEHA4XyPiUIpV4n4TJJaCl7h2JTtd70SDVhmeO8Y+JiwJ9CLuwdrlENIjjei8hLaDE47ytCNQOqYCFE3d6EhC9qlvQLp8FxwnBd5OGAEJcToONRRozJa0KJhIFbD6PS2KQrLl3Z30LIE4R4dzcL5vuOFSOUb5XKINEOMYcXVd5sQjDicZdsfJlJqO5PQMFgj+a7BOHEFdAxlLEPKIPBxgktKQRncUKYJtqvygwzCWXZJqsphnzShMs5rjlb2Iob9CRHMEl4bLw0TriuVHE9CS/dtLgVJ+S48JYg5FvSA6SxyCbESuqsMMiVJpxWqjCB1iNV46RJf4Jwt3qYinlbnxESvSitlnl6Cx4jFOvxduzF2yFGONayh2uSmYRoRMESY6ppQtATgFE1zAanTMcShOl1i3DxaXOwbhEn7PU2KiqtEbmMEaqgfIKwjV1PV0UeMwg5rRLi/MMAXZpw0+u9Y6EELifZ7RPMNEkow5DJ1EW/yvl47SneDpWfCLNyt6m+GyN82qYIsRkMdWg/kxCD1G4Lx9uDdugq5xZyGWBnKz7i+YLQotE2jBIVrhMtaQwz1g9TfakMnp/LuPJN4qMFRqoShBjYbv19V5sYsggluGZ/53CbFzyrL5WT4bDmYi02co4W8TXgUX0THWetAacI0cv8x8GnIb/ne0JsVglCdAnGW4CpZxIyqL7NdqtaWhYhLrKWGC7cNI9viUlCi0Wx95iestbx1YhvJQgDTiHvX5qwkkFYFW6UZi+zHUZ7e+AqsSds7AmbeI3Qa6k5CfnkALCbWhjRMW+BnRLV7ZAx1aoCilH9sA4xcO+670j4jO1aBBgChYt69Slav4NR/I7LmCLkAsPILVx52k6nXfQ+kdAXFhhSTah2CLngHiJPoH3kr0NLLFOAdjtrP83Q66rQLhDOOh0vwI603h7u2iHWhv38Gz9WaxHevzEWDnqJ1VzgOmmAhKNlx3OQsNOBe9MTGCJ3XFwA6M2R0OvAiZ5y5arw1QGOFd1JYOf3SxXiIFmDiw/3RIF97uaHbjTOrMPZE9eteExmlEU9lsQB9lk7bLN52KnVovkheWUCV2Sk2lJj7bYyDVm0f2K7W5rK35eiqFPZLRN1vcO9gVIT2uOA6rkQElLWV5mvw/GQ8wm+90ZAKH01rnYfOLbWB71jaBQRtjWh3R1QHI63UAyKja9l69NDsdshMmW8rTKcLk5x2/w3tbvwbb9WL4XTL1Xr9UrngWc1aL+NWmDYRLa1wK1jVvDab6OLCu99XIQPXmt0gR9J2u6/Plg8+kiW4S9f6Et9SyfHmUoZyy7ho3LstAy/Cp9x/vDafzsx0C+T2zvVKbW/dB8dyrwifbFEJzQ8pxPB/Qn74/ieU/z7wdbU1OcHRZT83IUMIyMjIyMjIyMjIyMjIyMjo4TO+G+enyGxKp0Q8vuBwqC3d87/LN27cDs+BrlvXY6rCbfXoN6LiuiuoqD5ezENVZuoViENVaxITAU0VDcBWEBDdWckpYINGmKVBsRNGbcu1QWVNtEQsTi1eGiiBTPULBMtlKFmm2iBDPUjEy2MoX5sogUx1M9MtBCG+rmJFsBQvzLRH2+o7PEYwJO2o92X5MO6epRGbz91L4xUT7D7Wqf915mRkZGRkZGRkZGRUbF1weex3PrRLtmSi0mqXPIEJS9sHTyI+Q4kfftXcpuFXz5BfiKtCWndHaJ0uuR3gpAPiH20yGv8Wlkj9uLOdqVIv0tShGzwdYBmr0G8zvDpkJuD/467qbh6LuxFCYl9T4aKJnpxwntCDAEvTUg294K4e4L7pQnvpRa5Ez2w/eKE94Eod4BXILwHQ+X7Hxm4BuHtEfcmeiXCWxuqjANeh/C2tZgEPPTaTiFMeW33gciTgClCCx80drSSnneC8HaGmgZME54xe0oS3qoW471oNmFupQlvg3gIeEXCWxjqgYlel/D7a1Ee1uB1CfUj0b5TGYDXJSTkpCeXnC3+klGE6xLW/W8llLRyWIarEq6/+9klUhwiXpNwffZv5Z2uQ8QrEn57DapiHBjq9QhvAphhqFcjvIWJaqUQU4TyuA1RWslHgycJ15f4Tc58ShlqklA2XipH66WReCBVgvBGJhoWxa18SMgSv9/2lT6eAd/ORLXihnqVOf4NTTQsTMxQr0FYv/1DymI96hUI13exMXOHeHnC+wDcG+rFCW/ai8YVGeqlCe+kBlEh4oUJ6/cDGCFelvBuTFRLtcWLEt58HEwLa/GSPs2tPZksidEg6ZfWmqWj1Uz89oacTO/LRLWklfo1O/1rP0cqeanzvTGZo3WfpTIyMjIyMjIyMjIyMvoB4kcuPd1T0Okk8eW0fpRG5Z+KGP6Y/Zc64efE7kzSHX2NR8g9/pvTsZLsa0R78oMBj0J8+NGAlv6J36KaaCj6GeIPN1EtyT9B/PEmqiQ/NtQCmKiS/MBQC2GiWtmGahfDRENlGWpxalDpwFDtyUk/wnz/ShtqsUxUKdWjFsxEleKIBepF49obagFNVGs3LhazBpWUoRauF00IDLWwJqoF88VGoQFB4sfGZIyMjIyMjIyMjIyMjIyMjIyMjIyMfrj+B5i7TUG5fwl7AAAAAElFTkSuQmCC",Xx="/quizods-testesoftware/assets/ods11-CT2G3GHH.webp",Wx="/quizods-testesoftware/assets/ods12-Cb49GVsI.webp",Zx="/quizods-testesoftware/assets/ods13-CWpKminP.webp",Jx="/quizods-testesoftware/assets/ods14-_JdAAvBX.webp",$x="/quizods-testesoftware/assets/ods15-D0EBpMSs.jpg",eN="/quizods-testesoftware/assets/ods16-BigZ_AoZ.jpg",tN="/quizods-testesoftware/assets/ods17-BtLoC5iM.png",qt={ODS1:zx,ODS2:qx,ODS3:jx,ODS4:Bx,ODS5:Fx,ODS6:Hx,ODS7:Gx,ODS8:Qx,ODS9:Kx,ODS10:Yx,ODS11:Xx,ODS12:Wx,ODS13:Zx,ODS14:Jx,ODS15:$x,ODS16:eN,ODS17:tN},Hl=[{id:0,url:qt.ODS1,textAlt:"ODS 1",title:"Erradicação da Pobreza",description:"Busca acabar com a pobreza em todas as suas formas, em todos os lugares, garantindo que todas as pessoas tenham acesso a direitos básicos como alimentação, saúde, educação e condições dignas de vida.",category:"Social"},{id:1,url:qt.ODS2,textAlt:"ODS 2",title:"Fome Zero e Agricultura Sustentável",description:"Promove a segurança alimentar e nutricional, incentivando uma agricultura sustentável que assegure o acesso a alimentos de qualidade, saudáveis e suficientes para todas as pessoas.",category:"Social"},{id:2,url:qt.ODS3,textAlt:"ODS 3",title:"Saúde e Bem-Estar",description:"Garante que todos tenham acesso à saúde e bem-estar ao longo da vida, prevenindo doenças, promovendo cuidados de qualidade e fortalecendo sistemas de saúde inclusivos e eficientes.",category:"Social"},{id:3,url:qt.ODS4,textAlt:"ODS 4",title:"Educação de Qualidade",description:"Defende uma educação inclusiva e equitativa, assegurando acesso universal ao aprendizado ao longo da vida, com ensino de qualidade que desenvolva habilidades para o futuro.",category:"Social"},{id:4,url:qt.ODS5,textAlt:"ODS 5",title:"Igualdade de Gênero",description:"Busca a igualdade entre mulheres e homens, eliminando todas as formas de discriminação e violência, e garantindo direitos, oportunidades e participação igualitária na sociedade.",category:"Social"},{id:5,url:qt.ODS6,textAlt:"ODS 6",title:"Água Potável e Saneamento",description:"Garante o acesso universal à água potável e saneamento básico, promovendo o uso sustentável dos recursos hídricos e melhores práticas de higiene para a saúde e a dignidade humana.",category:"Ambiental"},{id:6,url:qt.ODS7,textAlt:"ODS 7",title:"Energia Limpa e Acessível",description:"Assegura o acesso a energia segura, eficiente e renovável para todos, reduzindo impactos ambientais e fortalecendo o desenvolvimento econômico sustentável.",category:"Ambiental"},{id:7,url:qt.ODS8,textAlt:"ODS 8",title:"Trabalho Decente e Crescimento Econômico",description:"Promove emprego digno, com direitos trabalhistas, inovação e crescimento econômico inclusivo, garantindo prosperidade com justiça e oportunidades para todos.",category:"Econômico"},{id:8,url:qt.ODS9,textAlt:"ODS 9",title:"Indústria, Inovação e Infraestrutura",description:"Fortalece infraestrutura resiliente e sustentável, incentiva a inovação e o desenvolvimento tecnológico para impulsionar a economia e melhorar a qualidade de vida.",category:"Econômico"},{id:9,url:qt.ODS10,textAlt:"ODS 10",title:"Redução das Desigualdades",description:"Reduz desigualdades dentro e entre países, garantindo inclusão social, econômica e política para que ninguém seja deixado para trás.",category:"Social"},{id:10,url:qt.ODS11,textAlt:"ODS 11",title:"Cidades e Comunidades Sustentáveis",description:"Transforma cidades em espaços mais seguros, inclusivos e sustentáveis, com moradia adequada, mobilidade eficiente e acesso a serviços básicos a todos.",category:"Econômica"},{id:11,url:qt.ODS12,textAlt:"ODS 12",title:"Consumo e Produção Responsáveis",description:"Promove o uso consciente dos recursos, reduzindo desperdícios e incentivando modelos de produção e consumo que respeitam o meio ambiente e o bem-estar das pessoas.",category:"Ambiental"},{id:12,url:qt.ODS13,textAlt:"ODS 13",title:"Ação Contra a Mudança Global do Clima",description:"Enfrenta os impactos das mudanças climáticas com ações urgentes, proteção ambiental, redução de emissões e fortalecimento da resiliência das comunidades.",category:"Ambiental"},{id:13,url:qt.ODS14,textAlt:"ODS 14",title:"Vida na Água",description:"Protege oceanos, mares e recursos marinhos, promovendo uso sustentável, preservando a biodiversidade e garantindo que esses ecossistemas continuem sustentando a vida no planeta.",category:"Ambiental"},{id:14,url:qt.ODS15,textAlt:"ODS 15",title:"Vida Terrestre",description:"Conserva florestas, solos e biodiversidade terrestre, combatendo a degradação ambiental e promovendo o uso sustentável dos ecossistemas naturais.",category:"Ambiental"},{id:15,url:qt.ODS16,textAlt:"ODS 16",title:"Paz, Justiça e Instituições Eficazes",description:"Fortalece sociedades pacíficas, justas e inclusivas, com instituições responsáveis, transparência, participação social e garantia dos direitos humanos.",category:"Social"},{id:16,url:qt.ODS17,textAlt:"ODS 17",title:"Parcerias e Meios de Implementação",description:"Estimula a cooperação global entre governos, empresas e sociedade, construindo alianças para viabilizar recursos, tecnologias e ações que tornem os outros objetivos possíveis.",category:"Institucional"}],nN=()=>{const[s,e]=j.useState(Hl[0]),[n,a]=j.useState({}),[o,u]=j.useState([]),[d,m]=j.useState("all"),p=na();j.useEffect(()=>{const M=Zc.getCompletionStatus();a(M);const te=Bc.getFavorites();u(te)},[]);const y=M=>{e(M)},E=()=>{p(`/quiz/${s.id}`)},T=M=>{M.stopPropagation(),Bc.toggleFavorite(s.id),u(Bc.getFavorites())},R=Bc.isFavorite(s.id),X=d==="favorites"?Hl.filter(M=>o.includes(M.id)):Hl,J=M=>{if(m(M),M==="favorites"&&X.length>0){const te=Hl.filter(Y=>o.includes(Y.id));te.length>0&&!o.includes(s.id)&&e(te[0])}};return w.jsxs("div",{className:"mainhome-container",children:[w.jsxs("div",{className:"description-quiz-container",children:[w.jsx("img",{src:s.url,alt:s.textAlt,className:"img-ods"}),w.jsxs("div",{className:"startquiz-container",children:[w.jsx("div",{className:"button-container",children:w.jsx("button",{className:"startquiz-button",onClick:E,children:"Iniciar"})}),w.jsx("div",{className:"like-container",children:w.jsx("div",{className:"heart-icon-container",onClick:T,children:R?w.jsx(Rx,{size:30,className:"heart-icon filled"}):w.jsx(Cx,{size:30,className:"heart-icon"})})})]}),w.jsxs("div",{className:"description-container",children:[w.jsx("h3",{className:"h3-mainhome",children:s.title}),w.jsx("p",{className:"p-mainhome",children:s.description})]}),w.jsxs("div",{className:"category-container",children:[w.jsx("div",{className:"globe-container",children:w.jsx(Lx,{size:30,className:"globe-icon"})}),w.jsxs("div",{className:"description-category",children:[w.jsx("p",{className:"p-category",children:"Categoria"}),w.jsx("p",{className:"p-namecategory",children:s.category})]})]})]}),w.jsxs("aside",{className:"options-quiz-container",children:[w.jsxs("div",{className:"filter-buttons-container",children:[w.jsx("button",{className:`filter-button ${d==="all"?"active":""}`,onClick:()=>J("all"),children:"Todos"}),w.jsx("button",{className:`filter-button ${d==="favorites"?"active":""}`,onClick:()=>J("favorites"),children:"Favoritos"})]}),w.jsx("div",{className:"quiz-cards-grid",children:X.length>0?X.map(M=>{Zc.isQuizCompleted(M.id);const te=Zc.getQuizDetails(M.id),Y=MA[M.id]?.length||10;return w.jsx("div",{className:`quiz-card ${s.id===M.id?"active":""}`,onClick:()=>y(M),children:w.jsxs("div",{className:"card-content",children:[w.jsxs("h4",{className:"card-title",children:["ODS ",M.id+1]}),w.jsx("p",{className:"card-subtitle",children:M.title}),w.jsx("div",{className:"card-status",children:(()=>{const se=te&&te.percentage!==void 0,me=se&&te.percentage===100,ue=se&&te.percentage<100;return me?w.jsx("span",{className:"status-badge completed",children:"Completo (100%)"}):ue?w.jsxs("span",{className:"status-badge in-progress",children:["Em andamento (",te.percentage,"%)"]}):w.jsx("span",{className:"status-badge incomplete",children:"Não iniciado"})})()}),w.jsxs("div",{className:"card-info",children:[w.jsxs("div",{className:"info-item",children:[w.jsx(Vx,{size:16}),w.jsxs("span",{children:[Y," questões"]})]}),w.jsxs("div",{className:"info-item",children:[w.jsx(Ux,{size:16}),w.jsx("span",{children:"3 min e 20 seg"})]})]})]})},M.id)}):w.jsxs("div",{className:"no-favorites-message",children:[w.jsx("p",{children:"Nenhum quiz favoritado ainda."}),w.jsx("p",{children:"Adicione alguns favoritos clicando no ❤️"})]})})]})]})},iN=()=>w.jsx("footer",{className:"footer-container",children:w.jsxs("p",{className:"copyright-text",children:["© ",new Date().getFullYear()," Todos os direitos reservados à Luiz, Evelyn e Éverson"]})});function sN(){const s=na(),[e,n]=j.useState(null),[a,o]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const d=await lo.getCurrentUser();if(!d){s("/");return}n(d),console.log("👋 Bem-vindo,",d.nome+"!")}catch(d){console.error("Erro ao verificar usuário:",d),s("/")}finally{o(!1)}})()},[s]),a?w.jsx("div",{children:"Carregando..."}):e?w.jsxs("div",{className:"home-container",children:[w.jsx(xh,{}),w.jsx(nN,{}),w.jsx(iN,{})]}):w.jsx("div",{children:"Carregando..."})}const aN=()=>{const{odsId:s}=XT(),e=na(),n=Hl.find(K=>K.id===parseInt(s)),a=MA[parseInt(s)]||[],[o,u]=j.useState(0),[d,m]=j.useState({}),[p,y]=j.useState(!0),[E,T]=j.useState(!1),[R,U]=j.useState(!1),[X,J]=j.useState(!1),[M,te]=j.useState(0),[Y,se]=j.useState(new Set),me=(K,oe)=>{Y.has(o)||m({...d,[K]:oe})},ue=()=>{let K=0;return a.forEach(oe=>{d[oe.id]===oe.correctAnswer&&K++}),K},Te=()=>{for(let K=0;K<a.length;K++){const oe=a[K];if(d[oe.id]===void 0)return!1}return!0},O=()=>{const K=[];return a.forEach((oe,Ce)=>{d[oe.id]===void 0&&K.push(Ce+1)}),K},C=()=>{if(!Y.has(o)&&d[b.id]!==void 0){const K=new Set(Y);if(K.add(o),se(K),o===a.length-1&&!Te()){const oe=O();alert(`Você precisa responder todas as questões antes de finalizar o quiz.
Questões não respondidas: ${oe.join(", ")}`);return}U(!0),T(!0),setTimeout(()=>{let oe=-1;for(let Ce=o+1;Ce<a.length;Ce++)if(!K.has(Ce)){oe=Ce;break}if(oe!==-1)u(oe),T(!1),U(!1);else{const Ce=ue();te(Ce),J(!0),Zc.markQuizCompleted(parseInt(s),Ce,a.length)}},3e3)}},I=()=>{u(0),m({}),T(!1),U(!1),J(!1),te(0),se(new Set)},P=()=>{if(!R&&o<a.length-1){let K=o+1;for(;K<a.length&&Y.has(K);)K++;K<a.length&&(u(K),T(!1),U(!1))}},N=()=>{if(!R&&o>0){let K=o-1;for(;K>=0&&Y.has(K);)K--;K>=0&&(u(K),T(!1),U(!1))}},k=()=>{e("/home")};if(!n)return w.jsx("div",{children:"ODS não encontrada"});if(a.length===0)return w.jsx("div",{className:"quiz-container",children:w.jsxs("div",{className:"quiz-placeholder",children:[w.jsx("h2",{children:"Quiz em desenvolvimento..."}),w.jsx("p",{children:"As questões para esta ODS ainda estão sendo preparadas."})]})});const b=a[o],ae=d[b.id],he=b.correctAnswer,H=Y.has(o);return X?w.jsxs("div",{className:"quiz-app",children:[w.jsx(xh,{}),w.jsx("main",{className:"quiz-main",children:w.jsx("div",{className:"quiz-completion",children:w.jsxs("div",{className:"completion-content",children:[w.jsx("h1",{className:"completion-title",children:"Quiz Concluído!"}),w.jsxs("div",{className:"score-display",children:[w.jsx("div",{className:"score-circle",children:w.jsxs("span",{className:"score-text",children:[M,"/",a.length]})}),w.jsxs("p",{className:"score-description",children:["Você acertou ",M," de ",a.length," questões"]}),w.jsxs("div",{className:"score-percentage",children:[Math.round(M/a.length*100),"% de aproveitamento"]})]}),w.jsxs("div",{className:"completion-actions",children:[w.jsx("button",{className:"restart-btn",onClick:I,children:"Refazer Quiz"}),w.jsx("button",{className:"home-btn",onClick:k,children:"Voltar ao Início"})]})]})})})]}):w.jsxs("div",{className:"quiz-app",children:[w.jsx(xh,{}),w.jsxs("main",{className:"quiz-main",children:[w.jsxs("nav",{className:"breadcrumb",children:[w.jsx("span",{onClick:()=>e("/home"),className:"breadcrumb-link",children:"Início"}),w.jsx("span",{className:"breadcrumb-separator",children:">"}),w.jsx("span",{onClick:()=>e("/home"),className:"breadcrumb-link",children:"ODS"}),w.jsx("span",{className:"breadcrumb-separator",children:">"}),w.jsx("span",{className:"breadcrumb-current",children:b.question})]}),w.jsxs("div",{className:"quiz-content-area",children:[w.jsx("h1",{className:"question-title",children:b.question}),w.jsx("div",{className:"options-list",children:b.options.map((K,oe)=>{const Ce=["A","B","C","D"];let x="option-item";return ae===oe&&(x+=" selected"),(E||H)&&(oe===he?x+=" correct":ae===oe&&oe!==he&&(x+=" incorrect")),H&&(x+=" disabled"),w.jsxs("div",{className:x,onClick:()=>!R&&!H&&me(b.id,oe),children:[w.jsx("span",{className:"option-letter",children:Ce[oe]}),w.jsx("span",{className:"option-text",children:K})]},oe)})}),(E||H)&&w.jsxs("div",{className:"result-explanation",children:[w.jsx("p",{className:"explanation-text",children:b.explanation}),H&&!E&&w.jsx("p",{className:"confirmed-text",children:"Esta questão já foi respondida e confirmada."})]}),w.jsxs("div",{className:"confirm-section",children:[w.jsx("button",{className:"confirm-btn",onClick:C,disabled:ae===void 0||R||H,children:H?"Já Confirmada":R?"Confirmado":"Confirmar"}),o===a.length-1&&!Te()&&w.jsx("p",{className:"warning-text",children:"Responda todas as questões antes de finalizar o quiz"})]}),w.jsxs("div",{className:"quiz-navigation",children:[w.jsx("button",{className:"nav-arrow",onClick:N,disabled:o===0||R||(()=>{for(let K=o-1;K>=0;K--)if(!Y.has(K))return!1;return!0})(),children:"<<"}),w.jsx("div",{className:"question-indicator",children:w.jsx("span",{className:"current-question",children:o+1})}),w.jsx("button",{className:"nav-arrow",onClick:P,disabled:R||(()=>{for(let K=o+1;K<a.length;K++)if(!Y.has(K))return!1;return!0})(),children:">>"})]})]})]})]})},rN=()=>{const s=na(),[e,n]=j.useState(null),[a,o]=j.useState(null),[u,d]=j.useState({nome:"",currentPassword:"",newPassword:"",confirmPassword:"",foto:null,passwordConfirmation:""}),[m,p]=j.useState(null),[y,E]=j.useState(!1),[T,R]=j.useState(!1),[U,X]=j.useState(!1),[J,M]=j.useState(""),[te,Y]=j.useState(""),[se,me]=j.useState(!1),[ue,Te]=j.useState({requisitos:[],isValid:!1});j.useEffect(()=>{const b=ui.getCurrentUser();if(!b){s("/");return}n(b),d({nome:b.nome,currentPassword:"",newPassword:"",confirmPassword:"",foto:b.foto}),b.foto&&p(b.foto)},[s]);const O=b=>{const{name:ae,value:he}=b.target;if(ae==="nome"){const H=he.replace(/[^a-zA-ZÀ-ÿ\s]/g,"");d({...u,[ae]:H})}else d({...u,[ae]:he});if(ae==="newPassword"){const H=I(he);Te({requisitos:P(he),isValid:H.isValid})}M(""),Y("")},C=b=>{const ae=b.target.files[0];if(ae){if(!ae.type.startsWith("image/")){M("Por favor, selecione apenas arquivos de imagem!");return}if(ae.size>2*1024*1024){M("A imagem deve ter no máximo 2MB!");return}const he=new FileReader;he.onload=H=>{const K=H.target.result;d({...u,foto:K}),p(K)},he.readAsDataURL(ae)}},I=b=>{const ae=[];return b.length<8&&ae.push("ao menos 8 caracteres"),b.length>16&&ae.push("no máximo 16 caracteres"),/[A-Z]/.test(b)||ae.push("1 letra maiúscula"),/[a-z]/.test(b)||ae.push("1 letra minúscula"),/[0-9]/.test(b)||ae.push("1 número"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(b)||ae.push("1 caractere especial (!@#$%^&*)"),{isValid:ae.length===0,errors:ae}},P=b=>[{texto:"8-16 caracteres",atendido:b.length>=8&&b.length<=16},{texto:"1 letra maiúscula (A-Z)",atendido:/[A-Z]/.test(b)},{texto:"1 letra minúscula (a-z)",atendido:/[a-z]/.test(b)},{texto:"1 número (0-9)",atendido:/[0-9]/.test(b)},{texto:"1 caractere especial (!@#$%^&*)",atendido:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(b)}],N=async b=>{b.preventDefault(),me(!0),M(""),Y("");try{let ae={success:!1,message:"Erro desconhecido"};switch(a){case"nome":if(u.nome.trim().length===0){M("Nome não pode estar vazio"),me(!1);return}if(u.nome.length>16){M("Nome deve ter no máximo 16 caracteres"),me(!1);return}if(!ui.verifyPassword(e.id,u.passwordConfirmation)){M("Senha incorreta"),me(!1);return}ae=ui.updateUserName(e.id,u.nome);break;case"senha":if(!ui.verifyPassword(e.id,u.currentPassword)){M("Senha atual incorreta"),me(!1);return}if(u.newPassword===u.currentPassword){M("A nova senha deve ser diferente da senha atual"),me(!1);return}const he=I(u.newPassword);if(!he.isValid){M(`A nova senha deve conter: ${he.errors.join(", ")}.`),me(!1);return}if(u.newPassword!==u.confirmPassword){M("Nova senha e confirmação não coincidem"),me(!1);return}ae=ui.updateUserPassword(e.id,u.newPassword);break;case"foto":if(!ui.verifyPassword(e.id,u.passwordConfirmation)){M("Senha incorreta"),me(!1);return}ae=ui.updateUserPhoto(e.id,u.foto);break;default:M("Modo de edição inválido"),me(!1);return}if(ae.success){Y(ae.message);const he=ui.getCurrentUser();n(he),o(null),d({...u,currentPassword:"",newPassword:"",confirmPassword:"",passwordConfirmation:""})}else M(ae.message)}catch(ae){console.error("Erro ao atualizar perfil:",ae),M("Erro interno. Tente novamente.")}finally{me(!1)}},k=()=>{o(null),M(""),Y(""),Te({requisitos:[],isValid:!1}),e&&(d({nome:e.nome,currentPassword:"",newPassword:"",confirmPassword:"",foto:e.foto,passwordConfirmation:""}),p(e.foto))};return e?w.jsxs("div",{className:"settings-app",children:[w.jsx(xh,{}),w.jsx("main",{className:"settings-main",children:w.jsxs("div",{className:"settings-container",children:[w.jsxs("div",{className:"settings-header",children:[w.jsxs("button",{onClick:()=>s("/home"),className:"back-button",children:[w.jsx(Px,{size:20}),"Voltar"]}),w.jsx("h1",{children:"Meu Perfil"})]}),J&&w.jsx("div",{className:"error-message",children:J}),te&&w.jsx("div",{className:"success-message",children:te}),w.jsxs("div",{className:"settings-content",children:[w.jsxs("div",{className:"settings-section",children:[w.jsxs("div",{className:"section-header",children:[w.jsx("h3",{children:"Nome"}),a!=="nome"&&w.jsx("button",{onClick:()=>o("nome"),className:"edit-btn",children:"Editar"})]}),a==="nome"?w.jsxs("form",{onSubmit:N,className:"edit-form",children:[w.jsx("input",{type:"text",name:"nome",placeholder:"Novo nome",value:u.nome,onChange:O,maxLength:"16",required:!0,disabled:se}),w.jsx("div",{className:"password-input-container",children:w.jsx("input",{type:"password",name:"passwordConfirmation",placeholder:"Confirme sua senha para salvar",value:u.passwordConfirmation,onChange:O,required:!0,disabled:se})}),w.jsxs("div",{className:"form-actions",children:[w.jsx("button",{type:"submit",disabled:se,className:"save-btn",children:se?"Salvando...":"Salvar"}),w.jsx("button",{type:"button",onClick:k,className:"cancel-btn",children:"Cancelar"})]})]}):w.jsx("p",{className:"current-value",children:e.nome})]}),w.jsxs("div",{className:"settings-section",children:[w.jsxs("div",{className:"section-header",children:[w.jsx("h3",{children:"Senha"}),a!=="senha"&&w.jsx("button",{onClick:()=>o("senha"),className:"edit-btn",children:"Alterar"})]}),a==="senha"?w.jsxs("form",{onSubmit:N,className:"edit-form",children:[w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:y?"text":"password",name:"currentPassword",placeholder:"Senha atual",value:u.currentPassword,onChange:O,required:!0,disabled:se}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>E(!y),children:y?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]}),w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:T?"text":"password",name:"newPassword",placeholder:"Nova senha",value:u.newPassword,onChange:O,required:!0,disabled:se,minLength:"8",maxLength:"16"}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>R(!T),children:T?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]}),u.newPassword&&w.jsxs("div",{className:"senha-requisitos",children:[w.jsx("p",{className:"requisitos-titulo",children:"Requisitos da nova senha:"}),ue.requisitos.map((b,ae)=>w.jsxs("div",{className:`requisito ${b.atendido?"atendido":"pendente"}`,children:[w.jsx("span",{className:"requisito-icon",children:b.atendido?"✓":"✗"}),w.jsx("span",{className:"requisito-texto",children:b.texto})]},ae))]}),w.jsxs("div",{className:"password-input-container",children:[w.jsx("input",{type:U?"text":"password",name:"confirmPassword",placeholder:"Confirmar nova senha",value:u.confirmPassword,onChange:O,required:!0,disabled:se,minLength:"8",maxLength:"16"}),w.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>X(!U),children:U?w.jsx(uo,{size:20}):w.jsx(co,{size:20})})]}),u.confirmPassword&&u.newPassword!==u.confirmPassword&&w.jsx("small",{className:"senha-erro",children:"As senhas não coincidem"}),w.jsxs("div",{className:"form-actions",children:[w.jsx("button",{type:"submit",disabled:se||!ue.isValid,className:"save-btn",children:se?"Salvando...":"Salvar"}),w.jsx("button",{type:"button",onClick:k,className:"cancel-btn",children:"Cancelar"})]})]}):w.jsx("p",{className:"current-value",children:"••••••••"})]}),w.jsxs("div",{className:"settings-section",children:[w.jsxs("div",{className:"section-header",children:[w.jsx("h3",{children:"Foto de Perfil"}),a!=="foto"&&w.jsx("button",{onClick:()=>o("foto"),className:"edit-btn",children:"Alterar"})]}),a==="foto"?w.jsxs("form",{onSubmit:N,className:"edit-form",children:[w.jsxs("div",{className:"foto-upload-container",children:[m&&w.jsx("div",{className:"foto-preview",children:w.jsx("img",{src:m,alt:"Preview",className:"foto-preview-img"})}),w.jsx("input",{type:"file",id:"foto",accept:"image/*",onChange:C,disabled:se,className:"foto-input"}),w.jsx("label",{htmlFor:"foto",className:"foto-label",children:m?"Trocar foto":"Escolher foto"})]}),w.jsx("div",{className:"password-input-container",children:w.jsx("input",{type:"password",name:"passwordConfirmation",placeholder:"Confirme sua senha para salvar",value:u.passwordConfirmation,onChange:O,required:!0,disabled:se})}),w.jsxs("div",{className:"form-actions",children:[w.jsx("button",{type:"submit",disabled:se,className:"save-btn",children:se?"Salvando...":"Salvar"}),w.jsx("button",{type:"button",onClick:k,className:"cancel-btn",children:"Cancelar"})]})]}):w.jsx("div",{className:"current-photo",children:w.jsx("img",{src:e.foto||Ka,alt:"Foto atual",className:"current-photo-img"})})]})]})]})})]}):w.jsx("div",{children:"Carregando..."})};function oN(){return w.jsx(Vw,{basename:"/quizods-testesoftware",children:w.jsx("div",{className:"app-container",children:w.jsxs(cw,{children:[w.jsx(Jr,{path:"/",element:w.jsx(Ix,{})}),w.jsx(Jr,{path:"/cadastro",element:w.jsx(Dx,{})}),w.jsx(Jr,{path:"/home",element:w.jsx(sN,{})}),w.jsx(Jr,{path:"/quiz/:odsId",element:w.jsx(aN,{})}),w.jsx(Jr,{path:"/perfil",element:w.jsx(rN,{})})]})})})}_T.createRoot(document.getElementById("root")).render(w.jsx(j.StrictMode,{children:w.jsx(oN,{})}));
